const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-De7yo5w0.js","assets/vendor-Bg0znbu-.js"])))=>i.map(i=>d[i]);
var Hc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import{r as g,a as Wc,R as Kc,g as Jc,c as Ee,b as Oe,d as da}from"./vendor-Bg0znbu-.js";import{l as Qc}from"./socket-TjCxX7sJ.js";var Qy=Hc((fv,_s)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var ha={exports:{}},sn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=g,Xc=Symbol.for("react.element"),Zc=Symbol.for("react.fragment"),eu=Object.prototype.hasOwnProperty,tu=Yc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,su={key:!0,ref:!0,__self:!0,__source:!0};function fa(t,e,s){var n,r={},i=null,o=null;s!==void 0&&(i=""+s),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)eu.call(e,n)&&!su.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:Xc,type:t,key:i,ref:o,props:r,_owner:tu.current}}sn.Fragment=Zc;sn.jsx=fa;sn.jsxs=fa;ha.exports=sn;var a=ha.exports,ma,bi=Wc;ma=bi.createRoot,bi.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},rs.apply(this,arguments)}var Ye;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ye||(Ye={}));const wi="popstate";function nu(t){t===void 0&&(t={});function e(n,r){let{pathname:i,search:o,hash:l}=n.location;return Yn("",{pathname:i,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function s(n,r){return typeof r=="string"?r:qs(r)}return iu(e,s,null,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ru(){return Math.random().toString(36).substr(2,8)}function ji(t,e){return{usr:t.state,key:t.key,idx:e}}function Yn(t,e,s,n){return s===void 0&&(s=null),rs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lt(e):e,{state:s,key:e&&e.key||n||ru()})}function qs(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lt(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function iu(t,e,s,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:i=!1}=n,o=r.history,l=Ye.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(rs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ye.Pop;let p=d(),w=p==null?null:p-u;u=p,c&&c({action:l,location:y.location,delta:w})}function f(p,w){l=Ye.Push;let j=Yn(y.location,p,w);u=d()+1;let S=ji(j,u),P=y.createHref(j);try{o.pushState(S,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(P)}i&&c&&c({action:l,location:y.location,delta:1})}function m(p,w){l=Ye.Replace;let j=Yn(y.location,p,w);u=d();let S=ji(j,u),P=y.createHref(j);o.replaceState(S,"",P),i&&c&&c({action:l,location:y.location,delta:0})}function x(p){let w=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof p=="string"?p:qs(p);return j=j.replace(/ $/,"%20"),ce(w,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,w)}let y={get action(){return l},get location(){return t(r,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(wi,h),c=p,()=>{r.removeEventListener(wi,h),c=null}},createHref(p){return e(r,p)},createURL:x,encodeLocation(p){let w=x(p);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(p){return o.go(p)}};return y}var Si;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Si||(Si={}));function ou(t,e,s){s===void 0&&(s="/");let n=typeof e=="string"?Lt(e):e,r=kr(n.pathname||"/",s);if(r==null)return null;let i=ga(t);au(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let c=xu(r);o=gu(i[l],c)}return o}function ga(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ce(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xe([n,c.relativePath]),d=s.concat(c);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ga(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:mu(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of ya(i.path))r(i,o,c)}),e}function ya(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,r=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let o=ya(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function au(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:pu(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const lu=/^:[\w-]+$/,cu=3,uu=2,du=1,hu=10,fu=-2,_i=t=>t==="*";function mu(t,e){let s=t.split("/"),n=s.length;return s.some(_i)&&(n+=fu),e&&(n+=uu),s.filter(r=>!_i(r)).reduce((r,i)=>r+(lu.test(i)?cu:i===""?du:hu),n)}function pu(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function gu(t,e){let{routesMeta:s}=t,n={},r="/",i=[];for(let o=0;o<s.length;++o){let l=s[o],c=o===s.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=yu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(n,d.params);let h=l.route;i.push({params:n,pathname:Xe([r,d.pathname]),pathnameBase:Su(Xe([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=Xe([r,d.pathnameBase]))}return i}function yu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=vu(t.path,t.caseSensitive,t.end),r=e.match(s);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function vu(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function xu(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function bu(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:r=""}=typeof t=="string"?Lt(t):t;return{pathname:s?s.startsWith("/")?s:wu(s,e):e,search:_u(n),hash:Tu(r)}}function wu(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function Tn(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ju(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function va(t,e){let s=ju(t);return e?s.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function xa(t,e,s,n){n===void 0&&(n=!1);let r;typeof t=="string"?r=Lt(t):(r=rs({},t),ce(!r.pathname||!r.pathname.includes("?"),Tn("?","pathname","search",r)),ce(!r.pathname||!r.pathname.includes("#"),Tn("#","pathname","hash",r)),ce(!r.search||!r.search.includes("#"),Tn("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=s;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=bu(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Xe=t=>t.join("/").replace(/\/\/+/g,"/"),Su=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_u=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Tu=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ba=["post","put","patch","delete"];new Set(ba);const ku=["get",...ba];new Set(ku);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},is.apply(this,arguments)}const Pr=g.createContext(null),Pu=g.createContext(null),ft=g.createContext(null),nn=g.createContext(null),mt=g.createContext({outlet:null,matches:[],isDataRoute:!1}),wa=g.createContext(null);function Au(t,e){let{relative:s}=e===void 0?{}:e;fs()||ce(!1);let{basename:n,navigator:r}=g.useContext(ft),{hash:i,pathname:o,search:l}=Sa(t,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:Xe([n,o])),r.createHref({pathname:c,search:l,hash:i})}function fs(){return g.useContext(nn)!=null}function ms(){return fs()||ce(!1),g.useContext(nn).location}function ja(t){g.useContext(ft).static||g.useLayoutEffect(t)}function Ar(){let{isDataRoute:t}=g.useContext(mt);return t?Uu():Eu()}function Eu(){fs()||ce(!1);let t=g.useContext(Pr),{basename:e,future:s,navigator:n}=g.useContext(ft),{matches:r}=g.useContext(mt),{pathname:i}=ms(),o=JSON.stringify(va(r,s.v7_relativeSplatPath)),l=g.useRef(!1);return ja(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=xa(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Xe([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}function Sa(t,e){let{relative:s}=e===void 0?{}:e,{future:n}=g.useContext(ft),{matches:r}=g.useContext(mt),{pathname:i}=ms(),o=JSON.stringify(va(r,n.v7_relativeSplatPath));return g.useMemo(()=>xa(t,JSON.parse(o),i,s==="path"),[t,o,i,s])}function Nu(t,e){return Ru(t,e)}function Ru(t,e,s,n){fs()||ce(!1);let{navigator:r}=g.useContext(ft),{matches:i}=g.useContext(mt),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ms(),d;if(e){var h;let p=typeof e=="string"?Lt(e):e;c==="/"||(h=p.pathname)!=null&&h.startsWith(c)||ce(!1),d=p}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let p=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=ou(t,{pathname:m}),y=Du(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:Xe([c,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:Xe([c,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,s,n);return e&&y?g.createElement(nn.Provider,{value:{location:is({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ye.Pop}},y):y}function Iu(){let t=Bu(),e=Cu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),s?g.createElement("pre",{style:r},s):null,null)}const Mu=g.createElement(Iu,null);class Ou extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?g.createElement(mt.Provider,{value:this.props.routeContext},g.createElement(wa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lu(t){let{routeContext:e,match:s,children:n}=t,r=g.useContext(Pr);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(mt.Provider,{value:e},n)}function Du(t,e,s,n){var r;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var i;if((i=s)!=null&&i.errors)t=s.matches;else return null}let o=t,l=(r=s)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));d>=0||ce(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=s,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,y=null,p=null;s&&(m=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||Mu,c&&(u<0&&f===0?(x=!0,p=null):u===f&&(x=!0,p=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),j=()=>{let S;return m?S=y:x?S=p:h.route.Component?S=g.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,g.createElement(Lu,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:s!=null},children:S})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(Ou,{location:s.location,revalidation:s.revalidation,component:y,error:m,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):j()},null)}var _a=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_a||{}),zs=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zs||{});function $u(t){let e=g.useContext(Pr);return e||ce(!1),e}function Fu(t){let e=g.useContext(Pu);return e||ce(!1),e}function Vu(t){let e=g.useContext(mt);return e||ce(!1),e}function Ta(t){let e=Vu(),s=e.matches[e.matches.length-1];return s.route.id||ce(!1),s.route.id}function Bu(){var t;let e=g.useContext(wa),s=Fu(zs.UseRouteError),n=Ta(zs.UseRouteError);return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function Uu(){let{router:t}=$u(_a.UseNavigateStable),e=Ta(zs.UseNavigateStable),s=g.useRef(!1);return ja(()=>{s.current=!0}),g.useCallback(function(r,i){i===void 0&&(i={}),s.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,is({fromRouteId:e},i)))},[t,e])}function Fs(t){ce(!1)}function qu(t){let{basename:e="/",children:s=null,location:n,navigationType:r=Ye.Pop,navigator:i,static:o=!1,future:l}=t;fs()&&ce(!1);let c=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:is({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Lt(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:x="default"}=n,y=g.useMemo(()=>{let p=kr(d,c);return p==null?null:{location:{pathname:p,search:h,hash:f,state:m,key:x},navigationType:r}},[c,d,h,f,m,x,r]);return y==null?null:g.createElement(ft.Provider,{value:u},g.createElement(nn.Provider,{children:s,value:y}))}function zu(t){let{children:e,location:s}=t;return Nu(Xn(e),s)}new Promise(()=>{});function Xn(t,e){e===void 0&&(e=[]);let s=[];return g.Children.forEach(t,(n,r)=>{if(!g.isValidElement(n))return;let i=[...e,r];if(n.type===g.Fragment){s.push.apply(s,Xn(n.props.children,i));return}n.type!==Fs&&ce(!1),!n.props.index||!n.props.children||ce(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Xn(n.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zn(){return Zn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Zn.apply(this,arguments)}function Gu(t,e){if(t==null)return{};var s={},n=Object.keys(t),r,i;for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&(s[r]=t[r]);return s}function Hu(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wu(t,e){return t.button===0&&(!e||e==="_self")&&!Hu(t)}const Ku=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ju="6";try{window.__reactRouterVersion=Ju}catch{}const Qu="startTransition",Ti=Kc[Qu];function Yu(t){let{basename:e,children:s,future:n,window:r}=t,i=g.useRef();i.current==null&&(i.current=nu({window:r,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(h=>{u&&Ti?Ti(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(qu,{basename:e,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const Xu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ci=g.forwardRef(function(e,s){let{onClick:n,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=Gu(e,Ku),{basename:m}=g.useContext(ft),x,y=!1;if(typeof u=="string"&&Zu.test(u)&&(x=u,Xu))try{let S=new URL(window.location.href),P=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=kr(P.pathname,m);P.origin===S.origin&&C!=null?u=C+P.search+P.hash:y=!0}catch{}let p=Au(u,{relative:r}),w=ed(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,unstable_viewTransition:h});function j(S){n&&n(S),S.defaultPrevented||w(S)}return g.createElement("a",Zn({},f,{href:x||p,onClick:y||i?n:j,ref:s,target:c}))});var ki;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ki||(ki={}));var Pi;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pi||(Pi={}));function ed(t,e){let{target:s,replace:n,state:r,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=Ar(),u=ms(),d=Sa(t,{relative:o});return g.useCallback(h=>{if(Wu(h,s)){h.preventDefault();let f=n!==void 0?n:qs(u)===qs(d);c(t,{replace:f,state:r,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,c,d,n,r,s,t,i,o,l])}const td="modulepreload",sd=function(t){return"/"+t},Ai={},At=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=sd(c),c in Ai)return;Ai[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":td,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},nd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(async()=>{const{default:n}=await Promise.resolve().then(()=>Dt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Er extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class rd extends Er{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class id extends Er{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class od extends Er{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var er;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(er||(er={}));var ad=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class ld{constructor(e,{headers:s={},customFetch:n,region:r=er.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=nd(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return ad(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let l={},{region:c}=s;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:u}).catch(x=>{throw new rd(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new id(d);if(!d.ok)throw new od(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(r){return{data:null,error:r}}})}}var be={},Nr={},rn={},ps={},on={},an={},cd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Et=cd();const ud=Et.fetch,Ca=Et.fetch.bind(Et),ka=Et.Headers,dd=Et.Request,hd=Et.Response,Dt=Object.freeze(Object.defineProperty({__proto__:null,Headers:ka,Request:dd,Response:hd,default:Ca,fetch:ud},Symbol.toStringTag,{value:"Module"})),fd=Jc(Dt);var ln={};Object.defineProperty(ln,"__esModule",{value:!0});let md=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ln.default=md;var Pa=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(an,"__esModule",{value:!0});const pd=Pa(fd),gd=Pa(ln);let yd=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,m="OK")}catch{i.status===404&&y===""?(f=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new gd.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}returns(){return this}overrideTypes(){return this}};an.default=yd;var vd=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(on,"__esModule",{value:!0});const xd=vd(an);let bd=class extends xd.default{select(e){let s=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};on.default=bd;var wd=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const jd=wd(on);let Sd=class extends jd.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};ps.default=Sd;var _d=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rn,"__esModule",{value:!0});const Ut=_d(ps);let Td=class{constructor(e,{headers:s={},schema:n,fetch:r}){this.url=e,this.headers=s,this.schema=n,this.fetch=r}select(e,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ut.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:n=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ut.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ut.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),this.headers.Prefer=r.join(","),new Ut.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ut.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};rn.default=Td;var cn={},un={};Object.defineProperty(un,"__esModule",{value:!0});un.version=void 0;un.version="0.0.0-automated";Object.defineProperty(cn,"__esModule",{value:!0});cn.DEFAULT_HEADERS=void 0;const Cd=un;cn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Cd.version}`};var Aa=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nr,"__esModule",{value:!0});const kd=Aa(rn),Pd=Aa(ps),Ad=cn;let Ed=class Ea{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ad.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new kd.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ea(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:r=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||r?(o=n?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Pd.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Nr.default=Ed;var $t=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(be,"__esModule",{value:!0});be.PostgrestError=be.PostgrestBuilder=be.PostgrestTransformBuilder=be.PostgrestFilterBuilder=be.PostgrestQueryBuilder=be.PostgrestClient=void 0;const Na=$t(Nr);be.PostgrestClient=Na.default;const Ra=$t(rn);be.PostgrestQueryBuilder=Ra.default;const Ia=$t(ps);be.PostgrestFilterBuilder=Ia.default;const Ma=$t(on);be.PostgrestTransformBuilder=Ma.default;const Oa=$t(an);be.PostgrestBuilder=Oa.default;const La=$t(ln);be.PostgrestError=La.default;var Nd=be.default={PostgrestClient:Na.default,PostgrestQueryBuilder:Ra.default,PostgrestFilterBuilder:Ia.default,PostgrestTransformBuilder:Ma.default,PostgrestBuilder:Oa.default,PostgrestError:La.default};const{PostgrestClient:Rd,PostgrestQueryBuilder:iv,PostgrestFilterBuilder:ov,PostgrestTransformBuilder:av,PostgrestBuilder:lv,PostgrestError:cv}=Nd,Id="2.11.2",Md={"X-Client-Info":`realtime-js/${Id}`},Od="1.0.0",Da=1e4,Ld=1e3;var Pt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pt||(Pt={}));var Te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Te||(Te={}));var Ie;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ie||(Ie={}));var tr;(function(t){t.websocket="websocket"})(tr||(tr={}));var ut;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ut||(ut={}));class Dd{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+r));o=o+r;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let $a=class{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const Ei=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=$d(o,t,e,r),i),{})},$d=(t,e,s,n)=>{const r=e.find(l=>l.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?Fa(i,o):sr(o)},Fa=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Ud(e,s)}switch(t){case X.bool:return Fd(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Vd(e);case X.json:case X.jsonb:return Bd(e);case X.timestamp:return qd(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return sr(e);default:return sr(e)}},sr=t=>t,Fd=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vd=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bd=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ud=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Fa(e,l))}return t},qd=t=>typeof t=="string"?t.replace(" ","T"):t,Va=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Cn{constructor(e,s,n={},r=Da){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ni;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ni||(Ni={}));class Yt{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yt.syncState(this.state,r,i,o),this.pendingDiffs.forEach(c=>{this.state=Yt.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Yt.syncDiff(this.state,r,i,o),l())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(p=>p.presence_ref),m=h.map(p=>p.presence_ref),x=d.filter(p=>m.indexOf(p.presence_ref)<0),y=h.filter(p=>f.indexOf(p.presence_ref)<0);x.length>0&&(l[u]=x),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,r(l,u,c),u.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ri;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ri||(Ri={}));var Ii;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ii||(Ii={}));var Ve;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ve||(Ve={}));class Rr{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Cn(this,Ie.join,this.params,this.timeout),this.rejoinTimer=new $a(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ie.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Yt(this),this.broadcastEndpointURL=Va(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(Ve.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ve.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&r!==void 0?r:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Ve.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let y=0;y<m;y++){const p=f[y],{filter:{event:w,schema:j,table:S,filter:P}}=p,C=d&&d[y];if(C&&C.event===w&&C.schema===j&&C.table===S&&C.filter===P)x.push(Object.assign(Object.assign({},p),{id:C.id}));else{this.unsubscribe(),e==null||e(Ve.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Ve.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Ve.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ve.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Te.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ie.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new Cn(this,Ie.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Cn(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ie;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var x,y,p;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((p=(y=m.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,y,p,w,j,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const P=m.id,C=(x=m.filter)===null||x===void 0?void 0:x.event;return P&&((y=s.ids)===null||y===void 0?void 0:y.includes(P))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((p=s.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const P=(j=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return P==="*"||P===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:y,table:p,commit_timestamp:w,type:j,errors:S}=x;f=Object.assign(Object.assign({},{schema:y,table:p,commit_timestamp:w,eventType:j,new:{},old:{},errors:S}),this._getPayloadRecords(x))}m.callback(f,n)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Rr.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ie.close,{},e)}_onError(e){this._on(Ie.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ei(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ei(e.columns,e.old_record)),s}}const zd=()=>{},Gd=typeof WebSocket<"u",Hd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wd{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Md,this.params={},this.timeout=Da,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zd,this.conn=null,this.sendBuffer=[],this.serializer=new Dd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>At(async()=>{const{default:c}=await Promise.resolve().then(()=>Dt);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${tr.websocket}`,this.httpEndpoint=Va(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $a(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Gd){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Kd(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),At(async()=>{const{default:e}=await import("./browser-De7yo5w0.js").then(s=>s.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Od}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pt.connecting:return ut.Connecting;case Pt.open:return ut.Open;case Pt.closing:return ut.Closing;default:return ut.Closed}}isConnected(){return this.connectionState()===ut.Open}channel(e,s={config:{}}){const n=new Rr(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(Ie.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ld,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ie.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([Hd],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Kd{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Ir extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function de(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Jd extends Ir{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nr extends Ir{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Qd=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Ba=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(async()=>{const{default:n}=await Promise.resolve().then(()=>Dt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Yd=()=>Qd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield At(()=>Promise.resolve().then(()=>Dt),void 0)).Response:Response}),rr=t=>{if(Array.isArray(t))return t.map(s=>rr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=rr(n)}),e};var pt=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const kn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xd=(t,e,s)=>pt(void 0,void 0,void 0,function*(){const n=yield Yd();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{e(new Jd(kn(r),t.status||500))}).catch(r=>{e(new nr(kn(r),r))}):e(new nr(kn(t),t))}),Zd=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function gs(t,e,s,n,r,i){return pt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(s,Zd(e,n,r,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Xd(c,l,n))})})}function Gs(t,e,s,n){return pt(this,void 0,void 0,function*(){return gs(t,"GET",e,s,n)})}function Je(t,e,s,n,r){return pt(this,void 0,void 0,function*(){return gs(t,"POST",e,n,r,s)})}function eh(t,e,s,n,r){return pt(this,void 0,void 0,function*(){return gs(t,"PUT",e,n,r,s)})}function th(t,e,s,n){return pt(this,void 0,void 0,function*(){return gs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Ua(t,e,s,n,r){return pt(this,void 0,void 0,function*(){return gs(t,"DELETE",e,n,r,s)})}var xe=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const sh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nh{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Ba(r)}uploadOrUpdate(e,s,n,r){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Mi),r);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(s),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(e,s,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:Mi.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(de(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield Je(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ir("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}update(e,s,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return xe(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}copy(e,s,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Je(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return xe(this,void 0,void 0,function*(){try{const r=yield Je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}download(e,s){return xe(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Gs(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}})}info(e){return xe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Gs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:rr(n),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}exists(e){return xe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield th(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(de(n)&&n instanceof nr){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}list(e,s,n){return xe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},sh),s),{prefix:e||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const rh="2.7.1",ih={"X-Client-Info":`storage-js/${rh}`};var vt=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class oh{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},ih),s),this.fetch=Ba(n)}listBuckets(){return vt(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}getBucket(e){return vt(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return vt(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return vt(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}emptyBucket(e){return vt(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}deleteBucket(e){return vt(this,void 0,void 0,function*(){try{return{data:yield Ua(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}}class ah extends oh{constructor(e,s={},n){super(e,s,n)}from(e){return new nh(this.url,this.headers,e,this.fetch)}}const lh="2.49.3";let Ht="";typeof Deno<"u"?Ht="deno":typeof document<"u"?Ht="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ht="react-native":Ht="node";const ch={"X-Client-Info":`supabase-js-${Ht}/${lh}`},uh={headers:ch},dh={schema:"public"},hh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fh={};var mh=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ca:e=fetch,(...s)=>e(...s)},gh=()=>typeof Headers>"u"?ka:Headers,yh=(t,e,s)=>{const n=ph(s),r=gh();return(i,o)=>mh(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var vh=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function xh(t){return t.replace(/\/$/,"")}function bh(t,e){const{db:s,auth:n,realtime:r,global:i}=t,{db:o,auth:l,realtime:c,global:u}=e,d={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>vh(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const qa="2.69.1",wt=30*1e3,ir=3,Pn=ir*wt,wh="http://localhost:9999",jh="supabase.auth.token",Sh={"X-Client-Info":`gotrue-js/${qa}`},or="X-Supabase-Api-Version",za={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_h=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Th=6e5;class Mr extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ch extends Mr{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function kh(t){return V(t)&&t.name==="AuthApiError"}class Ga extends Mr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class st extends Mr{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class He extends st{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ph(t){return V(t)&&t.name==="AuthSessionMissingError"}class An extends st{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ps extends st{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class As extends st{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ah(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class Oi extends st{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ar extends st{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function En(t){return V(t)&&t.name==="AuthRetryableFetchError"}class Li extends st{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Xt extends st{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$i=` 	
\r=`.split(""),Eh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$i.length;e+=1)t[$i[e].charCodeAt(0)]=-2;for(let e=0;e<Di.length;e+=1)t[Di[e].charCodeAt(0)]=e;return t})();function Ha(t,e,s){const n=Eh[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{Ih(o,n,s)};for(let o=0;o<t.length;o+=1)Ha(t.charCodeAt(o),r,i);return e.join("")}function Nh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Rh(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}Nh(n,e)}}function Ih(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Mh(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Ha(t.charCodeAt(r),s,n);return new Uint8Array(e)}function Oh(t){const e=[];return Rh(t,s=>e.push(s)),new Uint8Array(e)}function Lh(t){return Math.round(Date.now()/1e3)+t}function Dh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Le=()=>typeof window<"u"&&typeof document<"u",it={tested:!1,writable:!1},Zt=()=>{if(!Le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(it.tested)return it.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),it.tested=!0,it.writable=!0}catch{it.tested=!0,it.writable=!1}return it.writable};function $h(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const Wa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(async()=>{const{default:n}=await Promise.resolve().then(()=>Dt);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Fh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ka=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Es=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ns=async(t,e)=>{await t.removeItem(e)};class dn{constructor(){this.promise=new dn.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}dn.promiseConstructor=Promise;function Nn(t){const e=t.split(".");if(e.length!==3)throw new Xt("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!_h.test(e[n]))throw new Xt("JWT not in base64url format");return{header:JSON.parse(Fi(e[0])),payload:JSON.parse(Fi(e[1])),signature:Mh(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Bh(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function Uh(t){return("0"+t.toString(16)).substr(-2)}function qh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Uh).join("")}async function zh(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Gh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await zh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xt(t,e,s=!1){const n=qh();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Ka(t,`${e}-code-verifier`,r);const i=await Gh(n);return[i,n===i?"plain":"s256"]}const Hh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wh(t){const e=t.headers.get(or);if(!e||!e.match(Hh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Kh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Jh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Qh=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const at=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yh=[502,503,504];async function Vi(t){var e;if(!Fh(t))throw new ar(at(t),0);if(Yh.includes(t.status))throw new ar(at(t),t.status);let s;try{s=await t.json()}catch(i){throw new Ga(at(i),i)}let n;const r=Wh(t);if(r&&r.getTime()>=za["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Li(at(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new He}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Li(at(s),t.status,s.weak_password.reasons);throw new Ch(at(s),t.status||500,n)}const Xh=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function G(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[or]||(i[or]=za["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Zh(t,e,s+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Zh(t,e,s,n,r,i){const o=Xh(e,n,r,i);let l;try{l=await t(s,Object.assign({},o))}catch(c){throw console.error(c),new ar(at(c),0)}if(l.ok||await Vi(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Vi(c)}}function We(t){var e;let s=null;nf(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Lh(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Bi(t){const e=We(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ef(t){return{data:t,error:null}}function tf(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=Qh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function sf(t){return t}function nf(t){return t.access_token&&t.refresh_token&&t.expires_in}var rf=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class of{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=Wa(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Qe})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=rf(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:tf,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(V(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qe})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:sf});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(x.split(";")[1].split("=")[1]);u[`${p}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(V(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qe})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Qe})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Qe})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(V(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}}const af={getItem:t=>Zt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Zt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Zt()&&globalThis.localStorage.removeItem(t)}};function Ui(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function lf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bt={debug:!!(globalThis&&Zt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ja extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cf extends Ja{}async function uf(t,e,s){bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),bt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cf(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}lf();const df={url:wh,storageKey:jh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qi(t,e,s){return await s()}class os{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=os.nextInstanceID,os.nextInstanceID+=1,this.instanceID>0&&Le()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},df),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new of({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Wa(r.fetch),this.lock=r.lock||qi,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Le()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=uf:this.lock=qi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Zt()?this.storage=af:(this.memoryStorage={},this.storage=Ui(this.memoryStorage)):(this.memoryStorage={},this.storage=Ui(this.memoryStorage)),Le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=$h(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Le()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ah(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return V(s)?{error:s}:{error:new Ga("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:We}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await xt(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:x},xform:We})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:We})}else throw new Ps("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:l}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bi})}else if("phone"in e){const{phone:i,password:o,options:l}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bi})}else throw new Ps("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new An}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Es(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:We});if(await Ns(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new An}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,l=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:We}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new An}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xt(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ps("You must provide either an email or phone number.")}catch(l){if(V(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:We});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await xt(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ef})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new He;const{error:r}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await G(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:l}=await G(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ps("You must provide either an email or phone number and a type")}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Pn:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qe}):await this._useSession(async s=>{var n,r,i;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new He}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Qe})})}catch(s){if(V(s))return Ph(s)&&(await this._removeSession(),await Ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new He;const o=r.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await xt(this.storage,this.storageKey));const{data:u,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Qe});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new He;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=Nn(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(V(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:l}=s;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new He;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Le())throw new As("No browser detected.");if(e.error||e.error_description||e.error_code)throw new As(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Oi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Oi("No code detected.");const{data:j,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=wt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:y,error:p}=await this._getUser(i);if(p)throw p;const w={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(V(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(kh(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Dh(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await xt(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return Le()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(V(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Bh(async r=>(r>0&&await Vh(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:We})),(r,i)=>{const o=200*Math.pow(2,r);return i&&En(i)&&Date.now()+o-n<wt})}catch(n){if(this._debug(s,"error",n),V(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Le()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Es(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Pn;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Pn}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),En(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new He;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new dn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new He;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),V(i)){const o={session:null,error:i};return En(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ka(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ns(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Le()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/wt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${wt}ms, refresh threshold is ${ir} ticks`),r<=ir&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ja)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Le()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await xt(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(V(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(V(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Nn(r.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Th>Date.now()))return n;const{data:r,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Xt("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(o=>o.kid===e),!n)throw new Xt("No matching signing key found in JWKS");return n}async getClaims(e,s={keys:[]}){try{let n=e;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:r,payload:i,signature:o,raw:{header:l,payload:c}}=Nn(n);if(Kh(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:r,signature:o},error:null}}const u=Jh(r.alg),d=await this.fetchJwk(r.kid,s),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Oh(`${l}.${c}`)))throw new Xt("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}os.nextInstanceID=0;const hf=os;class ff extends hf{constructor(e){super(e)}}var mf=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class pf{constructor(e,s,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=xh(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:dh,realtime:fh,auth:Object.assign(Object.assign({},hh),{storageKey:c}),global:uh},d=bh(n??{},u);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=yh(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Rd(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new ld(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ah(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return mf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ff({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Wd(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gf=(t,e,s)=>new pf(t,e,s),yf="https://zfkjvbhkroowlyqebvyh.supabase.co",vf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpma2p2Ymhrcm9vd2x5cWVidnloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1NTY2NTYsImV4cCI6MjA1ODEzMjY1Nn0.ULHVkpGVQOqMckICZUsdhnPu4TMQYBxLkzZW4eVNOw4",xf=gf(yf,vf,{auth:{autoRefreshToken:!0,persistSession:!0},global:{headers:{"X-Client-Info":"sports-quiz-app"}}}),Wt=new Map,bf=5*60*1e3,Rs=new Map,Is={football:[{id:"fb1",category:"football",question:"Which country won the 2022 FIFA World Cup?",options:["France","Brazil","Argentina","Germany"],correctAnswer:"Argentina"},{id:"fb2",category:"football",question:"Who holds the record for most goals in World Cup history?",options:["Pel","Miroslav Klose","Ronaldo","Just Fontaine"],correctAnswer:"Miroslav Klose"},{id:"fb3",category:"football",question:"Which team has won the most UEFA Champions League titles?",options:["Real Madrid","AC Milan","Bayern Munich","Liverpool"],correctAnswer:"Real Madrid"}],basketball:[{id:"bb1",category:"basketball",question:"Which NBA team has won the most championships?",options:["Los Angeles Lakers","Boston Celtics","Chicago Bulls","Golden State Warriors"],correctAnswer:"Boston Celtics"},{id:"bb2",category:"basketball",question:"Who holds the NBA record for most points in a single game?",options:["Michael Jordan","Kobe Bryant","Wilt Chamberlain","LeBron James"],correctAnswer:"Wilt Chamberlain"},{id:"bb3",category:"basketball",question:"Who is the NBA's all-time leading scorer?",options:["Kareem Abdul-Jabbar","LeBron James","Michael Jordan","Karl Malone"],correctAnswer:"LeBron James"}],tennis:[{id:"tn1",category:"tennis",question:"Who has won the most Grand Slam singles titles in tennis history?",options:["Roger Federer","Rafael Nadal","Novak Djokovic","Serena Williams"],correctAnswer:"Novak Djokovic"},{id:"tn2",category:"tennis",question:"Which Grand Slam tournament is played on clay courts?",options:["Wimbledon","US Open","French Open","Australian Open"],correctAnswer:"French Open"},{id:"tn3",category:"tennis",question:"Who holds the record for most Wimbledon singles titles?",options:["Roger Federer","Novak Djokovic","Pete Sampras","Bjrn Borg"],correctAnswer:"Roger Federer"}],olympics:[{id:"ol1",category:"olympics",question:"Which city hosted the 2020 Summer Olympics (held in 2021)?",options:["Paris","Tokyo","London","Rio de Janeiro"],correctAnswer:"Tokyo"},{id:"ol2",category:"olympics",question:"Who is the most decorated Olympian of all time?",options:["Usain Bolt","Michael Phelps","Simone Biles","Carl Lewis"],correctAnswer:"Michael Phelps"},{id:"ol3",category:"olympics",question:"Which country has won the most Summer Olympic medals?",options:["Soviet Union","United States","China","Germany"],correctAnswer:"United States"}],mixed:[{id:"mx1",category:"mixed",question:"Which sport uses a shuttlecock?",options:["Tennis","Badminton","Cricket","Hockey"],correctAnswer:"Badminton"},{id:"mx2",category:"mixed",question:"In which sport would you perform a slam dunk?",options:["Volleyball","Basketball","Tennis","Football"],correctAnswer:"Basketball"},{id:"mx3",category:"mixed",question:"What is the diameter of a basketball hoop in inches?",options:["16 inches","18 inches","20 inches","24 inches"],correctAnswer:"18 inches"}]};function zi(t){if(t==="mixed"){const s=[],n=["football","basketball","tennis","olympics"];for(const r of n){const o=[...Is[r]].sort(()=>Math.random()-.5);s.push(...o.slice(0,2))}return s.push(...Is.mixed),s.sort(()=>Math.random()-.5).slice(0,10).map(r=>({...r,category:"mixed"}))}const e=[...Is[t]];if(e.length<10){const s=10-e.length,n=Object.entries(Is).filter(([r])=>r!==t).flatMap(([,r])=>r).sort(()=>Math.random()-.5).slice(0,s).map(r=>({...r,category:t}));e.push(...n)}return e.slice(0,10).map(s=>({...s,category:t}))}async function wf(t){console.log(`Fetching questions for category: ${t}`);const e=`pending_${t}`;if(Rs.has(e))return console.log("Request already in progress for category:",t),Rs.get(e);const s=`questions_${t}`,n=Wt.get(s);if(n&&Date.now()-n.timestamp<bf)return console.log("Using cached questions for category:",t),n.data;const r=(async()=>{try{console.log("Fetching questions from Supabase...");let i=xf.from("questions").select("*").eq("active",!0);t!=="mixed"&&(i=i.eq("category",t));const{data:o,error:l}=await i;if(l)throw console.error("Supabase query error:",l),l;if(!o||o.length===0){console.warn("No questions found in Supabase, using fallback questions");const u=zi(t);return Wt.set(s,{data:u,timestamp:Date.now()}),u}const c=o.map(u=>({id:u.id,category:u.category,question:u.question,options:u.options,correctAnswer:u.correct_answer})).sort(()=>Math.random()-.5).slice(0,10);return Wt.set(s,{data:c,timestamp:Date.now()}),c}catch(i){console.error("Error fetching questions:",i);const o=zi(t);return Wt.set(s,{data:o,timestamp:Date.now()}),o}finally{Rs.delete(e)}})();return Rs.set(e,r),r}function Qa(){Wt.clear(),console.log("Question cache cleared")}class jf extends g.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleRetry=()=>{Qa(),this.setState({hasError:!1,error:null}),window.location.reload()}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Uncaught error:",e,s)}render(){var e;return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 max-w-md w-full text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Oops! Something went wrong."}),a.jsx("p",{className:"text-gray-400 mb-6",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred."}),a.jsx("button",{onClick:this.handleRetry,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded transition-colors",children:"Try Again"})]})}):this.props.children}}const Or=g.createContext({});function Lr(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const hn=g.createContext(null),Dr=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Sf extends g.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _f({children:t,isPresent:e}){const s=g.useId(),n=g.useRef(null),r=g.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=g.useContext(Dr);return g.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=r.current;if(e||!n.current||!o||!l)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),a.jsx(Sf,{isPresent:e,childRef:n,sizeRef:r,children:g.cloneElement(t,{ref:n})})}const Tf=({children:t,initial:e,isPresent:s,onExitComplete:n,custom:r,presenceAffectsLayout:i,mode:o})=>{const l=Lr(Cf),c=g.useId(),u=g.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),d=g.useMemo(()=>({id:c,initial:e,isPresent:s,custom:r,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[s,u]);return g.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[s]),g.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),o==="popLayout"&&(t=a.jsx(_f,{isPresent:s,children:t})),a.jsx(hn.Provider,{value:d,children:t})};function Cf(){return new Map}function Ya(t=!0){const e=g.useContext(hn);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=e,i=g.useId();g.useEffect(()=>{t&&r(i)},[t]);const o=g.useCallback(()=>t&&n&&n(i),[i,n,t]);return!s&&n?[!1,o]:[!0]}const Ms=t=>t.key||"";function Gi(t){const e=[];return g.Children.forEach(t,s=>{g.isValidElement(s)&&e.push(s)}),e}const $r=typeof window<"u",Xa=$r?g.useLayoutEffect:g.useEffect,Me=({children:t,custom:e,initial:s=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=Ya(o),u=g.useMemo(()=>Gi(t),[t]),d=o&&!l?[]:u.map(Ms),h=g.useRef(!0),f=g.useRef(u),m=Lr(()=>new Map),[x,y]=g.useState(u),[p,w]=g.useState(u);Xa(()=>{h.current=!1,f.current=u;for(let P=0;P<p.length;P++){const C=Ms(p[P]);d.includes(C)?m.delete(C):m.get(C)!==!0&&m.set(C,!1)}},[p,d.length,d.join("-")]);const j=[];if(u!==x){let P=[...u];for(let C=0;C<p.length;C++){const k=p[C],R=Ms(k);d.includes(R)||(P.splice(C,0,k),j.push(k))}i==="wait"&&j.length&&(P=j),w(Gi(P)),y(u);return}const{forceRender:S}=g.useContext(Or);return a.jsx(a.Fragment,{children:p.map(P=>{const C=Ms(P),k=o&&!l?!1:u===p||d.includes(C),R=()=>{if(m.has(C))m.set(C,!0);else return;let A=!0;m.forEach(W=>{W||(A=!1)}),A&&(S==null||S(),w(f.current),o&&(c==null||c()),n&&n())};return a.jsx(Tf,{isPresent:k,initial:!h.current||s?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:r,mode:i,onExitComplete:k?void 0:R,children:P},C)})})},Ce=t=>t;let lr=Ce;function Fr(t){let e;return()=>(e===void 0&&(e=t()),e)}const Nt=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n},Be=t=>t*1e3,Ue=t=>t/1e3,kf={skipAnimations:!1,useManualTiming:!1};function Pf(t){let e=new Set,s=new Set,n=!1,r=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&n?e:s;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{s.delete(u),i.delete(u)},process:u=>{if(o=u,n){r=!0;return}n=!0,[e,s]=[s,e],e.forEach(l),e.clear(),n=!1,r&&(r=!1,c.process(u))}};return c}const Os=["read","resolveKeyframes","update","preRender","render","postRender"],Af=40;function Za(t,e){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,o=Os.reduce((w,j)=>(w[j]=Pf(i),w),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,m=()=>{const w=performance.now();s=!1,r.delta=n?1e3/60:Math.max(Math.min(w-r.timestamp,Af),1),r.timestamp=w,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),r.isProcessing=!1,s&&e&&(n=!1,t(m))},x=()=>{s=!0,n=!0,r.isProcessing||t(m)};return{schedule:Os.reduce((w,j)=>{const S=o[j];return w[j]=(P,C=!1,k=!1)=>(s||x(),S.schedule(P,C,k)),w},{}),cancel:w=>{for(let j=0;j<Os.length;j++)o[Os[j]].cancel(w)},state:r,steps:o}}const{schedule:te,cancel:Ze,state:me,steps:Rn}=Za(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ce,!0),el=g.createContext({strict:!1}),Hi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rt={};for(const t in Hi)Rt[t]={isEnabled:e=>Hi[t].some(s=>!!e[s])};function Ef(t){for(const e in t)Rt[e]={...Rt[e],...t[e]}}const Nf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hs(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Nf.has(t)}let tl=t=>!Hs(t);function Rf(t){t&&(tl=e=>e.startsWith("on")?!Hs(e):t(e))}try{Rf(require("@emotion/is-prop-valid").default)}catch{}function If(t,e,s){const n={};for(const r in t)r==="values"&&typeof t.values=="object"||(tl(r)||s===!0&&Hs(r)||!e&&!Hs(r)||t.draggable&&r.startsWith("onDrag"))&&(n[r]=t[r]);return n}function Mf(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...n)=>t(...n);return new Proxy(s,{get:(n,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const fn=g.createContext({});function as(t){return typeof t=="string"||Array.isArray(t)}function mn(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Vr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Br=["initial",...Vr];function pn(t){return mn(t.animate)||Br.some(e=>as(t[e]))}function sl(t){return!!(pn(t)||t.variants)}function Of(t,e){if(pn(t)){const{initial:s,animate:n}=t;return{initial:s===!1||as(s)?s:void 0,animate:as(n)?n:void 0}}return t.inherit!==!1?e:{}}function Lf(t){const{initial:e,animate:s}=Of(t,g.useContext(fn));return g.useMemo(()=>({initial:e,animate:s}),[Wi(e),Wi(s)])}function Wi(t){return Array.isArray(t)?t.join(" "):t}const Df=Symbol.for("motionComponentSymbol");function jt(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $f(t,e,s){return g.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):jt(s)&&(s.current=n))},[e])}const Ur=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ff="framerAppearId",nl="data-"+Ur(Ff),{schedule:qr,cancel:dv}=Za(queueMicrotask,!1),rl=g.createContext({});function Vf(t,e,s,n,r){var i,o;const{visualElement:l}=g.useContext(fn),c=g.useContext(el),u=g.useContext(hn),d=g.useContext(Dr).reducedMotion,h=g.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:l,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=g.useContext(rl);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&Bf(h.current,s,r,m);const x=g.useRef(!1);g.useInsertionEffect(()=>{f&&x.current&&f.update(s,u)});const y=s[nl],p=g.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return Xa(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),qr.render(f.render),p.current&&f.animationState&&f.animationState.animateChanges())}),g.useEffect(()=>{f&&(!p.current&&f.animationState&&f.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,y)}),p.current=!1))}),f}function Bf(t,e,s,n){const{layoutId:r,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:il(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||l&&jt(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function il(t){if(t)return t.options.allowProjection!==!1?t.projection:il(t.parent)}function Uf({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:n,Component:r}){var i,o;t&&Ef(t);function l(u,d){let h;const f={...g.useContext(Dr),...u,layoutId:qf(u)},{isStatic:m}=f,x=Lf(u),y=n(u,m);if(!m&&$r){zf();const p=Gf(f);h=p.MeasureLayout,x.visualElement=Vf(r,y,f,e,p.ProjectionNode)}return a.jsxs(fn.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...f}):null,s(r,u,$f(y,x.visualElement,d),y,m,x.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${(o=(i=r.displayName)!==null&&i!==void 0?i:r.name)!==null&&o!==void 0?o:""})`}`;const c=g.forwardRef(l);return c[Df]=r,c}function qf({layoutId:t}){const e=g.useContext(Or).id;return e&&t!==void 0?e+"-"+t:t}function zf(t,e){g.useContext(el).strict}function Gf(t){const{drag:e,layout:s}=Rt;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Hf=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zr(t){return typeof t!="string"||t.includes("-")?!1:!!(Hf.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ki(t){const e=[{},{}];return t==null||t.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function Gr(t,e,s,n){if(typeof e=="function"){const[r,i]=Ki(n);e=e(s!==void 0?s:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=Ki(n);e=e(s!==void 0?s:t.custom,r,i)}return e}const cr=t=>Array.isArray(t),Wf=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Kf=t=>cr(t)?t[t.length-1]||0:t,ge=t=>!!(t&&t.getVelocity);function Vs(t){const e=ge(t)?t.get():t;return Wf(e)?e.toValue():e}function Jf({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},n,r,i){const o={latestValues:Qf(n,r,i,t),renderState:e()};return s&&(o.onMount=l=>s({props:n,current:l,...o}),o.onUpdate=l=>s(l)),o}const ol=t=>(e,s)=>{const n=g.useContext(fn),r=g.useContext(hn),i=()=>Jf(t,e,n,r);return s?i():Lr(i)};function Qf(t,e,s,n){const r={},i=n(t,{});for(const f in i)r[f]=Vs(i[f]);let{initial:o,animate:l}=t;const c=pn(t),u=sl(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!mn(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=Gr(t,f[m]);if(x){const{transitionEnd:y,transition:p,...w}=x;for(const j in w){let S=w[j];if(Array.isArray(S)){const P=d?S.length-1:0;S=S[P]}S!==null&&(r[j]=S)}for(const j in y)r[j]=y[j]}}}return r}const Ft=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gt=new Set(Ft),al=t=>e=>typeof e=="string"&&e.startsWith(t),ll=al("--"),Yf=al("var(--"),Hr=t=>Yf(t)?Xf.test(t.split("/*")[0].trim()):!1,Xf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cl=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ze=(t,e,s)=>s>e?e:s<t?t:s,Vt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ls={...Vt,transform:t=>ze(0,1,t)},Ls={...Vt,default:1},ys=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ke=ys("deg"),De=ys("%"),D=ys("px"),Zf=ys("vh"),em=ys("vw"),Ji={...De,parse:t=>De.parse(t)/100,transform:t=>De.transform(t*100)},tm={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,backgroundPositionX:D,backgroundPositionY:D},sm={rotate:Ke,rotateX:Ke,rotateY:Ke,rotateZ:Ke,scale:Ls,scaleX:Ls,scaleY:Ls,scaleZ:Ls,skew:Ke,skewX:Ke,skewY:Ke,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:ls,originX:Ji,originY:Ji,originZ:D},Qi={...Vt,transform:Math.round},Wr={...tm,...sm,zIndex:Qi,size:D,fillOpacity:ls,strokeOpacity:ls,numOctaves:Qi},nm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rm=Ft.length;function im(t,e,s){let n="",r=!0;for(let i=0;i<rm;i++){const o=Ft[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const u=cl(l,Wr[o]);if(!c){r=!1;const d=nm[o]||o;n+=`${d}(${u}) `}s&&(e[o]=u)}}return n=n.trim(),s?n=s(e,r?"":n):r&&(n="none"),n}function Kr(t,e,s){const{style:n,vars:r,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(gt.has(c)){o=!0;continue}else if(ll(c)){r[c]=u;continue}else{const d=cl(u,Wr[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(e.transform||(o||s?n.transform=im(e,t.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const om={offset:"stroke-dashoffset",array:"stroke-dasharray"},am={offset:"strokeDashoffset",array:"strokeDasharray"};function lm(t,e,s=1,n=0,r=!0){t.pathLength=1;const i=r?om:am;t[i.offset]=D.transform(-n);const o=D.transform(e),l=D.transform(s);t[i.array]=`${o} ${l}`}function Yi(t,e,s){return typeof t=="string"?t:D.transform(e+s*t)}function cm(t,e,s){const n=Yi(e,t.x,t.width),r=Yi(s,t.y,t.height);return`${n} ${r}`}function Jr(t,{attrX:e,attrY:s,attrScale:n,originX:r,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(Kr(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:x}=t;f.transform&&(x&&(m.transform=f.transform),delete f.transform),x&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=cm(x,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),s!==void 0&&(f.y=s),n!==void 0&&(f.scale=n),o!==void 0&&lm(f,o,l,c,!1)}const Qr=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ul=()=>({...Qr(),attrs:{}}),Yr=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dl(t,{style:e,vars:s},n,r){Object.assign(t.style,e,r&&r.getProjectionStyles(n));for(const i in s)t.style.setProperty(i,s[i])}const hl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fl(t,e,s,n){dl(t,e,void 0,n);for(const r in e.attrs)t.setAttribute(hl.has(r)?r:Ur(r),e.attrs[r])}const Ws={};function um(t){Object.assign(Ws,t)}function ml(t,{layout:e,layoutId:s}){return gt.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Ws[t]||t==="opacity")}function Xr(t,e,s){var n;const{style:r}=t,i={};for(const o in r)(ge(r[o])||e.style&&ge(e.style[o])||ml(o,t)||((n=s==null?void 0:s.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=r[o]);return i}function pl(t,e,s){const n=Xr(t,e,s);for(const r in t)if(ge(t[r])||ge(e[r])){const i=Ft.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function dm(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Xi=["x","y","width","height","cx","cy","r"],hm={useVisualState:ol({scrapeMotionValuesFromProps:pl,createRenderState:ul,onUpdate:({props:t,prevProps:e,current:s,renderState:n,latestValues:r})=>{if(!s)return;let i=!!t.drag;if(!i){for(const l in r)if(gt.has(l)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let l=0;l<Xi.length;l++){const c=Xi[l];t[c]!==e[c]&&(o=!0)}o&&te.read(()=>{dm(s,n),te.render(()=>{Jr(n,r,Yr(s.tagName),t.transformTemplate),fl(s,n)})})}})},fm={useVisualState:ol({scrapeMotionValuesFromProps:Xr,createRenderState:Qr})};function gl(t,e,s){for(const n in e)!ge(e[n])&&!ml(n,s)&&(t[n]=e[n])}function mm({transformTemplate:t},e){return g.useMemo(()=>{const s=Qr();return Kr(s,e,t),Object.assign({},s.vars,s.style)},[e])}function pm(t,e){const s=t.style||{},n={};return gl(n,s,t),Object.assign(n,mm(t,e)),n}function gm(t,e){const s={},n=pm(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}function ym(t,e,s,n){const r=g.useMemo(()=>{const i=ul();return Jr(i,e,Yr(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};gl(i,t.style,t),r.style={...i,...r.style}}return r}function vm(t=!1){return(s,n,r,{latestValues:i},o)=>{const c=(zr(s)?ym:gm)(n,i,o,s),u=If(n,typeof s=="string",t),d=s!==g.Fragment?{...u,...c,ref:r}:{},{children:h}=n,f=g.useMemo(()=>ge(h)?h.get():h,[h]);return g.createElement(s,{...d,children:f})}}function xm(t,e){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...zr(n)?hm:fm,preloadedFeatures:t,useRender:vm(r),createVisualElement:e,Component:n};return Uf(o)}}function yl(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}function gn(t,e,s){const n=t.getProps();return Gr(n,e,s!==void 0?s:n.custom,t)}const bm=Fr(()=>window.ScrollTimeline!==void 0);class wm{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=s}attachTimeline(e,s){const n=this.animations.map(r=>{if(bm()&&r.attachTimeline)return r.attachTimeline(e);if(typeof s=="function")return s(r)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class jm extends wm{then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function Zr(t,e){return t?t[e]||t.default||t:void 0}const ur=2e4;function vl(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<ur;)e+=s,n=t.next(e);return e>=ur?1/0:e}function ei(t){return typeof t=="function"}function Zi(t,e){t.timeline=e,t.onfinish=null}const ti=t=>Array.isArray(t)&&typeof t[0]=="number",Sm={linearEasing:void 0};function _m(t,e){const s=Fr(t);return()=>{var n;return(n=Sm[e])!==null&&n!==void 0?n:s()}}const Ks=_m(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xl=(t,e,s=10)=>{let n="";const r=Math.max(Math.round(e/s),2);for(let i=0;i<r;i++)n+=t(Nt(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function bl(t){return!!(typeof t=="function"&&Ks()||!t||typeof t=="string"&&(t in dr||Ks())||ti(t)||Array.isArray(t)&&t.every(bl))}const Kt=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,dr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kt([0,.65,.55,1]),circOut:Kt([.55,0,1,.45]),backIn:Kt([.31,.01,.66,-.59]),backOut:Kt([.33,1.53,.69,.99])};function wl(t,e){if(t)return typeof t=="function"&&Ks()?xl(t,e):ti(t)?Kt(t):Array.isArray(t)?t.map(s=>wl(s,e)||dr.easeOut):dr[t]}const Re={x:!1,y:!1};function jl(){return Re.x||Re.y}function Tm(t,e,s){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const i=(n=void 0)!==null&&n!==void 0?n:r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Sl(t,e){const s=Tm(t),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[s,r,()=>n.abort()]}function eo(t){return e=>{e.pointerType==="touch"||jl()||t(e)}}function Cm(t,e,s={}){const[n,r,i]=Sl(t,s),o=eo(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=eo(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,r)});return n.forEach(l=>{l.addEventListener("pointerenter",o,r)}),i}const _l=(t,e)=>e?t===e?!0:_l(t,e.parentElement):!1,si=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,km=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pm(t){return km.has(t.tagName)||t.tabIndex!==-1}const Jt=new WeakSet;function to(t){return e=>{e.key==="Enter"&&t(e)}}function In(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Am=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=to(()=>{if(Jt.has(s))return;In(s,"down");const r=to(()=>{In(s,"up")}),i=()=>In(s,"cancel");s.addEventListener("keyup",r,e),s.addEventListener("blur",i,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function so(t){return si(t)&&!jl()}function Em(t,e,s={}){const[n,r,i]=Sl(t,s),o=l=>{const c=l.currentTarget;if(!so(l)||Jt.has(c))return;Jt.add(c);const u=e(l),d=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!so(m)||!Jt.has(c))&&(Jt.delete(c),typeof u=="function"&&u(m,{success:x}))},h=m=>{d(m,s.useGlobalTarget||_l(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return n.forEach(l=>{!Pm(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),l.addEventListener("focus",u=>Am(u,r),r)}),i}function Nm(t){return t==="x"||t==="y"?Re[t]?null:(Re[t]=!0,()=>{Re[t]=!1}):Re.x||Re.y?null:(Re.x=Re.y=!0,()=>{Re.x=Re.y=!1})}const Tl=new Set(["width","height","top","left","right","bottom",...Ft]);let Bs;function Rm(){Bs=void 0}const $e={now:()=>(Bs===void 0&&$e.set(me.isProcessing||kf.useManualTiming?me.timestamp:performance.now()),Bs),set:t=>{Bs=t,queueMicrotask(Rm)}};function ni(t,e){t.indexOf(e)===-1&&t.push(e)}function ri(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class ii{constructor(){this.subscriptions=[]}add(e){return ni(this.subscriptions,e),()=>ri(this.subscriptions,e)}notify(e,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,s,n);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Cl(t,e){return e?t*(1e3/e):0}const no=30,Im=t=>!isNaN(parseFloat(t));class Mm{constructor(e,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{const i=$e.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=$e.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Im(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new ii);const n=this.events[e].add(s);return e==="change"?()=>{n(),te.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$e.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>no)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,no);return Cl(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cs(t,e){return new Mm(t,e)}function Om(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,cs(s))}function Lm(t,e){const s=gn(t,e);let{transitionEnd:n={},transition:r={},...i}=s||{};i={...i,...n};for(const o in i){const l=Kf(i[o]);Om(t,o,l)}}function Dm(t){return!!(ge(t)&&t.add)}function hr(t,e){const s=t.getValue("willChange");if(Dm(s))return s.add(e)}function kl(t){return t.props[nl]}const Pl=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,$m=1e-7,Fm=12;function Vm(t,e,s,n,r){let i,o,l=0;do o=e+(s-e)/2,i=Pl(o,n,r)-t,i>0?s=o:e=o;while(Math.abs(i)>$m&&++l<Fm);return o}function vs(t,e,s,n){if(t===e&&s===n)return Ce;const r=i=>Vm(i,0,1,t,s);return i=>i===0||i===1?i:Pl(r(i),e,n)}const Al=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,El=t=>e=>1-t(1-e),Nl=vs(.33,1.53,.69,.99),oi=El(Nl),Rl=Al(oi),Il=t=>(t*=2)<1?.5*oi(t):.5*(2-Math.pow(2,-10*(t-1))),ai=t=>1-Math.sin(Math.acos(t)),Ml=El(ai),Ol=Al(ai),Ll=t=>/^0[^.\s]+$/u.test(t);function Bm(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Ll(t):!0}const es=t=>Math.round(t*1e5)/1e5,li=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Um(t){return t==null}const qm=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ci=(t,e)=>s=>!!(typeof s=="string"&&qm.test(s)&&s.startsWith(t)||e&&!Um(s)&&Object.prototype.hasOwnProperty.call(s,e)),Dl=(t,e,s)=>n=>{if(typeof n!="string")return n;const[r,i,o,l]=n.match(li);return{[t]:parseFloat(r),[e]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},zm=t=>ze(0,255,t),Mn={...Vt,transform:t=>Math.round(zm(t))},dt={test:ci("rgb","red"),parse:Dl("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+Mn.transform(t)+", "+Mn.transform(e)+", "+Mn.transform(s)+", "+es(ls.transform(n))+")"};function Gm(t){let e="",s="",n="",r="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),r=t.substring(4,5),e+=e,s+=s,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const fr={test:ci("#"),parse:Gm,transform:dt.transform},St={test:ci("hsl","hue"),parse:Dl("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+De.transform(es(e))+", "+De.transform(es(s))+", "+es(ls.transform(n))+")"},pe={test:t=>dt.test(t)||fr.test(t)||St.test(t),parse:t=>dt.test(t)?dt.parse(t):St.test(t)?St.parse(t):fr.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?dt.transform(t):St.transform(t)},Hm=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wm(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(li))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(Hm))===null||s===void 0?void 0:s.length)||0)>0}const $l="number",Fl="color",Km="var",Jm="var(",ro="${}",Qm=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function us(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(Qm,c=>(pe.test(c)?(n.color.push(i),r.push(Fl),s.push(pe.parse(c))):c.startsWith(Jm)?(n.var.push(i),r.push(Km),s.push(c)):(n.number.push(i),r.push($l),s.push(parseFloat(c))),++i,ro)).split(ro);return{values:s,split:l,indexes:n,types:r}}function Vl(t){return us(t).values}function Bl(t){const{split:e,types:s}=us(t),n=e.length;return r=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],r[o]!==void 0){const l=s[o];l===$l?i+=es(r[o]):l===Fl?i+=pe.transform(r[o]):i+=r[o]}return i}}const Ym=t=>typeof t=="number"?0:t;function Xm(t){const e=Vl(t);return Bl(t)(e.map(Ym))}const et={test:Wm,parse:Vl,createTransformer:Bl,getAnimatableNone:Xm},Zm=new Set(["brightness","contrast","saturate","opacity"]);function ep(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(li)||[];if(!n)return t;const r=s.replace(n,"");let i=Zm.has(e)?1:0;return n!==s&&(i*=100),e+"("+i+r+")"}const tp=/\b([a-z-]*)\(.*?\)/gu,mr={...et,getAnimatableNone:t=>{const e=t.match(tp);return e?e.map(ep).join(" "):t}},sp={...Wr,color:pe,backgroundColor:pe,outlineColor:pe,fill:pe,stroke:pe,borderColor:pe,borderTopColor:pe,borderRightColor:pe,borderBottomColor:pe,borderLeftColor:pe,filter:mr,WebkitFilter:mr},ui=t=>sp[t];function Ul(t,e){let s=ui(t);return s!==mr&&(s=et),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const np=new Set(["auto","none","0"]);function rp(t,e,s){let n=0,r;for(;n<t.length&&!r;){const i=t[n];typeof i=="string"&&!np.has(i)&&us(i).values.length&&(r=t[n]),n++}if(r&&s)for(const i of e)t[i]=Ul(s,r)}const io=t=>t===Vt||t===D,oo=(t,e)=>parseFloat(t.split(", ")[e]),ao=(t,e)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const r=n.match(/^matrix3d\((.+)\)$/u);if(r)return oo(r[1],e);{const i=n.match(/^matrix\((.+)\)$/u);return i?oo(i[1],t):0}},ip=new Set(["x","y","z"]),op=Ft.filter(t=>!ip.has(t));function ap(t){const e=[];return op.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const It={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ao(4,13),y:ao(5,14)};It.translateX=It.x;It.translateY=It.y;const ht=new Set;let pr=!1,gr=!1;function ql(){if(gr){const t=Array.from(ht).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const r=ap(n);r.length&&(s.set(n,r),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gr=!1,pr=!1,ht.forEach(t=>t.complete()),ht.clear()}function zl(){ht.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gr=!0)})}function lp(){zl(),ql()}class di{constructor(e,s,n,r,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ht.add(this),pr||(pr=!0,te.read(zl),te.resolveKeyframes(ql))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=r==null?void 0:r.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&s){const c=n.readValue(s,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),r&&o===void 0&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ht.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ht.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Gl=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cp=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function up(t){const e=cp.exec(t);if(!e)return[,];const[,s,n,r]=e;return[`--${s??n}`,r]}function Hl(t,e,s=1){const[n,r]=up(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return Gl(o)?parseFloat(o):o}return Hr(r)?Hl(r,e,s+1):r}const Wl=t=>e=>e.test(t),dp={test:t=>t==="auto",parse:t=>t},Kl=[Vt,D,De,Ke,em,Zf,dp],lo=t=>Kl.find(Wl(t));class Jl extends di{constructor(e,s,n,r,i){super(e,s,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Hr(u))){const d=Hl(u,s.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Tl.has(n)||e.length!==2)return;const[r,i]=e,o=lo(r),l=lo(i);if(o!==l)if(io(o)&&io(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let r=0;r<e.length;r++)Bm(e[r])&&n.push(r);n.length&&rp(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=It[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:s,name:n,unresolvedKeyframes:r}=this;if(!s||!s.current)return;const i=s.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=It[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const co=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(et.test(t)||t==="0")&&!t.startsWith("url("));function hp(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function fp(t,e,s,n){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=co(r,e),l=co(i,e);return!o||!l?!1:hp(t)||(s==="spring"||ei(s))&&n}const mp=t=>t!==null;function yn(t,{repeat:e,repeatType:s="loop"},n){const r=t.filter(mp),i=e&&s!=="loop"&&e%2===1?0:r.length-1;return!i||n===void 0?r[i]:n}const pp=40;class Ql{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$e.now(),this.options={autoplay:e,delay:s,type:n,repeat:r,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pp?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lp(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=$e.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!fp(e,n,r,i))if(o)this.options.duration=0;else{c&&c(yn(e,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,s);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...d},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const re=(t,e,s)=>t+(e-t)*s;function On(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function gp({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let r=0,i=0,o=0;if(!e)r=i=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;r=On(c,l,t+1/3),i=On(c,l,t),o=On(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Js(t,e){return s=>s>0?e:t}const Ln=(t,e,s)=>{const n=t*t,r=s*(e*e-n)+n;return r<0?0:Math.sqrt(r)},yp=[fr,dt,St],vp=t=>yp.find(e=>e.test(t));function uo(t){const e=vp(t);if(!e)return!1;let s=e.parse(t);return e===St&&(s=gp(s)),s}const ho=(t,e)=>{const s=uo(t),n=uo(e);if(!s||!n)return Js(t,e);const r={...s};return i=>(r.red=Ln(s.red,n.red,i),r.green=Ln(s.green,n.green,i),r.blue=Ln(s.blue,n.blue,i),r.alpha=re(s.alpha,n.alpha,i),dt.transform(r))},xp=(t,e)=>s=>e(t(s)),xs=(...t)=>t.reduce(xp),yr=new Set(["none","hidden"]);function bp(t,e){return yr.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function wp(t,e){return s=>re(t,e,s)}function hi(t){return typeof t=="number"?wp:typeof t=="string"?Hr(t)?Js:pe.test(t)?ho:_p:Array.isArray(t)?Yl:typeof t=="object"?pe.test(t)?ho:jp:Js}function Yl(t,e){const s=[...t],n=s.length,r=t.map((i,o)=>hi(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)s[o]=r[o](i);return s}}function jp(t,e){const s={...t,...e},n={};for(const r in s)t[r]!==void 0&&e[r]!==void 0&&(n[r]=hi(t[r])(t[r],e[r]));return r=>{for(const i in n)s[i]=n[i](r);return s}}function Sp(t,e){var s;const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],c=(s=t.values[l])!==null&&s!==void 0?s:0;n[i]=c,r[o]++}return n}const _p=(t,e)=>{const s=et.createTransformer(e),n=us(t),r=us(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?yr.has(t)&&!r.values.length||yr.has(e)&&!n.values.length?bp(t,e):xs(Yl(Sp(n,r),r.values),s):Js(t,e)};function Xl(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?re(t,e,s):hi(t)(t,e)}const Tp=5;function Zl(t,e,s){const n=Math.max(e-Tp,0);return Cl(s-t(n),e-n)}const ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dn=.001;function Cp({duration:t=ie.duration,bounce:e=ie.bounce,velocity:s=ie.velocity,mass:n=ie.mass}){let r,i,o=1-e;o=ze(ie.minDamping,ie.maxDamping,o),t=ze(ie.minDuration,ie.maxDuration,Ue(t)),o<1?(r=u=>{const d=u*o,h=d*t,f=d-s,m=vr(u,o),x=Math.exp(-h);return Dn-f/m*x},i=u=>{const h=u*o*t,f=h*s+s,m=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-h),y=vr(Math.pow(u,2),o);return(-r(u)+Dn>0?-1:1)*((f-m)*x)/y}):(r=u=>{const d=Math.exp(-u*t),h=(u-s)*t+1;return-Dn+d*h},i=u=>{const d=Math.exp(-u*t),h=(s-u)*(t*t);return d*h});const l=5/t,c=Pp(r,i,l);if(t=Be(t),isNaN(c))return{stiffness:ie.stiffness,damping:ie.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const kp=12;function Pp(t,e,s){let n=s;for(let r=1;r<kp;r++)n=n-t(n)/e(n);return n}function vr(t,e){return t*Math.sqrt(1-e*e)}const Ap=["duration","bounce"],Ep=["stiffness","damping","mass"];function fo(t,e){return e.some(s=>t[s]!==void 0)}function Np(t){let e={velocity:ie.velocity,stiffness:ie.stiffness,damping:ie.damping,mass:ie.mass,isResolvedFromDuration:!1,...t};if(!fo(t,Ep)&&fo(t,Ap))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,i=2*ze(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:ie.mass,stiffness:r,damping:i}}else{const s=Cp(t);e={...e,...s,mass:ie.mass},e.isResolvedFromDuration=!0}return e}function ec(t=ie.visualDuration,e=ie.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:r}=s;const i=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=Np({...s,velocity:-Ue(s.velocity||0)}),x=f||0,y=u/(2*Math.sqrt(c*d)),p=o-i,w=Ue(Math.sqrt(c/d)),j=Math.abs(p)<5;n||(n=j?ie.restSpeed.granular:ie.restSpeed.default),r||(r=j?ie.restDelta.granular:ie.restDelta.default);let S;if(y<1){const C=vr(w,y);S=k=>{const R=Math.exp(-y*w*k);return o-R*((x+y*w*p)/C*Math.sin(C*k)+p*Math.cos(C*k))}}else if(y===1)S=C=>o-Math.exp(-w*C)*(p+(x+w*p)*C);else{const C=w*Math.sqrt(y*y-1);S=k=>{const R=Math.exp(-y*w*k),A=Math.min(C*k,300);return o-R*((x+y*w*p)*Math.sinh(A)+C*p*Math.cosh(A))/C}}const P={calculatedDuration:m&&h||null,next:C=>{const k=S(C);if(m)l.done=C>=h;else{let R=0;y<1&&(R=C===0?Be(x):Zl(S,C,k));const A=Math.abs(R)<=n,W=Math.abs(o-k)<=r;l.done=A&&W}return l.value=l.done?o:k,l},toString:()=>{const C=Math.min(vl(P),ur),k=xl(R=>P.next(C*R).value,C,30);return C+"ms "+k}};return P}function mo({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=A=>l!==void 0&&A<l||c!==void 0&&A>c,x=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let y=s*e;const p=h+y,w=o===void 0?p:o(p);w!==p&&(y=w-h);const j=A=>-y*Math.exp(-A/n),S=A=>w+j(A),P=A=>{const W=j(A),K=S(A);f.done=Math.abs(W)<=u,f.value=f.done?w:K};let C,k;const R=A=>{m(f.value)&&(C=A,k=ec({keyframes:[f.value,x(f.value)],velocity:Zl(S,A,f.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return R(0),{calculatedDuration:null,next:A=>{let W=!1;return!k&&C===void 0&&(W=!0,P(A),R(A)),C!==void 0&&A>=C?k.next(A-C):(!W&&P(A),f)}}}const Rp=vs(.42,0,1,1),Ip=vs(0,0,.58,1),tc=vs(.42,0,.58,1),Mp=t=>Array.isArray(t)&&typeof t[0]!="number",po={linear:Ce,easeIn:Rp,easeInOut:tc,easeOut:Ip,circIn:ai,circInOut:Ol,circOut:Ml,backIn:oi,backInOut:Rl,backOut:Nl,anticipate:Il},go=t=>{if(ti(t)){lr(t.length===4);const[e,s,n,r]=t;return vs(e,s,n,r)}else if(typeof t=="string")return lr(po[t]!==void 0),po[t];return t};function Op(t,e,s){const n=[],r=s||Xl,i=t.length-1;for(let o=0;o<i;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ce:e;l=xs(c,l)}n.push(l)}return n}function Lp(t,e,{clamp:s=!0,ease:n,mixer:r}={}){const i=t.length;if(lr(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Op(e,n,r),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Nt(t[h],t[h+1],d);return l[h](f)};return s?d=>u(ze(t[0],t[i-1],d)):u}function Dp(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const r=Nt(0,e,n);t.push(re(s,1,r))}}function $p(t){const e=[0];return Dp(e,t.length-1),e}function Fp(t,e){return t.map(s=>s*e)}function Vp(t,e){return t.map(()=>e||tc).splice(0,t.length-1)}function Qs({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const r=Mp(n)?n.map(go):go(n),i={done:!1,value:e[0]},o=Fp(s&&s.length===e.length?s:$p(e),t),l=Lp(o,e,{ease:Array.isArray(r)?r:Vp(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const Bp=t=>{const e=({timestamp:s})=>t(s);return{start:()=>te.update(e,!0),stop:()=>Ze(e),now:()=>me.isProcessing?me.timestamp:$e.now()}},Up={decay:mo,inertia:mo,tween:Qs,keyframes:Qs,spring:ec},qp=t=>t/100;class fi extends Ql{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:r,keyframes:i}=this.options,o=(r==null?void 0:r.KeyframeResolver)||di,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,s,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,l=ei(s)?s:Up[s]||Qs;let c,u;l!==Qs&&typeof e[0]!="number"&&(c=xs(qp,Xl(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=vl(d));const{calculatedDuration:h}=d,f=h+r,m=f*(n+1)-r;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:x,repeatDelay:y,onUpdate:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),j=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,P=i;if(m){const A=Math.min(this.currentTime,d)/h;let W=Math.floor(A),K=A%1;!K&&A>=1&&(K=1),K===1&&W--,W=Math.min(W,m+1),!!(W%2)&&(x==="reverse"?(K=1-K,y&&(K-=y/h)):x==="mirror"&&(P=o)),S=ze(0,1,K)*h}const C=j?{done:!1,value:c[0]}:P.next(S);l&&(C.value=l(C.value));let{done:k}=C;!j&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return R&&r!==void 0&&(C.value=yn(c,this.options,r)),p&&p(C.value),R&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Ue(e.calculatedDuration):0}get time(){return Ue(this.currentTime)}set time(e){e=Be(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ue(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Bp,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),s&&s();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const zp=new Set(["opacity","clipPath","filter","transform"]);function Gp(t,e,s,{delay:n=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:s};c&&(u.offset=c);const d=wl(l,r);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Hp=Fr(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ys=10,Wp=2e4;function Kp(t){return ei(t.type)||t.type==="spring"||!bl(t.ease)}function Jp(t,e){const s=new fi({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const r=[];let i=0;for(;!n.done&&i<Wp;)n=s.sample(i),r.push(n.value),i+=Ys;return{times:void 0,keyframes:r,duration:i-Ys,ease:"linear"}}const sc={anticipate:Il,backInOut:Rl,circInOut:Ol};function Qp(t){return t in sc}class yo extends Ql{constructor(e){super(e);const{name:s,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new Jl(i,(o,l)=>this.onKeyframesResolved(o,l),s,n,r),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:n=300,times:r,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Ks()&&Qp(i)&&(i=sc[i]),Kp(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:x,...y}=this.options,p=Jp(e,y);e=p.keyframes,e.length===1&&(e[1]=e[0]),n=p.duration,r=p.times,i=p.ease,o="keyframes"}const d=Gp(l.owner.current,c,e,{...this.options,duration:n,times:r,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Zi(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(yn(e,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:r,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return Ue(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return Ue(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=Be(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return Ce;const{animation:n}=s;Zi(n,e)}return Ce}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:n,duration:r,type:i,ease:o,times:l}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,x=new fi({...m,keyframes:n,duration:r,type:i,ease:o,times:l,isGenerator:!0}),y=Be(this.time);u.setWithVelocity(x.sample(y-Ys).value,x.sample(y).value,Ys)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=s.owner.getProps();return Hp()&&n&&zp.has(n)&&!c&&!u&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}}const Yp={type:"spring",stiffness:500,damping:25,restSpeed:10},Xp=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Zp={type:"keyframes",duration:.8},eg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tg=(t,{keyframes:e})=>e.length>2?Zp:gt.has(t)?t.startsWith("scale")?Xp(e[1]):Yp:eg;function sg({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const mi=(t,e,s,n={},r,i)=>o=>{const l=Zr(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Be(c);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};sg(l)||(d={...d,...tg(t,d)}),d.duration&&(d.duration=Be(d.duration)),d.repeatDelay&&(d.repeatDelay=Be(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=yn(d.keyframes,l);if(f!==void 0)return te.update(()=>{d.onUpdate(f),d.onComplete()}),new jm([])}return!i&&yo.supports(d)?new yo(d):new fi(d)};function ng({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function nc(t,e,{delay:s=0,transitionOverride:n,type:r}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;n&&(o=n);const u=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in c){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),m=c[h];if(m===void 0||d&&ng(d,h))continue;const x={delay:s,...Zr(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const w=kl(t);if(w){const j=window.MotionHandoffAnimation(w,h,te);j!==null&&(x.startTime=j,y=!0)}}hr(t,h),f.start(mi(h,f,m,t.shouldReduceMotion&&Tl.has(h)?{type:!1}:x,t,y));const p=f.animation;p&&u.push(p)}return l&&Promise.all(u).then(()=>{te.update(()=>{l&&Lm(t,l)})}),u}function xr(t,e,s={}){var n;const r=gn(t,e,s.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const o=r?()=>Promise.all(nc(t,r,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return rg(t,e,d+u,h,f,s)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(s.delay)])}function rg(t,e,s=0,n=0,r=1,i){const o=[],l=(t.variantChildren.size-1)*n,c=r===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(ig).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(xr(u,e,{...i,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function ig(t,e){return t.sortNodePosition(e)}function og(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(i=>xr(t,i,s));n=Promise.all(r)}else if(typeof e=="string")n=xr(t,e,s);else{const r=typeof e=="function"?gn(t,e,s.custom):e;n=Promise.all(nc(t,r,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}const ag=Br.length;function rc(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?rc(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<ag;s++){const n=Br[s],r=t.props[n];(as(r)||r===!1)&&(e[n]=r)}return e}const lg=[...Vr].reverse(),cg=Vr.length;function ug(t){return e=>Promise.all(e.map(({animation:s,options:n})=>og(t,s,n)))}function dg(t){let e=ug(t),s=vo(),n=!0;const r=c=>(u,d)=>{var h;const f=gn(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:x,...y}=f;u={...u,...y,...x}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,d=rc(t.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let p=0;p<cg;p++){const w=lg[p],j=s[w],S=u[w]!==void 0?u[w]:d[w],P=as(S),C=w===c?j.isActive:null;C===!1&&(x=p);let k=S===d[w]&&S!==u[w]&&P;if(k&&n&&t.manuallyAnimateOnMount&&(k=!1),j.protectedKeys={...m},!j.isActive&&C===null||!S&&!j.prevProp||mn(S)||typeof S=="boolean")continue;const R=hg(j.prevProp,S);let A=R||w===c&&j.isActive&&!k&&P||p>x&&P,W=!1;const K=Array.isArray(S)?S:[S];let le=K.reduce(r(w),{});C===!1&&(le={});const{prevResolvedValues:he={}}=j,we={...he,...le},ne=H=>{A=!0,f.has(H)&&(W=!0,f.delete(H)),j.needsAnimating[H]=!0;const Y=t.getValue(H);Y&&(Y.liveStyle=!1)};for(const H in we){const Y=le[H],J=he[H];if(m.hasOwnProperty(H))continue;let b=!1;cr(Y)&&cr(J)?b=!yl(Y,J):b=Y!==J,b?Y!=null?ne(H):f.add(H):Y!==void 0&&f.has(H)?ne(H):j.protectedKeys[H]=!0}j.prevProp=S,j.prevResolvedValues=le,j.isActive&&(m={...m,...le}),n&&t.blockInitialAnimation&&(A=!1),A&&(!(k&&R)||W)&&h.push(...K.map(H=>({animation:H,options:{type:w}})))}if(f.size){const p={};f.forEach(w=>{const j=t.getBaseTarget(w),S=t.getValue(w);S&&(S.liveStyle=!0),p[w]=j??null}),h.push({animation:p})}let y=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(h):Promise.resolve()}function l(c,u){var d;if(s[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),s[c].isActive=u;const h=o(c);for(const f in s)s[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s,reset:()=>{s=vo(),n=!0}}}function hg(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yl(e,t):!1}function ot(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vo(){return{animate:ot(!0),whileInView:ot(),whileHover:ot(),whileTap:ot(),whileDrag:ot(),whileFocus:ot(),exit:ot()}}class nt{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fg extends nt{constructor(e){super(e),e.animationState||(e.animationState=dg(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let mg=0;class pg extends nt{constructor(){super(...arguments),this.id=mg++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);s&&!e&&r.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gg={animation:{Feature:fg},exit:{Feature:pg}};function ds(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function bs(t){return{point:{x:t.pageX,y:t.pageY}}}const yg=t=>e=>si(e)&&t(e,bs(e));function ts(t,e,s,n){return ds(t,e,yg(s),n)}const xo=(t,e)=>Math.abs(t-e);function vg(t,e){const s=xo(t.x,e.x),n=xo(t.y,e.y);return Math.sqrt(s**2+n**2)}class ic{constructor(e,s,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Fn(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=vg(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=h,{timestamp:y}=me;this.history.push({...x,timestamp:y});const{onStart:p,onMove:w}=this.handlers;f||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=$n(f,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Fn(h.type==="pointercancel"?this.lastMoveEventInfo:$n(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,p),x&&x(h,p)},!si(e))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.contextWindow=r||window;const o=bs(e),l=$n(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=me;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(e,Fn(l,this.history)),this.removeListeners=xs(ts(this.contextWindow,"pointermove",this.handlePointerMove),ts(this.contextWindow,"pointerup",this.handlePointerUp),ts(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ze(this.updatePoint)}}function $n(t,e){return e?{point:e(t.point)}:t}function bo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fn({point:t},e){return{point:t,delta:bo(t,oc(e)),offset:bo(t,xg(e)),velocity:bg(e,.1)}}function xg(t){return t[0]}function oc(t){return t[t.length-1]}function bg(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const r=oc(t);for(;s>=0&&(n=t[s],!(r.timestamp-n.timestamp>Be(e)));)s--;if(!n)return{x:0,y:0};const i=Ue(r.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-n.x)/i,y:(r.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const ac=1e-4,wg=1-ac,jg=1+ac,lc=.01,Sg=0-lc,_g=0+lc;function ke(t){return t.max-t.min}function Tg(t,e,s){return Math.abs(t-e)<=s}function wo(t,e,s,n=.5){t.origin=n,t.originPoint=re(e.min,e.max,t.origin),t.scale=ke(s)/ke(e),t.translate=re(s.min,s.max,t.origin)-t.originPoint,(t.scale>=wg&&t.scale<=jg||isNaN(t.scale))&&(t.scale=1),(t.translate>=Sg&&t.translate<=_g||isNaN(t.translate))&&(t.translate=0)}function ss(t,e,s,n){wo(t.x,e.x,s.x,n?n.originX:void 0),wo(t.y,e.y,s.y,n?n.originY:void 0)}function jo(t,e,s){t.min=s.min+e.min,t.max=t.min+ke(e)}function Cg(t,e,s){jo(t.x,e.x,s.x),jo(t.y,e.y,s.y)}function So(t,e,s){t.min=e.min-s.min,t.max=t.min+ke(e)}function ns(t,e,s){So(t.x,e.x,s.x),So(t.y,e.y,s.y)}function kg(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?re(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?re(s,t,n.max):Math.min(t,s)),t}function _o(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function Pg(t,{top:e,left:s,bottom:n,right:r}){return{x:_o(t.x,s,r),y:_o(t.y,e,n)}}function To(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function Ag(t,e){return{x:To(t.x,e.x),y:To(t.y,e.y)}}function Eg(t,e){let s=.5;const n=ke(t),r=ke(e);return r>n?s=Nt(e.min,e.max-n,t.min):n>r&&(s=Nt(t.min,t.max-r,e.min)),ze(0,1,s)}function Ng(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const br=.35;function Rg(t=br){return t===!1?t=0:t===!0&&(t=br),{x:Co(t,"left","right"),y:Co(t,"top","bottom")}}function Co(t,e,s){return{min:ko(t,e),max:ko(t,s)}}function ko(t,e){return typeof t=="number"?t:t[e]||0}const Po=()=>({translate:0,scale:1,origin:0,originPoint:0}),_t=()=>({x:Po(),y:Po()}),Ao=()=>({min:0,max:0}),ae=()=>({x:Ao(),y:Ao()});function Ae(t){return[t("x"),t("y")]}function cc({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function Ig({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Mg(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Vn(t){return t===void 0||t===1}function wr({scale:t,scaleX:e,scaleY:s}){return!Vn(t)||!Vn(e)||!Vn(s)}function lt(t){return wr(t)||uc(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uc(t){return Eo(t.x)||Eo(t.y)}function Eo(t){return t&&t!=="0%"}function Xs(t,e,s){const n=t-s,r=e*n;return s+r}function No(t,e,s,n,r){return r!==void 0&&(t=Xs(t,r,n)),Xs(t,s,n)+e}function jr(t,e=0,s=1,n,r){t.min=No(t.min,e,s,n,r),t.max=No(t.max,e,s,n,r)}function dc(t,{x:e,y:s}){jr(t.x,e.translate,e.scale,e.originPoint),jr(t.y,s.translate,s.scale,s.originPoint)}const Ro=.999999999999,Io=1.0000000000001;function Og(t,e,s,n=!1){const r=s.length;if(!r)return;e.x=e.y=1;let i,o;for(let l=0;l<r;l++){i=s[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ct(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,dc(t,o)),n&&lt(i.latestValues)&&Ct(t,i.latestValues))}e.x<Io&&e.x>Ro&&(e.x=1),e.y<Io&&e.y>Ro&&(e.y=1)}function Tt(t,e){t.min=t.min+e,t.max=t.max+e}function Mo(t,e,s,n,r=.5){const i=re(t.min,t.max,r);jr(t,e,s,i,n)}function Ct(t,e){Mo(t.x,e.x,e.scaleX,e.scale,e.originX),Mo(t.y,e.y,e.scaleY,e.scale,e.originY)}function hc(t,e){return cc(Mg(t.getBoundingClientRect(),e))}function Lg(t,e,s){const n=hc(t,s),{scroll:r}=e;return r&&(Tt(n.x,r.offset.x),Tt(n.y,r.offset.y)),n}const fc=({current:t})=>t?t.ownerDocument.defaultView:null,Dg=new WeakMap;class $g{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ae(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(bs(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nm(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ae(p=>{let w=this.getAxisMotionValue(p).get()||0;if(De.test(w)){const{projection:j}=this.visualElement;if(j&&j.layout){const S=j.layout.layoutBox[p];S&&(w=ke(S)*(parseFloat(w)/100))}}this.originPoint[p]=w}),x&&te.postRender(()=>x(d,h)),hr(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:p}=h;if(m&&this.currentDirection===null){this.currentDirection=Fg(p),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),y&&y(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Ae(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ic(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:fc(this.visualElement)})}stop(e,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&te.postRender(()=>i(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:r}=this.getProps();if(!n||!Ds(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=kg(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;s&&jt(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=Pg(r.layoutBox,s):this.constraints=!1,this.elastic=Rg(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ae(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ng(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!jt(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=Lg(n,r.root,this.visualElement.getTransformPagePoint());let o=Ag(r.layout.layoutBox,i);if(s){const l=s(Ig(o));this.hasMutatedConstraints=!!l,l&&(o=cc(l))}return o}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ae(d=>{if(!Ds(d,s,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,x={type:"inertia",velocity:n?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return hr(this.visualElement,e),n.start(mi(e,n,0,s,this.visualElement,!1))}stopAnimation(){Ae(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ae(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ae(s=>{const{drag:n}=this.getProps();if(!Ds(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(s);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[s];i.set(e[s]-re(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!jt(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ae(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=Eg({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ae(o=>{if(!Ds(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(re(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;Dg.set(this.visualElement,this);const e=this.visualElement.current,s=ts(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();jt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),te.read(n);const o=ds(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ae(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=br,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ds(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Fg(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class Vg extends nt{constructor(e){super(e),this.removeGroupControls=Ce,this.removeListeners=Ce,this.controls=new $g(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ce}unmount(){this.removeGroupControls(),this.removeListeners()}}const Oo=t=>(e,s)=>{t&&te.postRender(()=>t(e,s))};class Bg extends nt{constructor(){super(...arguments),this.removePointerDownListener=Ce}onPointerDown(e){this.session=new ic(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fc(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Oo(e),onStart:Oo(s),onMove:n,onEnd:(i,o)=>{delete this.session,r&&te.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=ts(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Us={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lo(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(D.test(t))t=parseFloat(t);else return t;const s=Lo(t,e.target.x),n=Lo(t,e.target.y);return`${s}% ${n}%`}},Ug={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,r=et.parse(t);if(r.length>5)return n;const i=et.createTransformer(t),o=typeof r[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const u=re(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}};class qg extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;um(zg),i&&(s.group&&s.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Us.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,r||e.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||te.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qr.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mc(t){const[e,s]=Ya(),n=g.useContext(Or);return a.jsx(qg,{...t,layoutGroup:n,switchLayoutGroup:g.useContext(rl),isPresent:e,safeToRemove:s})}const zg={borderRadius:{...qt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomLeftRadius:qt,borderBottomRightRadius:qt,boxShadow:Ug};function Gg(t,e,s){const n=ge(t)?t:cs(t);return n.start(mi("",n,e,s)),n.animation}function Hg(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Wg=(t,e)=>t.depth-e.depth;class Kg{constructor(){this.children=[],this.isDirty=!1}add(e){ni(this.children,e),this.isDirty=!0}remove(e){ri(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wg),this.isDirty=!1,this.children.forEach(e)}}function Jg(t,e){const s=$e.now(),n=({timestamp:r})=>{const i=r-s;i>=e&&(Ze(n),t(i-e))};return te.read(n,!0),()=>Ze(n)}const pc=["TopLeft","TopRight","BottomLeft","BottomRight"],Qg=pc.length,Do=t=>typeof t=="string"?parseFloat(t):t,$o=t=>typeof t=="number"||D.test(t);function Yg(t,e,s,n,r,i){r?(t.opacity=re(0,s.opacity!==void 0?s.opacity:1,Xg(n)),t.opacityExit=re(e.opacity!==void 0?e.opacity:1,0,Zg(n))):i&&(t.opacity=re(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<Qg;o++){const l=`border${pc[o]}Radius`;let c=Fo(e,l),u=Fo(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||$o(c)===$o(u)?(t[l]=Math.max(re(Do(c),Do(u),n),0),(De.test(u)||De.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||s.rotate)&&(t.rotate=re(e.rotate||0,s.rotate||0,n))}function Fo(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Xg=gc(0,.5,Ml),Zg=gc(.5,.95,Ce);function gc(t,e,s){return n=>n<t?0:n>e?1:s(Nt(t,e,n))}function Vo(t,e){t.min=e.min,t.max=e.max}function Pe(t,e){Vo(t.x,e.x),Vo(t.y,e.y)}function Bo(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Uo(t,e,s,n,r){return t-=e,t=Xs(t,1/s,n),r!==void 0&&(t=Xs(t,1/r,n)),t}function e0(t,e=0,s=1,n=.5,r,i=t,o=t){if(De.test(e)&&(e=parseFloat(e),e=re(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=re(i.min,i.max,n);t===i&&(l-=e),t.min=Uo(t.min,e,s,l,r),t.max=Uo(t.max,e,s,l,r)}function qo(t,e,[s,n,r],i,o){e0(t,e[s],e[n],e[r],e.scale,i,o)}const t0=["x","scaleX","originX"],s0=["y","scaleY","originY"];function zo(t,e,s,n){qo(t.x,e,t0,s?s.x:void 0,n?n.x:void 0),qo(t.y,e,s0,s?s.y:void 0,n?n.y:void 0)}function Go(t){return t.translate===0&&t.scale===1}function yc(t){return Go(t.x)&&Go(t.y)}function Ho(t,e){return t.min===e.min&&t.max===e.max}function n0(t,e){return Ho(t.x,e.x)&&Ho(t.y,e.y)}function Wo(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vc(t,e){return Wo(t.x,e.x)&&Wo(t.y,e.y)}function Ko(t){return ke(t.x)/ke(t.y)}function Jo(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class r0{constructor(){this.members=[]}add(e){ni(this.members,e),e.scheduleRender()}remove(e){if(ri(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(r=>e===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i0(t,e,s){let n="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((r||i||o)&&(n=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:x}=s;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const ct={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Qt=typeof window<"u"&&window.MotionDebug!==void 0,Bn=["","X","Y","Z"],o0={visibility:"hidden"},Qo=1e3;let a0=0;function Un(t,e,s,n){const{latestValues:r}=e;r[t]&&(s[t]=r[t],e.setStaticValue(t,0),n&&(n[t]=0))}function xc(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=kl(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",te,!(r||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&xc(n)}function bc({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=a0++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qt&&(ct.totalNodes=ct.resolvedTargetDeltas=ct.recalculatedProjection=0),this.nodes.forEach(u0),this.nodes.forEach(p0),this.nodes.forEach(g0),this.nodes.forEach(d0),Qt&&window.MotionDebug.record(ct)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kg)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ii),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hg(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Jg(f,250),Us.hasAnimatedSinceResize&&(Us.hasAnimatedSinceResize=!1,this.nodes.forEach(Xo))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||w0,{onLayoutAnimationStart:p,onLayoutAnimationComplete:w}=d.getProps(),j=!this.targetLayout||!vc(this.targetLayout,x)||m,S=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const P={...Zr(y,"layout"),onPlay:p,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else f||Xo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ze(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(y0),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yo);return}this.isUpdating||this.nodes.forEach(f0),this.isUpdating=!1,this.nodes.forEach(m0),this.nodes.forEach(l0),this.nodes.forEach(c0),this.clearAllSnapshots();const l=$e.now();me.delta=ze(0,1e3/60,l-me.timestamp),me.timestamp=l,me.isProcessing=!0,Rn.update.process(me),Rn.preRender.process(me),Rn.render.process(me),me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h0),this.sharedNodes.forEach(v0)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!yc(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||lt(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),j0(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ae();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(S0))){const{scroll:d}=this.root;d&&(Tt(c.x,d.offset.x),Tt(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=ae();if(Pe(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Pe(c,o),Tt(c.x,h.offset.x),Tt(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=ae();Pe(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ct(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),lt(d.latestValues)&&Ct(c,d.latestValues)}return lt(this.latestValues)&&Ct(c,this.latestValues),c}removeTransform(o){const l=ae();Pe(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!lt(u.latestValues))continue;wr(u.latestValues)&&u.updateSnapshot();const d=ae(),h=u.measurePageBox();Pe(d,h),zo(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return lt(this.latestValues)&&zo(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=me.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),ns(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Pe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ae(),this.targetWithTransforms=ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cg(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pe(this.target,this.layout.layoutBox),dc(this.target,this.targetDelta)):Pe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),ns(this.relativeTargetOrigin,this.target,m.target),Pe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qt&&ct.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wr(this.parent.latestValues)||uc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===me.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Pe(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Og(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ae());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bo(this.prevProjectionDelta.x,this.projectionDelta.x),Bo(this.prevProjectionDelta.y,this.projectionDelta.y)),ss(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Jo(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jo(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Qt&&ct.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_t(),this.projectionDelta=_t(),this.projectionDeltaWithTransform=_t()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=_t();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ae(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=m!==x,p=this.getStack(),w=!p||p.members.length<=1,j=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(b0));this.animationProgress=0;let S;this.mixTargetDelta=P=>{const C=P/1e3;Zo(h.x,o.x,C),Zo(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ns(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x0(this.relativeTarget,this.relativeTargetOrigin,f,C),S&&n0(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=ae()),Pe(S,this.relativeTarget)),y&&(this.animationValues=d,Yg(d,u,this.latestValues,C,j,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ze(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{Us.hasAnimatedSinceResize=!0,this.currentAnimation=Gg(0,Qo,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qo),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&wc(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ae();const h=ke(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ke(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Pe(l,c),Ct(l,d),ss(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new r0),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Un("z",o,u,this.animationValues);for(let d=0;d<Bn.length;d++)Un(`rotate${Bn[d]}`,o,u,this.animationValues),Un(`skew${Bn[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return o0;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Vs(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Vs(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!lt(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=i0(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Ws){if(f[y]===void 0)continue;const{correct:p,applyTo:w}=Ws[y],j=u.transform==="none"?f[y]:p(f[y],h);if(w){const S=w.length;for(let P=0;P<S;P++)u[w[P]]=j}else u[y]=j}return this.options.layoutId&&(u.pointerEvents=h===this?Vs(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Yo),this.root.sharedNodes.clear()}}}function l0(t){t.updateLayout()}function c0(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=s.source!==t.layout.source;i==="size"?Ae(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],m=ke(f);f.min=n[h].min,f.max=f.min+m}):wc(i,s.layoutBox,n)&&Ae(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],m=ke(n[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=_t();ss(l,n,s.layoutBox);const c=_t();o?ss(c,t.applyTransform(r,!0),s.measuredBox):ss(c,n,s.layoutBox);const u=!yc(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=ae();ns(x,s.layoutBox,f.layoutBox);const y=ae();ns(y,n,m.layoutBox),vc(x,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function u0(t){Qt&&ct.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function d0(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h0(t){t.clearSnapshot()}function Yo(t){t.clearMeasurements()}function f0(t){t.isLayoutDirty=!1}function m0(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xo(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function p0(t){t.resolveTargetDelta()}function g0(t){t.calcProjection()}function y0(t){t.resetSkewAndRotation()}function v0(t){t.removeLeadSnapshot()}function Zo(t,e,s){t.translate=re(e.translate,0,s),t.scale=re(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function ea(t,e,s,n){t.min=re(e.min,s.min,n),t.max=re(e.max,s.max,n)}function x0(t,e,s,n){ea(t.x,e.x,s.x,n),ea(t.y,e.y,s.y,n)}function b0(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const w0={duration:.45,ease:[.4,0,.1,1]},ta=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sa=ta("applewebkit/")&&!ta("chrome/")?Math.round:Ce;function na(t){t.min=sa(t.min),t.max=sa(t.max)}function j0(t){na(t.x),na(t.y)}function wc(t,e,s){return t==="position"||t==="preserve-aspect"&&!Tg(Ko(e),Ko(s),.2)}function S0(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const _0=bc({attachResizeListener:(t,e)=>ds(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qn={current:void 0},jc=bc({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qn.current){const t=new _0({});t.mount(window),t.setOptions({layoutScroll:!0}),qn.current=t}return qn.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),T0={pan:{Feature:Bg},drag:{Feature:Vg,ProjectionNode:jc,MeasureLayout:mc}};function ra(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,i=n[r];i&&te.postRender(()=>i(e,bs(e)))}class C0 extends nt{mount(){const{current:e}=this.node;e&&(this.unmount=Cm(e,s=>(ra(this.node,s,"Start"),n=>ra(this.node,n,"End"))))}unmount(){}}class k0 extends nt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xs(ds(this.node.current,"focus",()=>this.onFocus()),ds(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ia(t,e,s){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),i=n[r];i&&te.postRender(()=>i(e,bs(e)))}class P0 extends nt{mount(){const{current:e}=this.node;e&&(this.unmount=Em(e,s=>(ia(this.node,s,"Start"),(n,{success:r})=>ia(this.node,n,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sr=new WeakMap,zn=new WeakMap,A0=t=>{const e=Sr.get(t.target);e&&e(t)},E0=t=>{t.forEach(A0)};function N0({root:t,...e}){const s=t||document;zn.has(s)||zn.set(s,{});const n=zn.get(s),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(E0,{root:t,...e})),n[r]}function R0(t,e,s){const n=N0(e);return Sr.set(t,s),n.observe(t),()=>{Sr.delete(t),n.unobserve(t)}}const I0={some:0,all:1};class M0 extends nt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:i}=e,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:I0[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return R0(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(O0(e,s))&&this.startObserver()}unmount(){}}function O0({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const L0={inView:{Feature:M0},tap:{Feature:P0},focus:{Feature:k0},hover:{Feature:C0}},D0={layout:{ProjectionNode:jc,MeasureLayout:mc}},_r={current:null},Sc={current:!1};function $0(){if(Sc.current=!0,!!$r)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_r.current=t.matches;t.addListener(e),e()}else _r.current=!1}const F0=[...Kl,pe,et],V0=t=>F0.find(Wl(t)),oa=new WeakMap;function B0(t,e,s){for(const n in e){const r=e[n],i=s[n];if(ge(r))t.addValue(n,r);else if(ge(i))t.addValue(n,cs(r,{owner:t}));else if(i!==r)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(n);t.addValue(n,cs(o!==void 0?o:r,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const aa=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U0{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=di,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=$e.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,te.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=pn(s),this.isVariantNode=sl(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&ge(x)&&x.set(c[m],!1)}}mount(e){this.current=e,oa.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Sc.current||$0(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_r.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oa.delete(this.current),this.projection&&this.projection.unmount(),Ze(this.notifyUpdate),Ze(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=gt.has(e),r=s.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&te.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rt){const s=Rt[e];if(!s)continue;const{isEnabled:n,Feature:r}=s;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ae()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<aa.length;n++){const r=aa[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=B0(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=cs(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){var n;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Gl(r)||Ll(r))?r=parseFloat(r):!V0(r)&&et.test(s)&&(r=Ul(e,s)),this.setBaseTarget(e,ge(r)?r.get():r)),ge(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Gr(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ge(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new ii),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class _c extends U0{constructor(){super(...arguments),this.KeyframeResolver=Jl}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ge(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function q0(t){return window.getComputedStyle(t)}class z0 extends _c{constructor(){super(...arguments),this.type="html",this.renderInstance=dl}readValueFromInstance(e,s){if(gt.has(s)){const n=ui(s);return n&&n.default||0}else{const n=q0(e),r=(ll(s)?n.getPropertyValue(s):n[s])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:s}){return hc(e,s)}build(e,s,n){Kr(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return Xr(e,s,n)}}class G0 extends _c{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ae}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(gt.has(s)){const n=ui(s);return n&&n.default||0}return s=hl.has(s)?s:Ur(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return pl(e,s,n)}build(e,s,n){Jr(e,s,this.isSVGTag,n.transformTemplate)}renderInstance(e,s,n,r){fl(e,s,n,r)}mount(e){this.isSVGTag=Yr(e.tagName),super.mount(e)}}const H0=(t,e)=>zr(t)?new G0(e):new z0(e,{allowProjection:t!==g.Fragment}),W0=xm({...gg,...L0,...T0,...D0},H0),_=Mf(W0);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const s=g.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...K0,width:r,height:r,stroke:n,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${J0(t)}`,l].join(" "),...u},[...e.map(([h,f])=>g.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=B("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=B("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=B("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=B("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=B("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=B("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=B("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=B("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=B("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=B("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=B("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=B("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=B("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=B("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=B("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=B("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ry=()=>a.jsxs("div",{className:"mx-auto w-full max-w-xl bg-gray-800/80 backdrop-blur-sm rounded-xl p-5 text-left border border-gray-700/50",children:[a.jsx("h3",{className:"text-white font-semibold mb-3 text-center text-lg",children:"Quick Guide"}),a.jsxs("ol",{className:"space-y-2 list-decimal list-inside text-sm text-gray-300 marker:text-blue-400",children:[a.jsx("li",{children:"Enter your username and hit 'Test Your SportIQ'."}),a.jsx("li",{children:"Select your preferred game mode (Solo or 1v1)."}),a.jsx("li",{children:"Choose a sports category that interests you."}),a.jsx("li",{children:"Answer 10 questions as quickly and accurately as possible."}),a.jsx("li",{children:"Earn points for correct answers & speed bonuses. Check the leaderboard!"})]})]}),iy=()=>{const t=new Date().getFullYear(),[e,s]=g.useState(!1);return a.jsx(_.footer,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"py-6 px-4 mt-auto bg-gray-900/50 backdrop-blur-sm",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col items-center mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("span",{className:"font-bold text-xl",children:[a.jsx("span",{className:"text-blue-400",children:"Sport"}),a.jsx("span",{className:"text-white",children:"IQ"})]}),a.jsx("span",{className:"text-2xl",children:""})]}),a.jsxs("div",{className:"flex items-center gap-6 flex-wrap justify-center",children:[a.jsxs(Ci,{to:"/faq",className:"text-gray-300 hover:text-blue-400 transition-colors flex items-center gap-2 group cursor-pointer",children:[a.jsx(_.div,{whileHover:{rotate:15,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:a.jsx(Cr,{size:16,className:"text-blue-400 group-hover:text-blue-300"})}),a.jsx("span",{children:"FAQ"})]}),a.jsxs(Ci,{to:"/about",className:"text-gray-300 hover:text-blue-400 transition-colors flex items-center gap-2 group cursor-pointer",children:[a.jsx(_.div,{whileHover:{rotate:15,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:a.jsx(kt,{size:16,className:"text-blue-400 group-hover:text-blue-300"})}),a.jsx("span",{children:"About"})]}),a.jsxs("a",{href:"mailto:contact@sportiq.games",className:"text-gray-300 hover:text-blue-400 transition-colors flex items-center gap-2 group cursor-pointer",children:[a.jsx(_.div,{whileHover:{rotate:15,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:a.jsx(ty,{size:16,className:"text-blue-400 group-hover:text-blue-300"})}),a.jsx("span",{children:"Contact"})]}),a.jsxs("button",{onClick:()=>s(!e),className:"text-gray-300 hover:text-blue-400 transition-colors flex items-center gap-2 group cursor-pointer",children:[a.jsx(_.div,{whileHover:{rotate:15,scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:a.jsx(Cr,{size:16,className:"text-blue-400 group-hover:text-blue-300"})}),a.jsx("span",{children:"How To Play"}),a.jsx(_.div,{animate:{rotate:e?180:0},children:e?a.jsx(gi,{size:16}):a.jsx(pi,{size:16})})]})]})]}),a.jsx(Me,{children:e&&a.jsx(_.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"mb-6 overflow-hidden",children:a.jsx(ry,{})})}),a.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-gray-700 to-transparent mb-4"}),a.jsxs("div",{className:"text-center text-xs text-gray-500",children:[a.jsxs("p",{children:[" ",t," SportIQ - The Ultimate Sports Trivia Challenge"]}),a.jsx("p",{className:"mt-1",children:"v2.0.14"})]})]})})},zt=[{question:"Which country won the 2022 FIFA World Cup?",category:"Football",emoji:"",colorClass:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",options:["France","Brazil","Argentina","Germany"]},{question:"Who holds the NBA record for most points in a single game?",category:"Basketball",emoji:"",colorClass:"bg-orange-500/20 text-orange-400 border-orange-500/30",options:["Michael Jordan","Kobe Bryant","Wilt Chamberlain","LeBron James"]},{question:"Which Grand Slam tournament is played on clay courts?",category:"Tennis",emoji:"",colorClass:"bg-green-500/20 text-green-400 border-green-500/30",options:["Wimbledon","US Open","French Open","Australian Open"]},{question:"Who is the most decorated Olympian of all time?",category:"Olympics",emoji:"",colorClass:"bg-blue-500/20 text-blue-400 border-blue-500/30",options:["Usain Bolt","Michael Phelps","Simone Biles","Carl Lewis"]},{question:"Usain Bolt broke which two world records at the 2008 Olympics?",category:"Mixed",emoji:"",colorClass:"bg-purple-500/20 text-purple-400 border-purple-500/30",options:["100m & 200m","200m & 400m","100m & 4x100m","200m & long jump"]},{question:"Which team has won the most UEFA Champions League titles?",category:"Football",emoji:"",colorClass:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",options:["Real Madrid","AC Milan","Bayern Munich","Liverpool"]}],oy=[{id:"solo",title:"Solo Play",description:"Practice at your own pace",icon:tt,iconBgColor:"bg-gradient-to-br from-green-600 to-green-400",hoverGradient:"from-green-600 to-green-400",emoji:""},{id:"versus",title:"1v1 Challenge",description:"Challenge a friend",icon:Ic,iconBgColor:"bg-gradient-to-br from-blue-600 to-blue-400",hoverGradient:"from-blue-600 to-blue-400",emoji:""}],ay=[{name:"Football",emoji:""},{name:"Basketball",emoji:""},{name:"Tennis",emoji:""},{name:"Olympics",emoji:""},{name:"Mixed Sports",emoji:""}],ly=["","","","","","","",""],cy={shake:{x:[0,-8,8,-8,8,0],transition:{duration:.4}}},uy={hover:{scale:1.2,rotate:360,transition:{type:"spring",stiffness:260,damping:20}}},dy=Oe.memo(()=>a.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:ly.map((t,e)=>a.jsx(_.div,{className:"absolute text-4xl opacity-5 pointer-events-none",style:{top:"-100px",left:`${Math.random()*100}%`},animate:{y:"110vh",rotate:360},transition:{duration:20+Math.random()*15,repeat:1/0,repeatType:"loop",delay:Math.random()*5,ease:"linear"},children:t},e))})),hy=()=>{const[t,e]=g.useState(0),[s,n]=g.useState(!0),[r,i]=g.useState(1);g.useEffect(()=>{if(!s)return;const h=setInterval(()=>{i(1),e(f=>f===zt.length-1?0:f+1)},5e3);return()=>clearInterval(h)},[s]);const o=h=>{n(!h)},l=h=>{i(h),e(f=>{let m=f+h;return m<0?m=zt.length-1:m>=zt.length&&(m=0),m}),n(!1),setTimeout(()=>n(!0),7e3)},c=h=>{i(h>t?1:-1),e(h),n(!1),setTimeout(()=>n(!0),7e3)},u={enter:h=>({x:h>0?30:-30,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:h=>({zIndex:0,x:h<0?30:-30,opacity:0})},d=zt[t];return a.jsxs(_.div,{className:"max-w-xl mx-auto mt-8 relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx("p",{className:"text-sm text-center text-blue-300/80 mb-2",children:"See Example Questions"}),a.jsxs("div",{className:`bg-gray-800/60 backdrop-blur-md border ${d.colorClass} p-4 md:p-5 rounded-xl relative overflow-hidden shadow-lg`,children:[a.jsxs("div",{className:`absolute top-0 right-0 px-3 py-1 rounded-bl-lg text-xs font-medium ${d.colorClass} border-t-0 border-r-0 border border-gray-700/50`,children:[d.emoji," ",d.category]}),a.jsx("div",{className:"min-h-[130px] md:min-h-[100px] pr-10 pl-10 md:pr-4 md:pl-4 flex items-center",children:a.jsx(Me,{initial:!1,custom:r,mode:"wait",children:a.jsxs(_.div,{custom:r,variants:u,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"w-full",children:[a.jsx("h3",{className:"text-white text-md md:text-lg font-semibold mb-3",children:d.question}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:d.options.map((h,f)=>a.jsxs("span",{className:"text-gray-400 truncate",children:[String.fromCharCode(65+f),". ",h]},f))})]},t)})}),a.jsx("button",{onClick:()=>l(-1),className:"absolute left-1 md:left-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-gray-900/60 text-white hover:bg-gray-900/90 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Previous question",children:a.jsx(ws,{size:18})}),a.jsx("button",{onClick:()=>l(1),className:"absolute right-1 md:right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-full bg-gray-900/60 text-white hover:bg-gray-900/90 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Next question",children:a.jsx(Y0,{size:18})})]}),a.jsx("div",{className:"flex justify-center gap-2 mt-4",children:zt.map((h,f)=>a.jsx("button",{onClick:()=>c(f),className:`w-2 h-2 rounded-full transition-all duration-300 ${t===f?"bg-blue-500 scale-125 w-4":"bg-gray-600 hover:bg-gray-500"}`,"aria-label":`Go to question ${f+1}`},f))})]})},fy=()=>a.jsxs(_.div,{className:"text-center mb-12",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7},children:[a.jsxs("div",{className:"relative inline-block mb-4",children:[a.jsxs("div",{className:"relative z-20 flex items-center justify-center gap-3",children:[a.jsx(_.div,{animate:{rotate:[0,5,0,-5,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"text-5xl md:text-6xl",children:""}),a.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-white to-blue-400",children:["Sport",a.jsx("span",{className:"text-white",children:"IQ"})]}),a.jsx(_.div,{animate:{rotate:[0,-5,0,5,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:.5},className:"text-5xl md:text-6xl",children:""})]}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full h-full bg-blue-500 opacity-15 blur-2xl rounded-full z-10"})]}),a.jsx(_.p,{className:"text-xl md:text-2xl text-gray-300 italic relative z-20",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"The Ultimate Sports Trivia Challenge"}),a.jsx(_.p,{className:"text-lg md:text-xl text-blue-400 font-semibold mt-2 relative z-20",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:"Challenge Your Sports Knowledge in Seconds"}),a.jsx(_.div,{className:"h-1 w-24 md:w-32 bg-gradient-to-r from-blue-500 to-green-500 rounded-full mx-auto mt-4 mb-8",initial:{scaleX:0,opacity:0},animate:{scaleX:1,opacity:1},transition:{duration:.7,delay:.5}}),a.jsx(hy,{}),a.jsx(_.h3,{className:"text-lg font-semibold text-white mt-10 mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:"Quiz Categories"}),a.jsx(_.div,{className:"flex flex-wrap justify-center gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:ay.map((t,e)=>a.jsxs(_.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1.1+e*.1},whileHover:{scale:1.05,backgroundColor:"rgba(55, 65, 81, 0.7)"},className:"px-3 py-1 bg-gray-800/50 backdrop-blur-sm rounded-full text-sm text-gray-300 flex items-center gap-1 cursor-default transition-colors",children:[a.jsx("span",{children:t.emoji}),a.jsx("span",{children:t.name})]},e))}),a.jsxs(_.p,{className:"text-sm text-blue-300/90 mt-6 flex items-center justify-center gap-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.5},children:[a.jsx(ca,{size:16,className:"text-yellow-400"}),"New questions added daily!",a.jsx(ca,{size:16,className:"text-yellow-400"})]})]}),my=()=>a.jsxs(_.div,{className:"mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[a.jsx("h2",{className:"text-2xl md:text-3xl text-white text-center font-semibold mb-8",children:"Game Modes"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 max-w-3xl mx-auto",children:oy.map((t,e)=>a.jsxs(_.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6+e*.1},whileHover:{y:-5,scale:1.02,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.3)",transition:{duration:.2}},className:"relative bg-gray-800/70 backdrop-blur-md rounded-xl p-6 overflow-hidden group border border-gray-700/50 cursor-default",children:[a.jsx(_.div,{className:`absolute inset-0 bg-gradient-to-br ${t.hoverGradient} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),a.jsxs("div",{className:"flex flex-col items-center gap-3 relative z-10 text-center",children:[a.jsx(_.div,{variants:uy,whileHover:"hover",className:`w-16 h-16 flex items-center justify-center ${t.iconBgColor} rounded-full mb-2 shadow-lg`,children:a.jsx(t.icon,{size:32,className:"text-white"})}),a.jsxs(_.h2,{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.title,a.jsx(_.span,{animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:1/0},className:"text-2xl",children:t.emoji})]}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:t.description})]}),a.jsx(_.div,{className:`absolute inset-x-0 bottom-0 h-1 bg-gradient-to-r ${t.iconBgColor} origin-left`,initial:{scaleX:0},whileHover:{scaleX:1},transition:{duration:.3,ease:"easeOut"}})]},t.id))})]}),py=({username:t,setUsername:e,error:s,setError:n,handlePlay:r})=>{const[i,o]=g.useState(!1);return a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"max-w-md mx-auto bg-gray-800/80 backdrop-blur-lg rounded-2xl p-6 md:p-8 shadow-xl border border-gray-700/50",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Enter The Arena"}),a.jsxs(_.div,{className:"relative mb-6",variants:cy,animate:s?"shake":"",children:[a.jsxs("div",{className:`relative border-2 rounded-lg overflow-hidden transition-colors duration-300 ${s?"border-red-500":i?"border-blue-500":"border-gray-600"}`,children:[a.jsx("input",{id:"usernameInput",type:"text",value:t,onChange:l=>{e(l.target.value),n(!1)},onFocus:()=>o(!0),onBlur:()=>o(!1),className:"w-full py-3 px-4 text-lg bg-gray-700/50 text-white placeholder-gray-400 focus:outline-none",placeholder:"Your Username"}),a.jsx(Zs,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20})]}),s&&a.jsx(_.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-2 ml-1",children:"Please enter a username to continue"})]}),a.jsxs(_.button,{onClick:r,whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(59, 130, 246, 0.4)"},whileTap:{scale:.97},className:"w-full p-4 text-xl font-bold rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white transition-all duration-200 flex items-center justify-center gap-3 shadow-lg relative overflow-hidden group",children:[a.jsx(_.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"relative z-10",children:a.jsx(sy,{size:24,className:"fill-white"})}),a.jsx("span",{className:"relative z-10",children:"TEST YOUR SPORTIQ"})]}),a.jsx("p",{className:"text-gray-400 text-xs mt-3 text-center",children:"Select game mode on the next screen"})]})},gy=({onStart:t})=>{const[e,s]=g.useState(""),[n,r]=g.useState(!1),i=g.useCallback(()=>{if(e.trim().length===0){r(!0);return}r(!1),t(e.trim())},[e,t]);return a.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-[#0c1220] to-[#1a1a2e] text-white overflow-x-hidden isolate",children:[a.jsx(dy,{}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 md:py-16 relative z-10",children:[a.jsx(fy,{}),a.jsx(my,{}),a.jsx(py,{username:e,setUsername:s,error:n,setError:r,handlePlay:i}),a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.3},className:"mt-16",children:a.jsx(iy,{})})]})]})},yy={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.2}}},Gn={hidden:{y:20,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}},Hn={hover:{scale:1.2,rotate:360,transition:{type:"spring",stiffness:260,damping:20}}},vy=({onStart:t})=>{const e=localStorage.getItem("username")||"",[s,n]=g.useState(null),[r,i]=g.useState(!1),[o,l]=g.useState(null),c=h=>{n(h),setTimeout(()=>{if(!e){console.error("Username not found");return}t(e,h)},300)},u=(h,f)=>{f.stopPropagation(),l(o===h?null:h)},d={solo:{title:"Solo Play",description:"Test your sports knowledge at your own pace. Answer 10 questions across your chosen category and earn points for correct answers. The faster you answer, the more bonus points you receive!",perfectFor:"Practice, learning new sports facts, and improving your response time.",color:"text-green-400",bgColor:"bg-green-600/10",btnBgColor:"bg-green-500/20",btnHoverColor:"hover:bg-green-500/30",borderColor:"border-green-500/30"},create:{title:"Create 1v1 Game",description:"Be the host! Create a game, choose the category, and get a shareable code to invite a friend. Challenge them to see who has better sports knowledge.",perfectFor:"Challenging friends, picking your favorite sports category, and proving you're the champion.",color:"text-blue-400",bgColor:"bg-blue-600/10",btnBgColor:"bg-blue-500/20",btnHoverColor:"hover:bg-blue-500/30",borderColor:"border-blue-500/30"},join:{title:"Join 1v1 Game",description:"Got an invite code? Use it to quickly join a friend's game and compete in real-time. The host has already selected the category - just enter the code and play!",perfectFor:"Accepting challenges, quick play, and jumping straight into competition.",color:"text-purple-400",bgColor:"bg-purple-600/10",btnBgColor:"bg-purple-500/20",btnHoverColor:"hover:bg-purple-500/30",borderColor:"border-purple-500/30"}};return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-[#0c1220] to-[#1a1a2e]",children:[a.jsx(_.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"text-center mb-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("span",{className:"text-3xl",children:""}),a.jsxs("h1",{className:"text-3xl font-bold text-white",children:[a.jsx("span",{className:"text-blue-400",children:"Sport"}),a.jsx("span",{className:"text-white",children:"IQ"})]}),a.jsx("span",{className:"text-3xl",children:""})]})}),a.jsxs(_.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"text-center mb-4",children:[a.jsx(_.h1,{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2",initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:200},children:"Select Game Mode"}),a.jsx(_.div,{animate:{y:[0,-5,0],rotate:[0,5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-2xl sm:text-3xl mt-2",children:" "})]}),a.jsxs(_.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},onClick:()=>i(!r),className:"flex items-center gap-1 text-blue-400 hover:text-blue-300 mb-4 text-sm cursor-pointer",whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(kt,{size:16}),a.jsx("span",{children:r?"Hide Guide":"How It Works"}),r?a.jsx(gi,{size:16}):a.jsx(pi,{size:16})]}),a.jsx(Me,{children:r&&a.jsx(_.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"w-full max-w-lg mb-6 overflow-hidden",children:a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-4",children:[a.jsx("h3",{className:"text-white font-bold mb-2",children:"How To Play"}),a.jsxs("ol",{className:"space-y-2 list-decimal list-inside text-sm text-gray-300 mb-4",children:[a.jsx("li",{children:"Select your preferred game mode (Solo, Create Game, or Join Game)"}),a.jsx("li",{children:"Choose a sports category that interests you (when creating a game)"}),a.jsx("li",{children:"Answer 10 questions as quickly and accurately as possible"}),a.jsx("li",{children:"Earn 10 points for each correct answer plus time bonuses"}),a.jsx("li",{children:"View your performance stats and challenge others to beat your score!"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"All game modes feature the same categories: Football , Basketball , Tennis , Olympics , and Mixed Sports "})]})})}),a.jsxs(_.div,{variants:yy,initial:"hidden",animate:"show",className:"w-full max-w-4xl grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-4",children:[a.jsxs(_.div,{variants:Gn,className:"relative bg-gray-800 rounded-xl p-6 pb-14 overflow-hidden",children:[a.jsx(_.div,{className:"absolute inset-0 bg-gradient-to-br from-green-600 to-green-400 opacity-0 hover:opacity-10 transition-opacity duration-300"}),a.jsxs(_.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},onClick:()=>c("solo"),className:`flex flex-col items-center gap-3 relative z-10 cursor-pointer ${s==="solo"?"ring-2 ring-green-400 rounded-xl p-2":""}`,children:[a.jsx(_.div,{variants:Hn,whileHover:"hover",className:"w-16 h-16 flex items-center justify-center bg-gradient-to-br from-green-600 to-green-400 rounded-full mb-2",children:a.jsx(tt,{size:32,className:"text-white"})}),a.jsxs(_.h2,{className:"text-xl font-bold text-white flex items-center gap-2",whileHover:{scale:1.05},children:["Solo Play",a.jsx(_.span,{animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:1/0},className:"text-2xl",children:""})]}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Practice at your own pace"})]}),a.jsxs(_.button,{onClick:h=>u("solo",h),whileHover:{scale:1.05},whileTap:{scale:.95},className:`absolute bottom-3 left-0 right-0 mx-auto w-3/4 py-2 px-4 rounded-lg ${d.solo.btnBgColor} ${d.solo.btnHoverColor} ${d.solo.color} font-medium text-sm flex items-center justify-center gap-2 border ${d.solo.borderColor} transition-colors cursor-pointer`,children:[a.jsx(kt,{size:16}),o==="solo"?"Hide Details":"Learn More"]})]}),a.jsxs(_.div,{variants:Gn,className:"relative bg-gray-800 rounded-xl p-6 pb-14 overflow-hidden",children:[a.jsx(_.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 opacity-0 hover:opacity-10 transition-opacity duration-300"}),a.jsxs(_.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},onClick:()=>c("create"),className:`flex flex-col items-center gap-3 relative z-10 cursor-pointer ${s==="create"?"ring-2 ring-blue-400 rounded-xl p-2":""}`,children:[a.jsx(_.div,{variants:Hn,whileHover:"hover",className:"w-16 h-16 flex items-center justify-center bg-gradient-to-br from-blue-600 to-blue-400 rounded-full mb-2",children:a.jsx(Ic,{size:32,className:"text-white"})}),a.jsxs(_.h2,{className:"text-xl font-bold text-white flex items-center gap-2",whileHover:{scale:1.05},children:["Create 1v1 Game",a.jsx(_.span,{animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:1/0},className:"text-2xl",children:""})]}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Host a game & invite a friend"})]}),a.jsxs(_.button,{onClick:h=>u("create",h),whileHover:{scale:1.05},whileTap:{scale:.95},className:`absolute bottom-3 left-0 right-0 mx-auto w-3/4 py-2 px-4 rounded-lg ${d.create.btnBgColor} ${d.create.btnHoverColor} ${d.create.color} font-medium text-sm flex items-center justify-center gap-2 border ${d.create.borderColor} transition-colors cursor-pointer`,children:[a.jsx(kt,{size:16}),o==="create"?"Hide Details":"Learn More"]})]}),a.jsxs(_.div,{variants:Gn,className:"relative bg-gray-800 rounded-xl p-6 pb-14 overflow-hidden",children:[a.jsx(_.div,{className:"absolute inset-0 bg-gradient-to-br from-purple-600 to-purple-400 opacity-0 hover:opacity-10 transition-opacity duration-300"}),a.jsxs(_.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},onClick:()=>c("join"),className:`flex flex-col items-center gap-3 relative z-10 cursor-pointer ${s==="join"?"ring-2 ring-purple-400 rounded-xl p-2":""}`,children:[a.jsx(_.div,{variants:Hn,whileHover:"hover",className:"w-16 h-16 flex items-center justify-center bg-gradient-to-br from-purple-600 to-purple-400 rounded-full mb-2",children:a.jsx(Oc,{size:32,className:"text-white"})}),a.jsxs(_.h2,{className:"text-xl font-bold text-white flex items-center gap-2",whileHover:{scale:1.05},children:["Join 1v1 Game",a.jsx(_.span,{animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:1/0},className:"text-2xl",children:""})]}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Join with an invite code"})]}),a.jsxs(_.button,{onClick:h=>u("join",h),whileHover:{scale:1.05},whileTap:{scale:.95},className:`absolute bottom-3 left-0 right-0 mx-auto w-3/4 py-2 px-4 rounded-lg ${d.join.btnBgColor} ${d.join.btnHoverColor} ${d.join.color} font-medium text-sm flex items-center justify-center gap-2 border ${d.join.borderColor} transition-colors cursor-pointer`,children:[a.jsx(kt,{size:16}),o==="join"?"Hide Details":"Learn More"]})]})]}),a.jsx(Me,{children:o&&a.jsxs(_.div,{initial:{opacity:0,y:10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.3},className:`w-full max-w-lg mb-6 ${d[o].bgColor} rounded-xl p-5 overflow-hidden border ${d[o].borderColor}`,children:[a.jsxs("h3",{className:`text-xl font-bold ${d[o].color} mb-3`,children:["About ",d[o].title]}),a.jsx("p",{className:"text-gray-300 text-sm mb-3",children:d[o].description}),a.jsxs("div",{className:"text-xs text-gray-400",children:[a.jsx("span",{className:`${d[o].color} font-medium`,children:"Perfect for:"})," ",d[o].perfectFor]})]})}),a.jsx(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-6 sm:mt-8 text-center",children:a.jsxs("p",{className:"text-gray-400 text-sm sm:text-base",children:["Playing as: "," ",a.jsx(_.span,{className:"text-green-400 font-semibold",whileHover:{scale:1.1},children:e})]})})]})},xy="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let en=(t=21)=>{let e="",s=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=xy[s[t]&63];return e};const by=()=>window.location.hostname.includes("netlify")?"https://quiz-render-tests.onrender.com":window.location.origin;let E;window._globalSocket?(console.log("Using existing global socket"),E=window._globalSocket):(E=Qc(by(),{transports:["websocket","polling"],withCredentials:!0,reconnection:!0,reconnectionAttempts:20,reconnectionDelay:1e3,timeout:6e4,autoConnect:!1,path:"/socket.io/"}),window._globalSocket=E);const wy=()=>{if(!E._debugEventsAttached){E._debugEventsAttached=!0;const t=E.on.bind(E);E.on=function(s,n){return console.log(`[SOCKET-DEBUG] Adding listener for: ${s}`),t(s,n)};const e=E.emit.bind(E);E.emit=function(s,...n){return console.log(`[SOCKET-DEBUG] Emitting event: ${s}`,n[0]?"(with data)":"(no data)"),e(s,...n)},E.onAny((s,...n)=>{console.log(`[SOCKET-DEBUG] Received event: ${s}`,n[0]?"(with data)":"(no data)")})}},Wn={gameId:"",category:"mixed",players:[],currentQuestion:0,questions:[],isGameStarted:!1,isGameEnded:!1,chatMessages:[],startCountdown:null,answeredPlayers:new Set,finishedPlayers:new Set,startTime:Date.now(),questionStartTime:Date.now(),questionResponseTimes:[],playerResponseTimes:new Map,scores:new Map,waitingForPlayers:!0,currentPlayerId:"",socket:E,isConnecting:!1,hasJoinedGame:!1,isGameCreationInProgress:!1},Bt=da((t,e)=>(wy(),E.on("connect",()=>{console.log("Socket connected:",E.id),t(s=>({...s,currentPlayerId:E.id,isConnecting:!1}))}),E.on("connect_error",s=>{console.error("Socket connection error:",s),t(n=>({...n,isConnecting:!1,isGameCreationInProgress:!1}))}),E.on("gameCreated",s=>{console.log("Game created:",s),t(n=>({...n,gameId:s.gameId,category:s.category,questions:s.questions,players:s.players,waitingForPlayers:!0,hasJoinedGame:!0,isGameCreationInProgress:!1,playerResponseTimes:new Map,scores:new Map(s.players.map(r=>[r.id,r.score||0]))}))}),E.on("gameUpdated",s=>{console.log("Game updated:",s);const n=s.players.some(r=>r.id===E.id);t(r=>{const i=new Map(r.playerResponseTimes);s.players.forEach(l=>{l.responseTimes&&i.set(l.id,l.responseTimes)});const o=new Map(s.players.map(l=>[l.id,l.score||0]));return{...r,players:s.players,category:s.category,questions:s.questions||r.questions,waitingForPlayers:s.waitingForPlayers,startCountdown:s.startCountdown,hasJoinedGame:n||r.hasJoinedGame,playerResponseTimes:i,scores:o,isGameCreationInProgress:!1}})}),E.on("playerReadyUpdate",s=>{console.log("Player ready update:",s),t(n=>({...n,players:s.players,startCountdown:s.startCountdown}))}),E.on("gameStarted",s=>{console.log("Game started:",s),t(n=>({...n,isGameStarted:!0,startTime:Date.now(),questionStartTime:Date.now(),waitingForPlayers:!1,startCountdown:null,category:s.category,questions:s.questions,playerResponseTimes:new Map,scores:new Map(s.players.map(r=>[r.id,r.score||0]))})),window.dispatchEvent(new CustomEvent("sportiq:gameStarted"))}),E.on("scoreUpdate",s=>{console.log("Score update received:",s);const{playerId:n,score:r,responseTime:i,correctAnswers:o}=s;t(l=>{const c=new Map(l.scores);c.set(n,r);const u=new Map(l.playerResponseTimes),d=u.get(n)||[];u.set(n,[...d,i]);const h=l.players.map(f=>f.id===n?{...f,score:r,responseTimes:[...d,i],correctAnswers:o!==void 0?o:f.correctAnswers}:f);return{...l,scores:c,playerResponseTimes:u,players:h}})}),E.on("nextQuestion",s=>{console.log("Next question:",s),t(n=>({...n,currentQuestion:s.currentQuestion,questionStartTime:Date.now(),answeredPlayers:new Set}))}),E.on("gameOver",s=>{console.log("Game over:",s);const n=Date.now(),r=e().startTime,i=(n-r)/1e3;t(o=>{const l=new Map(s.players.map(u=>[u.id,u.score||0])),c=new Map(o.playerResponseTimes);return s.players.forEach(u=>{u.responseTimes&&c.set(u.id,u.responseTimes)}),{...o,isGameStarted:!1,isGameEnded:!0,scores:l,playerResponseTimes:c,players:s.players,completionTime:i}})}),E.on("categoryUpdated",s=>{console.log("Category updated:",s),t(n=>({...n,category:s.category,questions:s.questions}))}),E.on("playerAnswered",s=>{console.log("Player answered:",s);const{playerId:n,score:r,responseTime:i,isCorrect:o,correctAnswers:l}=s;t(c=>{const u=new Map(c.playerResponseTimes),d=u.get(n)||[];u.set(n,[...d,i]);const h=new Map(c.scores);h.set(n,r);const f=c.players.map(m=>{if(m.id===n){const x=l!==void 0?l:m.correctAnswers!==void 0?o?m.correctAnswers+1:m.correctAnswers:0;return{...m,score:r,responseTimes:[...d,i],correctAnswers:x}}return m});return{...c,playerResponseTimes:u,scores:h,players:f,answeredPlayers:new Set([...c.answeredPlayers,n])}})}),E.on("rematchRequested",s=>{console.log("Rematch requested by player:",s.playerId),t(n=>{const r=n.players.map(i=>i.id===s.playerId?{...i,rematchReady:!0}:i);return{...n,players:r}})}),E.on("goToLobby",s=>{console.log("Going back to lobby with new game data:",s),t(n=>({...n,isGameStarted:!1,isGameEnded:!1,currentQuestion:0,questions:s.questions,players:s.players,scores:new Map(s.players.map(r=>[r.id,r.score||0])),questionResponseTimes:[],playerResponseTimes:new Map,finishedPlayers:new Set,answeredPlayers:new Set,startCountdown:null})),window.dispatchEvent(new CustomEvent("sportiq:returnToLobby"))}),E.on("error",s=>{console.error("Socket error:",s),t(n=>({...n,isConnecting:!1,isGameCreationInProgress:!1}))}),E.on("disconnect",()=>{console.log("Socket disconnected"),t(s=>({...s,isConnecting:!1,isGameCreationInProgress:!1}))}),{...Wn,socket:E,initializeGame:async()=>{const s=e(),n=Date.now();if(window._socketInitializeAttempt&&n-window._socketInitializeAttempt<5e3&&(console.log("Socket initialization attempted recently, using existing socket"),E.connected))return t(i=>({...i,currentPlayerId:E.id,isConnecting:!1})),Promise.resolve();if(window._socketInitializeAttempt=n,s._initializationPromise)return console.log("Initialization already in progress, returning existing promise"),s._initializationPromise;if(E.connected)return console.log("Socket already connected, skipping initialization"),s.currentPlayerId!==E.id&&t({currentPlayerId:E.id,isConnecting:!1}),Promise.resolve();console.log("Initializing game, connecting socket..."),t({isConnecting:!0});const r=new Promise((i,o)=>{const l=setTimeout(()=>{E.off("connect",c),E.off("connect_error",u),t(d=>({...d,isConnecting:!1,_initializationPromise:null})),o(new Error("Socket connection timeout"))},1e4),c=()=>{console.log("Socket connected for 1v1 game with ID:",E.id),clearTimeout(l),E.off("connect",c),E.off("connect_error",u),window._globalSocket=E,t({...Wn,socket:E,currentPlayerId:E.id,isConnecting:!1,gameId:"",hasJoinedGame:!1,playerResponseTimes:new Map,scores:new Map,_initializationPromise:null}),i()},u=d=>{console.error("Socket connection error:",d),clearTimeout(l),E.off("connect",c),E.off("connect_error",u),t(h=>({...h,isConnecting:!1,_initializationPromise:null,isGameCreationInProgress:!1})),o(d)};E.connected?c():(E.once("connect",c),E.once("connect_error",u),E.connect())});return t(i=>({...i,_initializationPromise:r})),r},createGame:async s=>{const n=localStorage.getItem("username")||"Guest",r=e();if(r.isGameCreationInProgress)return console.log("Game creation already in progress, ignoring duplicate request"),Promise.resolve();if(r.hasJoinedGame)return console.log("Already joined a game, updating category instead"),e().setCategory(s),Promise.resolve();t(i=>({...i,isGameCreationInProgress:!0}));try{if(!E.connected){console.log("Socket not connected, attempting to connect before creating game");try{await e().initializeGame()}catch(o){throw console.error("Failed to initialize socket connection:",o),t(l=>({...l,isGameCreationInProgress:!1})),new Error("Failed to connect to game server")}}if(console.log("Creating game with category:",s,"Socket connected:",E.connected),window._gameCreationPromise)return console.log("Game creation already in progress globally"),window._gameCreationPromise;const i=new Promise((o,l)=>{const c=setTimeout(()=>{E.off("gameCreated"),window._gameCreationPromise=void 0,t(u=>({...u,isGameCreationInProgress:!1})),l(new Error("Game creation timeout"))},5e3);E.once("gameCreated",()=>{clearTimeout(c),window._gameCreationPromise=void 0,t(u=>({...u,hasJoinedGame:!0,isGameCreationInProgress:!1})),o()}),console.log("Emitting createGame event:",{mode:"1v1",category:s,username:n}),E.emit("createGame",{mode:"1v1",category:s,username:n})});return window._gameCreationPromise=i,i}catch(i){throw window._gameCreationPromise=void 0,t(o=>({...o,isGameCreationInProgress:!1})),i}},joinGame:async(s,n)=>{try{return E.connected||await e().initializeGame(),new Promise((r,i)=>{const o=setTimeout(()=>{E.off("gameUpdated"),i(new Error("Join game timeout"))},5e3),l=c=>{c.players.some(d=>d.id===E.id)&&(t(d=>({...d,gameId:s.trim(),hasJoinedGame:!0,players:c.players,scores:new Map(c.players.map(h=>[h.id,h.score||0])),playerResponseTimes:new Map})),clearTimeout(o),E.off("gameUpdated",l),r())};E.on("gameUpdated",l),console.log("Joining game:",s),E.emit("joinGame",{gameId:s.trim(),username:n})})}catch(r){throw console.error("Error joining game:",r),r}},setPlayerReady:()=>{const{gameId:s}=e();!s||!E.connected||E.emit("playerReady",{gameId:s})},submitAnswer:(s,n,r,i)=>{const o=e(),l=o.getCurrentPlayer();if(!l||!E.connected)return;const c=15-n,u=[...o.questionResponseTimes,c],d=o.questions[o.currentQuestion],h=d&&d.correctAnswer===s,f=l.correctAnswers||0,m=h?f+1:f;E.emit("submitAnswer",{gameId:o.gameId,playerId:l.id,answer:s,timeRemaining:n,points:r,totalScore:i,responseTime:c,allResponseTimes:u,isCorrect:h,correctAnswers:m}),t(x=>{const y=new Map(x.playerResponseTimes);y.set(l.id,u);const p=new Map(x.scores);p.set(l.id,i);const w=x.players.map(j=>j.id===l.id?{...j,score:i,responseTimes:u,correctAnswers:m}:j);return{...x,questionResponseTimes:u,playerResponseTimes:y,scores:p,players:w,answeredPlayers:new Set([...x.answeredPlayers,l.id])}})},getCurrentPlayer:()=>{const s=e();return s.players.find(n=>n.id===s.currentPlayerId)},getPlayerResponseTimes:s=>{var o;const n=e(),r=n.players.find(l=>l.id===s);if((o=r==null?void 0:r.responseTimes)!=null&&o.length)return r.responseTimes;const i=n.playerResponseTimes.get(s);return i!=null&&i.length?i:[]},addChatMessage:(s,n)=>{const{gameId:r}=e();if(!r||!E.connected)return;const i=e().players.find(l=>l.id===s);if(!i)return;E.emit("chatMessage",{gameId:r,message:n});const o={id:en(),playerId:s,playerName:i.username,message:n,timestamp:Date.now()};t(l=>({...l,chatMessages:[...l.chatMessages,o]}))},resetGame:()=>{E.connected&&E.disconnect(),t(Wn)},endGame:()=>{const{gameId:s,socket:n}=e();if(!s||!n.connected)return;console.log("Manually ending game:",s),n.emit("gameOver",{gameId:s});const r=Date.now(),i=e().startTime,o=(r-i)/1e3;t({isGameStarted:!1,isGameEnded:!0,completionTime:o})},setCategory:s=>{const n=e(),r=n.getCurrentPlayer();if(!(r!=null&&r.isHost)){console.warn("Only host can change category");return}if(!E.connected){console.error("Socket not connected");return}console.log("Setting category to:",s),E.emit("updateCategory",{gameId:n.gameId,category:s}),t(i=>({...i,category:s}))},requestRematch:s=>{const{gameId:n,socket:r}=e();!n||!r.connected||(console.log("Requesting rematch:",{gameId:n,playerId:s}),r.emit("requestRematch",{gameId:n,playerId:s}),t(i=>{const o=i.players.map(l=>l.id===s?{...l,rematchReady:!0}:l);return{...i,players:o}}))}})),qe=({icon:t,label:e,onClick:s,disabled:n=!1,tooltip:r,delay:i=0})=>a.jsxs("div",{className:"relative group",children:[a.jsxs(_.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i},whileHover:n?{}:{scale:1.05},whileTap:n?{}:{scale:.95},onClick:n?void 0:s,disabled:n,className:`flex items-center gap-2 px-4 py-3 rounded-full shadow-lg transition-colors
                   ${n?"bg-gray-800/50 cursor-not-allowed text-gray-500 opacity-70":"bg-gray-800/90 hover:bg-gray-700 text-white"}`,children:[a.jsx(t,{className:`w-5 h-5 ${n?"":"group-hover:-translate-x-1 transition-transform"}`}),a.jsx("span",{className:"hidden sm:inline",children:e}),a.jsx("span",{className:"sm:hidden",children:e.split(" ").pop()})]}),r&&n&&a.jsx("div",{className:`absolute bottom-full left-0 mb-2 p-2 bg-gray-800 rounded text-xs text-white
                      opacity-0 group-hover:opacity-100 transition-opacity w-48 z-50`,children:r})]}),vi=({isOpen:t,onConfirm:e,onCancel:s,title:n,message:r,confirmText:i,cancelText:o="Cancel"})=>a.jsx(Me,{children:t&&a.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(_.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-800 rounded-xl p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:n}),a.jsx("p",{className:"text-gray-300 mb-6",children:r}),a.jsxs("div",{className:"flex gap-4 justify-end",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white transition-colors",children:o}),a.jsx("button",{onClick:e,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white transition-colors",children:i})]})]})})}),ve={HOME:"Back to Home",MODES:"Back to Mode Selection",CATEGORIES:"Back to Categories",STAY:"Stay in Game",LEAVE:"Leave Game"},tn={LEAVE_GAME:"Your current game progress will be lost if you leave.",HOST_LEAVE:"As the host, leaving will affect all players in the game.",LEAVE_LOBBY:"Are you sure you want to leave the game lobby?",HOST_LEAVE_LOBBY:"As the host, leaving will end the game for all players."},jy={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Sy={hidden:{y:20,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}},_y={hover:{scale:1.2,rotate:360,transition:{type:"spring",stiffness:260,damping:20}}},Ty=({onSelect:t,mode:e,onBack:s})=>{const{hasJoinedGame:n,getCurrentPlayer:r}=Bt(),i=r(),o=i==null?void 0:i.isHost,[l,c]=g.useState(!1);if(g.useEffect(()=>{e!=="solo"&&n&&(o||(console.log("Non-host player in category selection, redirecting to lobby"),t("mixed")))},[e,n,o,t]),e!=="solo"&&n&&!o)return a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:a.jsxs(_.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"w-full max-w-md bg-gray-800 rounded-2xl p-8 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Joining game..."}),a.jsx("p",{className:"text-gray-400 mb-6",children:"You'll be redirected to the lobby shortly"}),a.jsx(_.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:1.5,repeat:1/0},className:"h-2 bg-green-600 rounded-full"})]})});const u=[{id:"football",name:"Football",emoji:"",icon:tt,color:"from-yellow-600 to-yellow-400"},{id:"basketball",name:"Basketball",emoji:"",icon:xn,color:"from-orange-600 to-orange-400"},{id:"tennis",name:"Tennis",emoji:"",icon:Cc,color:"from-green-600 to-green-400"},{id:"olympics",name:"Olympics",emoji:"",icon:Nc,color:"from-blue-600 to-blue-400"},{id:"mixed",name:"Mixed Sports",emoji:"",icon:Pc,color:"from-purple-600 to-purple-400"}],d=h=>{if(l){console.log("Selection already in progress, ignoring");return}if(c(!0),console.log(`Selected category: ${h} for mode: ${e}`),e!=="solo"&&n&&!o){console.log("Non-host attempted to select category, redirecting"),t(h),setTimeout(()=>{c(!1)},1e3);return}t(h),setTimeout(()=>{c(!1)},1e3)};return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 pb-20",children:[s&&a.jsx("div",{className:"fixed bottom-6 left-6 z-10",children:a.jsx(qe,{icon:ws,label:ve.MODES,onClick:s})}),a.jsxs("div",{className:"w-full max-w-4xl",children:[a.jsxs(_.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white text-center mb-2 sm:mb-4",children:"Choose Your Category"}),a.jsx("p",{className:"text-gray-400 text-center text-sm sm:text-base mb-6 sm:mb-12",children:e==="solo"?"Practice mode - Test your knowledge!":"Challenge a friend in this category!"})]}),a.jsx(_.div,{variants:jy,initial:"hidden",animate:"show",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:u.map(({id:h,name:f,emoji:m,icon:x,color:y})=>a.jsxs(_.button,{variants:Sy,whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},onClick:()=>d(h),disabled:l,className:`group relative bg-gray-800 rounded-2xl p-6 sm:p-8 overflow-hidden ${l?"opacity-70 cursor-not-allowed":""}`,children:[a.jsx(_.div,{className:`absolute inset-0 bg-gradient-to-br ${y} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),a.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4 relative z-10",children:[a.jsxs(_.div,{variants:_y,whileHover:"hover",className:`w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center bg-gradient-to-br ${y} rounded-full`,children:[a.jsx(x,{size:24,className:"text-white sm:hidden"}),a.jsx(x,{size:32,className:"text-white hidden sm:block"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs(_.h2,{className:"text-xl sm:text-2xl font-bold text-white flex items-center justify-center gap-2",whileHover:{scale:1.05},children:[a.jsx("span",{children:f}),a.jsx(_.span,{animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:1/0},className:"text-2xl sm:text-3xl",children:m})]}),a.jsxs("p",{className:"mt-2 text-gray-400 text-xs sm:text-sm",children:["Test your ",f.toLowerCase()," knowledge"]})]})]}),a.jsx(_.div,{initial:{scaleX:0},whileHover:{scaleX:1},transition:{duration:.3},className:`absolute inset-x-0 bottom-0 h-1 bg-gradient-to-r ${y}`})]},h))})]})]})},Cy=({onBackToCategory:t,onBackToMode:e})=>{const{gameId:s,players:n,setPlayerReady:r,category:i,startCountdown:o,getCurrentPlayer:l,waitingForPlayers:c,isGameStarted:u,socket:d,resetGame:h}=Bt(),[f,m]=g.useState({isOpen:!1,type:null}),x=l(),y=x==null?void 0:x.isHost,p=n.length,w=2,j=p===w,S=()=>{s&&navigator.clipboard.writeText(s).then(()=>{console.log("Invite code copied to clipboard!")}).catch(A=>{console.error("Failed to copy invite code: ",A)})},P=()=>{x&&j&&r()},C=A=>{if(A==="category"&&!y){console.warn("Non-host attempted to navigate back to categories.");return}m({isOpen:!0,type:A})},k=()=>{y&&(d!=null&&d.connected)?(console.log("Host is leaving the game, notifying server"),d.emit("leaveGame",{gameId:s,isHost:!0})):!y&&(d!=null&&d.connected)?(console.log("Player is leaving the game, notifying server"),d.emit("leaveGame",{gameId:s,isHost:!1})):console.warn("Socket not connected while trying to leave game."),f.type==="category"&&t?t():f.type==="mode"&&e&&e(),h(),m({isOpen:!1,type:null})},R=j&&n.every(A=>A.isReady);return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-[#1a1a1a] text-white",children:[" ",a.jsxs("div",{className:"fixed bottom-6 left-6 z-50 flex flex-col gap-3",children:[t&&a.jsx(qe,{icon:ws,label:ve.CATEGORIES,onClick:()=>C("category"),disabled:!y,tooltip:y?void 0:"Only the host can change category/go back"}),e&&a.jsx(qe,{icon:yt,label:ve.MODES,onClick:()=>C("mode"),delay:.1})]}),y&&a.jsxs("div",{className:"fixed top-4 right-4 px-3 py-1 rounded-full text-sm bg-yellow-500/20 text-yellow-400 flex items-center gap-1",children:[a.jsx(kc,{size:14})," Host"]}),a.jsx(vi,{isOpen:f.isOpen,onConfirm:k,onCancel:()=>m({isOpen:!1,type:null}),title:"Leave Lobby?",message:y?tn.HOST_LEAVE_LOBBY:tn.LEAVE_LOBBY,confirmText:f.type==="category"?`Go to ${ve.CATEGORIES}`:`Go to ${ve.MODES}`,cancelText:ve.STAY}),a.jsxs("div",{className:"w-full max-w-2xl bg-gray-800 rounded-lg p-6 shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"1v1 Game Lobby"}),s?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:s,readOnly:!0,className:"bg-gray-700 text-white px-3 py-1 rounded font-mono text-sm w-24 sm:w-auto"}),a.jsx("button",{onClick:S,className:"p-2 rounded bg-green-600 hover:bg-green-700 text-white transition-colors",title:"Copy invite code",children:a.jsx(js,{size:20})})]}):a.jsx("span",{className:"text-sm text-gray-400",children:"Generating code..."})]}),a.jsx("div",{className:"mb-6 flex items-center justify-center",children:a.jsxs("div",{className:"bg-gray-700 rounded-full px-4 py-2 flex items-center gap-2",children:[a.jsx(Zs,{size:20,className:"text-green-400"}),a.jsxs("span",{className:"text-white font-medium",children:[p,"/",w," Players"]})]})}),c&&p<w&&a.jsxs("div",{className:"text-center mb-8 animate-pulse",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 text-yellow-400",children:[a.jsx(Mt,{className:"w-6 h-6 animate-spin"}),a.jsx("span",{className:"text-lg font-medium",children:"Waiting for opponent..."})]}),a.jsxs("p",{className:"text-gray-400 mt-2 text-sm sm:text-base",children:[" ","Share the game code above with your opponent to start!"]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-xl text-white flex items-center gap-2 mb-4",children:[a.jsx(Zs,{size:24}),"Players"]}),a.jsxs("div",{className:"grid gap-3",children:[n.map(A=>a.jsxs("div",{className:`flex items-center justify-between p-3 sm:p-4 rounded-lg ${A.id===(x==null?void 0:x.id)?"bg-gray-700":"bg-gray-700/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden mr-2",children:[" ",a.jsx("span",{className:"text-white font-medium truncate",children:A.username})," ",A.id===(x==null?void 0:x.id)&&a.jsxs("span",{className:"text-xs bg-green-600/20 text-green-400 px-2 py-1 rounded flex-shrink-0",children:[" ","You"]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[" ",A.id===(x==null?void 0:x.id)&&!A.isReady&&j&&a.jsxs("button",{onClick:P,className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o!==null,children:[a.jsx(la,{size:16}),"Ready Up"]}),A.isReady?a.jsxs("span",{className:"text-green-400 flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[a.jsx(ny,{size:16}),"Ready"]}):a.jsxs("span",{className:"text-gray-400 flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[a.jsx(la,{size:16}),"Not Ready"]})]})]},A.id)),p<w&&a.jsx("div",{className:"p-4 rounded-lg bg-gray-700/30 border-2 border-dashed border-gray-600",children:a.jsx("div",{className:"text-gray-400 text-center",children:"Waiting for opponent..."})})]})]}),o!==null&&o>0&&a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-2xl text-green-400 font-bold",children:[a.jsx(Tr,{className:"w-6 h-6 animate-pulse"}),a.jsxs("span",{className:"animate-pulse",children:["Game starting in ",o,"..."]})]})}),o===null&&a.jsxs("div",{className:"text-center text-gray-400 h-6",children:[" ",R?a.jsx("p",{children:"All players ready! Starting game..."}):j?a.jsx("p",{children:"Waiting for players to be ready..."}):a.jsx("p",{children:""})]})]})]})},Kn={gameId:"",mode:"solo",category:"mixed",players:[],currentQuestion:0,questions:[],timeRemaining:15,isGameStarted:!1,isGameEnded:!1,chatMessages:[],startCountdown:null,finishedPlayers:new Set,answeredPlayers:new Set,startTime:Date.now(),questionStartTimes:[],questionResponseTimes:[],playerResponseTimes:new Map,isTransitioning:!1,waitingForPlayers:!1,currentPlayerId:en(),scores:new Map,selectedAnswer:null,isAnswerChecked:!1,isCorrect:!1,nextQuestionPending:null,lastSyncTime:Date.now(),questionStartTime:Date.now(),socket:null},xi=da((t,e)=>{let s=null;const n=()=>{s&&clearTimeout(s)};return{...Kn,resetGame:()=>{n(),t({...Kn,startTime:Date.now(),questionStartTime:Date.now(),currentPlayerId:en()})},initializeGame:async r=>{if(r!=="solo")return console.log("Non-solo mode requested, deferring to oneVsOneStore"),Promise.resolve();n();const i=en();t({...Kn,mode:r,currentPlayerId:i,startTime:Date.now(),questionStartTime:Date.now(),waitingForPlayers:!1,isGameStarted:!1})},addPlayer:r=>{const o=e().currentPlayerId;t(l=>({...l,players:[{id:o,username:r,score:0,correctAnswers:0,isReady:!1,hasFinished:!1}],scores:new Map([[o,0]])}))},setTimeRemaining:r=>{t({timeRemaining:r})},setCategory:async r=>{const i=e();if(console.log("Setting category:",r,"Mode:",i.mode),i.mode!=="solo")return console.log("Non-solo mode requested, deferring to oneVsOneStore"),Promise.resolve();if(i._categoryFetchInProgress){console.log("Category fetch already in progress, ignoring duplicate request");return}if(i.category===r&&i.questions.length>0){console.log("Category already set and questions loaded. Skipping duplicate fetch."),i.isGameStarted||setTimeout(()=>{t({isGameStarted:!0})},50);return}try{t(l=>({...l,_categoryFetchInProgress:!0})),t(l=>({...l,category:r}));const o=await wf(r);console.log("Fetched questions for category:",r,o),t(l=>({...l,questions:o,currentQuestion:0,timeRemaining:15,questionResponseTimes:[],startTime:Date.now(),questionStartTime:Date.now(),questionStartTimes:[Date.now()],waitingForPlayers:!1,isGameEnded:!1,isTransitioning:!1,selectedAnswer:null,isAnswerChecked:!1,isCorrect:!1,scores:new Map([[l.currentPlayerId,0]]),players:l.players.map(c=>({...c,score:0,correctAnswers:0,isReady:!1,hasFinished:!1})),_categoryFetchInProgress:!1})),setTimeout(()=>{t({isGameStarted:!0})},50)}catch(o){throw t(l=>({...l,_categoryFetchInProgress:!1})),console.error("Error in setCategory:",o),o}},getCurrentPlayer:()=>{const r=e();return r.players.find(i=>i.id===r.currentPlayerId)},startGame:()=>{e().mode==="solo"&&t({isGameStarted:!0})},endGame:()=>{const r=e();if(r.mode==="solo"){const o=(Date.now()-r.startTime)/1e3;t({isGameStarted:!1,isGameEnded:!0,completionTime:o})}},nextQuestion:()=>{n(),t(r=>({currentQuestion:r.currentQuestion+1,timeRemaining:15,answeredPlayers:new Set,questionStartTimes:[...r.questionStartTimes,Date.now()],isTransitioning:!1,selectedAnswer:null,isAnswerChecked:!1,isCorrect:!1}))},checkAnswer:r=>{const i=e();return i.questions[i.currentQuestion].correctAnswer===r},submitAnswer:(r,i,o,l)=>{var x;const c=e(),u=(x=c.getCurrentPlayer)==null?void 0:x.call(c);if(!u)return;const d=15-i,h=[...c.questionResponseTimes,d],m=c.questions[c.currentQuestion].correctAnswer===r;c.mode==="solo"&&(t(y=>({...y,questionResponseTimes:h,scores:new Map(y.scores).set(u.id,l),players:y.players.map(p=>p.id===u.id?{...p,score:l,correctAnswers:m?p.correctAnswers+1:p.correctAnswers}:p),isTransitioning:!0})),s&&clearTimeout(s),s=setTimeout(()=>{const y=e();y.currentQuestion<y.questions.length-1?t({currentQuestion:y.currentQuestion+1,timeRemaining:15,isTransitioning:!1}):t({isGameEnded:!0,completionTime:(Date.now()-y.startTime)/1e3})},2e3))},setPlayerReady:()=>{},addChatMessage:()=>{},setIsTransitioning:r=>{t({isTransitioning:r})},handleRematch:()=>{},getPlayerResponseTimes:r=>{const i=e();return r===i.currentPlayerId?i.questionResponseTimes:i.playerResponseTimes.get(r)||[]},joinGame:()=>Promise.resolve()}}),ky=[{emoji:"",text:"Great shot!"},{emoji:"",text:"Nice one!"},{emoji:"",text:"Perfect answer!"},{emoji:"",text:"On fire!"},{emoji:"",text:"Keep it up!"}],Jn=[{threshold:12,points:5,label:"Lightning Fast",emoji:""},{threshold:10,points:4,label:"Quick",emoji:""},{threshold:8,points:3,label:"Normal",emoji:""},{threshold:6,points:2,label:"Measured",emoji:""},{threshold:3,points:1,label:"Delayed",emoji:""},{threshold:0,points:0,label:"Slow",emoji:""}],Py={hidden:{x:-20,opacity:0},visible:t=>({x:0,opacity:1,transition:{delay:t*.1,type:"spring",stiffness:100,damping:10}}),exit:{x:20,opacity:0}},Ay=({mode:t,onBackToCategory:e,onBackToMode:s})=>{g.useEffect(()=>(console.log("QuizGame component mounted for mode:",t),()=>{console.log("QuizGame component unmounting")}),[t]);const n=xi(),r=Bt(),i=t==="solo"?n:r,{currentQuestion:o,questions:l,category:c,players:u,chatMessages:d,addChatMessage:h,isGameEnded:f,submitAnswer:m,getCurrentPlayer:x,getPlayerResponseTimes:y,endGame:p,socket:w,gameId:j,resetGame:S}=i,[P,C]=g.useState(null),[k,R]=g.useState(!1),[A,W]=g.useState(!1),[K,le]=g.useState(15),[he,we]=g.useState(!1),[ne,Z]=g.useState(!0),[U,H]=g.useState(0),[Y,J]=g.useState(null),[b,v]=g.useState(!1),[T,N]=g.useState(null),[M,$]=g.useState({isOpen:!1,type:null}),I=x(),L=I==null?void 0:I.isHost,O=l[o],z=t!=="solo";g.useEffect(()=>{O?console.log(`Current question (${o}):`,O.question.substring(0,30)+"..."):console.log("No question available yet")},[O,o]);const ee={football:{icon:tt,emoji:"",color:"text-yellow-400"},basketball:{icon:xn,emoji:"",color:"text-orange-400"},tennis:{icon:Cc,emoji:"",color:"text-green-400"},olympics:{icon:Nc,emoji:"",color:"text-blue-400"},mixed:{icon:Pc,emoji:"",color:"text-purple-400"}},Q=ee[c]||ee.mixed,se=Q.icon,oe=I?y(I.id):[],q=oe[oe.length-1],fe=oe.reduce((F,ue)=>F+ue,0),je=()=>{$({isOpen:!0,type:"category"})},Se=()=>{$({isOpen:!0,type:"mode"})},Ne=()=>{$({isOpen:!0,type:"leave"})},Fe=()=>{z&&(w!=null&&w.connected)&&(console.log("Multiplayer mode: notifying server about leaving the game"),w.emit("leaveGame",{gameId:j,isHost:L||!1}),S()),M.type==="category"&&e?e():(M.type==="mode"||M.type==="leave")&&s&&s(),$({isOpen:!1,type:null})};g.useEffect(()=>{if(!z||!O||f||b)return;if(o===l.length-1&&k){console.log("Last question answered by current player, checking end game conditions...");const ue=setTimeout(()=>{console.log("Forcing game end after last question"),v(!0),p()},3e3);return()=>clearTimeout(ue)}},[o,l.length,k,z,O,p,f,b]),g.useEffect(()=>{O&&(console.log("Question changed, resetting state for question:",o),Z(!0),C(null),R(!1),W(!1),le(15),H(0),J(null),N(null))},[o,O]);const _e=g.useCallback(F=>{for(const ue of Jn)if(F>=ue.threshold)return ue;return Jn[Jn.length-1]},[]),wn=g.useCallback(F=>{if(!ne||!I||!O)return;Z(!1),C(F);const ue=F===O.correctAnswer;W(ue),R(!0),N(O.correctAnswer);let ye=0,Ge=null;ue&&(ye=10,Ge=_e(K),ye+=Ge.points,J(Ge)),H(ye);const _n=(I.score||0)+ye;m(F,K,ye,_n),o===l.length-1&&console.log("This was the last question!")},[I,K,O,m,ne,o,l.length,_e]),Ts=g.useCallback(()=>{if(!k&&ne&&I){Z(!1),R(!0),W(!1),H(0);const F=I.score||0;m("",0,0,F)}},[k,m,ne,I]);g.useEffect(()=>{let F;if(!k&&!f&&ne&&O){const ue=Date.now();return F=setInterval(()=>{const Ge=(Date.now()-ue)/1e3,rt=Math.max(15-Ge,0);le(rt),rt<=0&&(clearInterval(F),Ts())},50),()=>clearInterval(F)}},[k,Ts,f,ne,O]);const jn=F=>F<3?"text-green-400":F<7?"text-yellow-400":"text-orange-400",Cs=F=>F>10?"text-green-400":F>5?"text-yellow-400":"text-red-400",Sn=F=>F.points>=5?"text-purple-400":F.points>=4?"text-blue-400":F.points>=3?"text-green-400":F.points>=2?"text-yellow-400":F.points>=1?"text-orange-400":"text-gray-400";if(f)return a.jsx("div",{className:"text-white text-center p-8 flex flex-col items-center justify-center min-h-screen",children:a.jsxs(_.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"card p-8 max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Game completed!"}),a.jsx("p",{className:"mb-4",children:"Loading results..."}),a.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:a.jsx(_.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:1},className:"h-2 bg-green-500 rounded-full"})})]})});if(!O)return a.jsx("div",{className:"text-white text-center p-8 flex flex-col items-center justify-center min-h-screen",children:a.jsxs(_.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"card p-8 max-w-md",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Loading..."}),a.jsx("p",{className:"mb-4",children:"Preparing questions"}),a.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:a.jsx(_.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:1},className:"h-2 bg-blue-500 rounded-full w-1/2"})})]})});const ks=o+1;return a.jsxs("div",{className:"min-h-screen bg-background p-4",children:[a.jsx(vi,{isOpen:M.isOpen,onConfirm:Fe,onCancel:()=>$({isOpen:!1,type:null}),title:"Are you sure?",message:z&&L?tn.HOST_LEAVE:tn.LEAVE_GAME,confirmText:M.type==="category"?ve.CATEGORIES:M.type==="leave"?"Leave Game":ve.MODES,cancelText:ve.STAY}),a.jsx(_.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"fixed top-0 left-0 right-0 bg-gray-800/90 backdrop-blur-sm border-b border-gray-700/50 z-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mx-auto",children:[a.jsx(_.div,{whileHover:{scale:1.1,rotate:360},transition:{duration:.5},className:`p-2 rounded-lg bg-gray-700/50 ${Q.color}`,children:a.jsx(se,{className:"w-6 h-6"})}),a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-white font-medium capitalize flex items-center gap-1 justify-center",children:[c," Quiz",a.jsx("span",{className:"text-xl ml-1",children:Q.emoji})]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Question ",ks," of ",l.length]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[z&&a.jsx("div",{className:"flex gap-2",children:u.map(F=>a.jsxs(_.div,{className:`px-3 py-1 rounded-full ${F.id===(I==null?void 0:I.id)?"bg-green-600/20":"bg-gray-700/20"}`,whileHover:{scale:1.05},children:[a.jsx("span",{className:"text-white font-medium",children:F.score||0}),a.jsx("span",{className:"text-gray-400 text-sm ml-1",children:F.username})]},F.id))}),a.jsxs(_.div,{className:`flex items-center gap-2 bg-gray-700/30 px-4 py-2 rounded-full ${Cs(K)}`,animate:{scale:K<=5?[1,1.1,1]:1,transition:{duration:.5,repeat:K<=5?1/0:0,repeatType:"reverse"}},children:[a.jsx(_.div,{animate:{rotate:360,transition:{duration:2,repeat:1/0,ease:"linear"}},children:a.jsx(Tr,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-medium min-w-[4ch] text-right",children:K.toFixed(2)})]})]})]})}),z?a.jsx("div",{className:"fixed bottom-6 left-6 z-50",children:a.jsx(qe,{icon:ey,label:"Leave Game",onClick:Ne})}):a.jsxs("div",{className:"fixed bottom-6 left-6 z-50 flex flex-col gap-3",children:[e&&a.jsx(qe,{icon:ws,label:ve.CATEGORIES,onClick:je}),s&&a.jsx(qe,{icon:yt,label:ve.MODES,onClick:Se,delay:.1})]}),z&&L&&a.jsxs("div",{className:"fixed top-4 right-4 px-3 py-1 rounded-full text-sm bg-yellow-500/20 text-yellow-400 flex items-center gap-1",children:[a.jsx(tt,{size:14})," Host"]}),a.jsxs("div",{className:"container-game pt-20",children:[a.jsxs(_.div,{className:"card",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:30},children:[a.jsx(Me,{mode:"wait",children:a.jsx(_.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"text-2xl font-bold text-white mb-8",children:O.question},O.question)}),a.jsx(Me,{mode:"wait",children:a.jsx(_.div,{className:"grid gap-4",initial:"hidden",animate:"visible",exit:"exit",children:O.options.map((F,ue)=>{let ye="p-4 rounded-xl text-left w-full transition-colors duration-300 ";return k?F===O.correctAnswer?ye+="bg-green-600 text-white":F===P?ye+="bg-red-600 text-white":ye+="bg-gray-700 text-gray-400":ye+="bg-gray-700 hover:bg-gray-600 text-white",a.jsx(_.button,{custom:ue,variants:Py,onClick:()=>wn(F),disabled:!ne,className:ye,whileHover:ne?{scale:1.02,transition:{type:"spring",stiffness:400,damping:10}}:{},whileTap:ne?{scale:.98,transition:{type:"spring",stiffness:400,damping:10}}:{},children:a.jsx(_.div,{initial:!1,animate:{color:k?F===O.correctAnswer?"#10B981":F===P?"#EF4444":"#9CA3AF":"#FFFFFF"},transition:{duration:.3},children:F})},F)})},o)}),a.jsx(Me,{children:k&&a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 space-y-2",children:[a.jsxs(_.div,{className:`flex items-center gap-2 ${A?"text-green-500":"text-red-500"}`,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},children:[a.jsx(js,{size:20}),a.jsx("span",{children:A?`Correct! +${U} points`:`Wrong! The correct answer was ${T||O.correctAnswer}`})]}),A&&Y&&a.jsx(_.div,{className:`flex items-center gap-2 ${Sn(Y)}`,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.1},children:a.jsxs("span",{className:"text-sm",children:[Y.emoji," ",Y.label," bonus: +",Y.points," points"]})}),q!==void 0&&a.jsxs(_.div,{className:`flex items-center gap-2 ${jn(q)}`,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.2},children:[a.jsx(Tr,{size:16}),a.jsxs("span",{className:"text-sm",children:["Response time: ",q.toFixed(2),"s",fe>0&&` (total ${fe.toFixed(2)}s)`]})]})]})})]}),z&&a.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col items-end",children:[a.jsx(_.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>we(!he),className:"mb-2 p-3 rounded-full bg-green-600 hover:bg-green-700 text-white transition-colors",children:he?a.jsx(Ss,{size:24}):a.jsx(hs,{size:24})}),a.jsx(Me,{children:he&&a.jsxs(_.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"space-y-2",children:[a.jsx("div",{className:"mb-2 w-64 card max-h-40 overflow-y-auto",children:d.map(F=>a.jsxs("div",{className:`mb-2 text-sm ${F.playerId===(I==null?void 0:I.id)?"text-green-400":"text-white"}`,children:[a.jsxs("span",{className:"font-bold",children:[F.playerName,":"]})," ",F.message]},F.id))}),a.jsx("div",{className:"grid grid-cols-2 gap-2 w-64",children:ky.map(({emoji:F,text:ue})=>a.jsxs(_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>I&&h(I.id,`${F} ${ue}`),className:"p-2 text-sm bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[F," ",ue]},ue))})]})})]}),!z&&a.jsxs(_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 text-center text-gray-300",children:["Score: ",a.jsx("span",{className:"text-green-500 font-bold",children:(I==null?void 0:I.score)||0})]})]})]})};var _s={};(function t(e,s,n,r){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),v=b.getContext("2d");v.fillRect(0,0,1,1);var T=b.transferToImageBitmap();try{v.createPattern(T,"no-repeat")}catch{return!1}return!0}();function c(){}function u(b){var v=s.exports.Promise,T=v!==void 0?v:e.Promise;return typeof T=="function"?new T(b):(b(c,c),null)}var d=function(b,v){return{transform:function(T){if(b)return T;if(v.has(T))return v.get(T);var N=new OffscreenCanvas(T.width,T.height),M=N.getContext("2d");return M.drawImage(T,0,0),v.set(T,N),N},clear:function(){v.clear()}}}(l,new Map),h=function(){var b=Math.floor(16.666666666666668),v,T,N={},M=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(v=function($){var I=Math.random();return N[I]=requestAnimationFrame(function L(O){M===O||M+b-1<O?(M=O,delete N[I],$()):N[I]=requestAnimationFrame(L)}),I},T=function($){N[$]&&cancelAnimationFrame(N[$])}):(v=function($){return setTimeout($,b)},T=function($){return clearTimeout($)}),{frame:v,cancel:T}}(),f=function(){var b,v,T={};function N(M){function $(I,L){M.postMessage({options:I||{},callback:L})}M.init=function(L){var O=L.transferControlToOffscreen();M.postMessage({canvas:O},[O])},M.fire=function(L,O,z){if(v)return $(L,null),v;var ee=Math.random().toString(36).slice(2);return v=u(function(Q){function se(oe){oe.data.callback===ee&&(delete T[ee],M.removeEventListener("message",se),v=null,d.clear(),z(),Q())}M.addEventListener("message",se),$(L,ee),T[ee]=se.bind(null,{data:{callback:ee}})}),v},M.reset=function(){M.postMessage({reset:!0});for(var L in T)T[L](),delete T[L]}}return function(){if(b)return b;if(!n&&i){var M=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([M])))}catch($){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",$),null}N(b)}return b}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(b,v){return v?v(b):b}function y(b){return b!=null}function p(b,v,T){return x(b&&y(b[v])?b[v]:m[v],T)}function w(b){return b<0?0:Math.floor(b)}function j(b,v){return Math.floor(Math.random()*(v-b))+b}function S(b){return parseInt(b,16)}function P(b){return b.map(C)}function C(b){var v=String(b).replace(/[^0-9a-f]/gi,"");return v.length<6&&(v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2]),{r:S(v.substring(0,2)),g:S(v.substring(2,4)),b:S(v.substring(4,6))}}function k(b){var v=p(b,"origin",Object);return v.x=p(v,"x",Number),v.y=p(v,"y",Number),v}function R(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function A(b){var v=b.getBoundingClientRect();b.width=v.width,b.height=v.height}function W(b){var v=document.createElement("canvas");return v.style.position="fixed",v.style.top="0px",v.style.left="0px",v.style.pointerEvents="none",v.style.zIndex=b,v}function K(b,v,T,N,M,$,I,L,O){b.save(),b.translate(v,T),b.rotate($),b.scale(N,M),b.arc(0,0,1,I,L,O),b.restore()}function le(b){var v=b.angle*(Math.PI/180),T=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-v+(.5*T-Math.random()*T),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function he(b,v){v.x+=Math.cos(v.angle2D)*v.velocity+v.drift,v.y+=Math.sin(v.angle2D)*v.velocity+v.gravity,v.velocity*=v.decay,v.flat?(v.wobble=0,v.wobbleX=v.x+10*v.scalar,v.wobbleY=v.y+10*v.scalar,v.tiltSin=0,v.tiltCos=0,v.random=1):(v.wobble+=v.wobbleSpeed,v.wobbleX=v.x+10*v.scalar*Math.cos(v.wobble),v.wobbleY=v.y+10*v.scalar*Math.sin(v.wobble),v.tiltAngle+=.1,v.tiltSin=Math.sin(v.tiltAngle),v.tiltCos=Math.cos(v.tiltAngle),v.random=Math.random()+2);var T=v.tick++/v.totalTicks,N=v.x+v.random*v.tiltCos,M=v.y+v.random*v.tiltSin,$=v.wobbleX+v.random*v.tiltCos,I=v.wobbleY+v.random*v.tiltSin;if(b.fillStyle="rgba("+v.color.r+", "+v.color.g+", "+v.color.b+", "+(1-T)+")",b.beginPath(),o&&v.shape.type==="path"&&typeof v.shape.path=="string"&&Array.isArray(v.shape.matrix))b.fill(H(v.shape.path,v.shape.matrix,v.x,v.y,Math.abs($-N)*.1,Math.abs(I-M)*.1,Math.PI/10*v.wobble));else if(v.shape.type==="bitmap"){var L=Math.PI/10*v.wobble,O=Math.abs($-N)*.1,z=Math.abs(I-M)*.1,ee=v.shape.bitmap.width*v.scalar,Q=v.shape.bitmap.height*v.scalar,se=new DOMMatrix([Math.cos(L)*O,Math.sin(L)*O,-Math.sin(L)*z,Math.cos(L)*z,v.x,v.y]);se.multiplySelf(new DOMMatrix(v.shape.matrix));var oe=b.createPattern(d.transform(v.shape.bitmap),"no-repeat");oe.setTransform(se),b.globalAlpha=1-T,b.fillStyle=oe,b.fillRect(v.x-ee/2,v.y-Q/2,ee,Q),b.globalAlpha=1}else if(v.shape==="circle")b.ellipse?b.ellipse(v.x,v.y,Math.abs($-N)*v.ovalScalar,Math.abs(I-M)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI):K(b,v.x,v.y,Math.abs($-N)*v.ovalScalar,Math.abs(I-M)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI);else if(v.shape==="star")for(var q=Math.PI/2*3,fe=4*v.scalar,je=8*v.scalar,Se=v.x,Ne=v.y,Fe=5,_e=Math.PI/Fe;Fe--;)Se=v.x+Math.cos(q)*je,Ne=v.y+Math.sin(q)*je,b.lineTo(Se,Ne),q+=_e,Se=v.x+Math.cos(q)*fe,Ne=v.y+Math.sin(q)*fe,b.lineTo(Se,Ne),q+=_e;else b.moveTo(Math.floor(v.x),Math.floor(v.y)),b.lineTo(Math.floor(v.wobbleX),Math.floor(M)),b.lineTo(Math.floor($),Math.floor(I)),b.lineTo(Math.floor(N),Math.floor(v.wobbleY));return b.closePath(),b.fill(),v.tick<v.totalTicks}function we(b,v,T,N,M){var $=v.slice(),I=b.getContext("2d"),L,O,z=u(function(ee){function Q(){L=O=null,I.clearRect(0,0,N.width,N.height),d.clear(),M(),ee()}function se(){n&&!(N.width===r.width&&N.height===r.height)&&(N.width=b.width=r.width,N.height=b.height=r.height),!N.width&&!N.height&&(T(b),N.width=b.width,N.height=b.height),I.clearRect(0,0,N.width,N.height),$=$.filter(function(oe){return he(I,oe)}),$.length?L=h.frame(se):Q()}L=h.frame(se),O=Q});return{addFettis:function(ee){return $=$.concat(ee),z},canvas:b,promise:z,reset:function(){L&&h.cancel(L),O&&O()}}}function ne(b,v){var T=!b,N=!!p(v||{},"resize"),M=!1,$=p(v,"disableForReducedMotion",Boolean),I=i&&!!p(v||{},"useWorker"),L=I?f():null,O=T?R:A,z=b&&L?!!b.__confetti_initialized:!1,ee=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Q;function se(q,fe,je){for(var Se=p(q,"particleCount",w),Ne=p(q,"angle",Number),Fe=p(q,"spread",Number),_e=p(q,"startVelocity",Number),wn=p(q,"decay",Number),Ts=p(q,"gravity",Number),jn=p(q,"drift",Number),Cs=p(q,"colors",P),Sn=p(q,"ticks",Number),ks=p(q,"shapes"),F=p(q,"scalar"),ue=!!p(q,"flat"),ye=k(q),Ge=Se,rt=[],_n=b.width*ye.x,Gc=b.height*ye.y;Ge--;)rt.push(le({x:_n,y:Gc,angle:Ne,spread:Fe,startVelocity:_e,color:Cs[Ge%Cs.length],shape:ks[j(0,ks.length)],ticks:Sn,decay:wn,gravity:Ts,drift:jn,scalar:F,flat:ue}));return Q?Q.addFettis(rt):(Q=we(b,rt,O,fe,je),Q.promise)}function oe(q){var fe=$||p(q,"disableForReducedMotion",Boolean),je=p(q,"zIndex",Number);if(fe&&ee)return u(function(_e){_e()});T&&Q?b=Q.canvas:T&&!b&&(b=W(je),document.body.appendChild(b)),N&&!z&&O(b);var Se={width:b.width,height:b.height};L&&!z&&L.init(b),z=!0,L&&(b.__confetti_initialized=!0);function Ne(){if(L){var _e={getBoundingClientRect:function(){if(!T)return b.getBoundingClientRect()}};O(_e),L.postMessage({resize:{width:_e.width,height:_e.height}});return}Se.width=Se.height=null}function Fe(){Q=null,N&&(M=!1,e.removeEventListener("resize",Ne)),T&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,z=!1)}return N&&!M&&(M=!0,e.addEventListener("resize",Ne,!1)),L?L.fire(q,Se,Fe):se(q,Se,Fe)}return oe.reset=function(){L&&L.reset(),Q&&Q.reset()},oe}var Z;function U(){return Z||(Z=ne(null,{useWorker:!0,resize:!0})),Z}function H(b,v,T,N,M,$,I){var L=new Path2D(b),O=new Path2D;O.addPath(L,new DOMMatrix(v));var z=new Path2D;return z.addPath(O,new DOMMatrix([Math.cos(I)*M,Math.sin(I)*M,-Math.sin(I)*$,Math.cos(I)*$,T,N])),z}function Y(b){if(!o)throw new Error("path confetti are not supported in this browser");var v,T;typeof b=="string"?v=b:(v=b.path,T=b.matrix);var N=new Path2D(v),M=document.createElement("canvas"),$=M.getContext("2d");if(!T){for(var I=1e3,L=I,O=I,z=0,ee=0,Q,se,oe=0;oe<I;oe+=2)for(var q=0;q<I;q+=2)$.isPointInPath(N,oe,q,"nonzero")&&(L=Math.min(L,oe),O=Math.min(O,q),z=Math.max(z,oe),ee=Math.max(ee,q));Q=z-L,se=ee-O;var fe=10,je=Math.min(fe/Q,fe/se);T=[je,0,0,je,-Math.round(Q/2+L)*je,-Math.round(se/2+O)*je]}return{type:"path",path:v,matrix:T}}function J(b){var v,T=1,N="#000000",M='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?v=b:(v=b.text,T="scalar"in b?b.scalar:T,M="fontFamily"in b?b.fontFamily:M,N="color"in b?b.color:N);var $=10*T,I=""+$+"px "+M,L=new OffscreenCanvas($,$),O=L.getContext("2d");O.font=I;var z=O.measureText(v),ee=Math.ceil(z.actualBoundingBoxRight+z.actualBoundingBoxLeft),Q=Math.ceil(z.actualBoundingBoxAscent+z.actualBoundingBoxDescent),se=2,oe=z.actualBoundingBoxLeft+se,q=z.actualBoundingBoxAscent+se;ee+=se+se,Q+=se+se,L=new OffscreenCanvas(ee,Q),O=L.getContext("2d"),O.font=I,O.fillStyle=N,O.fillText(v,oe,q);var fe=1/T;return{type:"bitmap",bitmap:L.transferToImageBitmap(),matrix:[fe,0,0,fe,-ee*fe/2,-Q*fe/2]}}s.exports=function(){return U().apply(this,arguments)},s.exports.reset=function(){U().reset()},s.exports.create=ne,s.exports.shapeFromPath=Y,s.exports.shapeFromText=J})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),_s,!1);const Ot=_s.exports;_s.exports.create;const Ey={football:"",basketball:"",tennis:"",olympics:"",mixed:""},Ny=t=>t>=90?"Outstanding! ":t>=80?"Excellent! ":t>=70?"Great Job! ":t>=60?"Well Done! ":t>=50?"Good Effort! ":"Keep Practicing! ",Ry=({size:t=20,className:e=""})=>a.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",className:e,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M17.1907 4H19.9333L13.73 11.0533L20.8 20H15.0267L10.7027 14.4667L5.74933 20H3.00267L9.66667 12.4533L2.93333 4H8.84L12.7533 9.0467L17.1907 4ZM15.72 18.4667H17.0667L8.15733 5.46667H6.70933L15.72 18.4667Z"})}),Iy=({message:t,onClose:e})=>a.jsxs(_.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[a.jsx("span",{children:t}),a.jsx("button",{onClick:e,className:"ml-2 text-white/80 hover:text-white",children:a.jsx(Ss,{size:16})})]}),Dc=Oe.memo(({correctAnswers:t,incorrectAnswers:e,totalQuestions:s})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[a.jsx(Tc,{size:16})," Correct"]}),a.jsx("span",{className:"text-green-400 font-bold",children:t})]}),a.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500 transition-all duration-1000",style:{width:`${t/s*100}%`}})})]}),a.jsxs("div",{className:"w-12 text-center text-gray-400",children:[(t/s*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[a.jsx(Lc,{size:16})," Incorrect"]}),a.jsx("span",{className:"text-red-400 font-bold",children:e})]}),a.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${e/s*100}%`}})})]}),a.jsxs("div",{className:"w-12 text-center text-gray-400",children:[(e/s*100).toFixed(0),"%"]})]})]}));Dc.displayName="AnswerDistributionChart";const My=({shareText:t,shareUrl:e,onClose:s,onShowToast:n,player:r,score:i,maxScore:o,accuracy:l,category:c,categoryEmoji:u,setCustomShareText:d})=>{const[h,f]=g.useState(!1),m=async()=>{try{await navigator.clipboard.writeText(t),n("Text copied to clipboard!")}catch(w){console.error("Failed to copy text:",w)}},x=async()=>{try{await navigator.clipboard.writeText(e),n("Link copied to clipboard!")}catch(w){console.error("Failed to copy link:",w)}},y=()=>{f(!0),setTimeout(()=>{Ot({particleCount:100,spread:70,origin:{y:.6}}),n("Results shared successfully!"),f(!1),setTimeout(()=>{s()},1e3)},500)},p=w=>{let j;const S=t.includes("https://sportiq.games")?t:`${t} https://sportiq.games`;switch(w){case"x":j=`https://twitter.com/intent/tweet?text=${encodeURIComponent(S)}`;break;case"facebook":j=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent("https://sportiq.games")}&quote=${encodeURIComponent(t)}`;break;case"whatsapp":j=`https://wa.me/?text=${encodeURIComponent(S)}`;break;default:return}window.open(j,"_blank"),y()};return a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeIn",children:a.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md animate-scaleIn",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Challenge"}),a.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-700 text-gray-400 hover:text-white transition-colors",disabled:h,children:a.jsx(Ss,{size:20})})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-4 text-center",children:"Challenge your friends to beat your score!"}),a.jsxs("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 p-4 rounded-lg border border-gray-700 mb-6 relative group",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"S"}),a.jsx("span",{className:"text-blue-400 font-bold",children:"SportIQ"})]}),a.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between mb-3",children:[a.jsx("div",{className:"text-white font-bold",children:(r==null?void 0:r.username)||"You"}),a.jsx("div",{className:"bg-green-500/20 px-2 py-0.5 rounded text-green-400 text-sm",children:l>=80?"Master":l>=60?"Expert":"Challenger"})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 mb-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("div",{className:"text-gray-400 text-sm",children:"Score"}),a.jsxs("div",{className:"text-yellow-400 font-bold",children:[i,"/",o]})]}),a.jsx("div",{className:"mt-1 w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600",style:{width:`${Math.min(i/o*100,100)}%`}})})]}),a.jsxs("div",{className:"text-center text-sm text-gray-300",children:[c.charAt(0).toUpperCase()+c.slice(1)," Quiz ",u]})]}),a.jsx("div",{className:`absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 
                        flex items-center justify-center transition-opacity rounded-lg`,children:a.jsx("span",{className:"bg-white/20 backdrop-blur-sm px-3 py-1 rounded text-white text-sm",children:"Preview"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"flex justify-between text-gray-300 text-sm mb-2",children:[a.jsx("span",{children:"Customize your message:"}),a.jsxs("button",{onClick:m,className:"text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[a.jsx(js,{size:14})," Copy"]})]}),a.jsx("textarea",{value:t,onChange:w=>d(w.target.value),className:"w-full p-3 bg-gray-700 rounded-lg text-white text-sm resize-none border border-gray-600 focus:border-blue-500 focus:outline-none",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[a.jsxs("button",{className:`flex items-center justify-center gap-2 p-3 bg-blue-600 
                     hover:bg-blue-700 rounded-lg text-white transition-colors`,onClick:()=>p("x"),disabled:h,children:[h?a.jsx(Mt,{size:18,className:"animate-spin"}):a.jsx(vn,{size:18}),a.jsx("span",{children:"Share to Social"})]}),a.jsxs("button",{className:`flex items-center justify-center gap-2 p-3 bg-green-600 
                     hover:bg-green-700 rounded-lg text-white transition-colors`,onClick:()=>{m(),y()},disabled:h,children:[h?a.jsx(Mt,{size:18,className:"animate-spin"}):a.jsx(hs,{size:18}),a.jsx("span",{children:"Share via Chat"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("button",{onClick:()=>p("x"),className:"p-3 bg-black hover:bg-gray-900 rounded-lg text-white transition-colors flex items-center justify-center",title:"Share on X",disabled:h,children:a.jsx(Ry,{size:20})}),a.jsx("button",{onClick:()=>p("facebook"),className:"p-3 bg-[#4267B2]/90 hover:bg-[#4267B2] rounded-lg text-white transition-colors flex items-center justify-center",title:"Share on Facebook",disabled:h,children:a.jsx(Ac,{size:20})}),a.jsx("button",{onClick:()=>p("whatsapp"),className:"p-3 bg-[#25D366]/90 hover:bg-[#25D366] rounded-lg text-white transition-colors flex items-center justify-center",title:"Share on WhatsApp",disabled:h,children:a.jsx(hs,{size:20})}),a.jsx("button",{onClick:()=>{x(),y()},className:"p-3 bg-gray-600/90 hover:bg-gray-600 rounded-lg text-white transition-colors flex items-center justify-center",title:"Copy link",disabled:h,children:a.jsx(Ec,{size:20})})]})]})})},$c=Oe.memo(({score:t,accuracy:e,totalQuestions:s,correctAnswers:n,incorrectAnswers:r,fastestResponse:i,slowestResponse:o,avgTimePerQuestion:l,totalResponseTime:c})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gray-700/30 rounded-xl p-6 backdrop-blur-sm",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Final Score"}),a.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent",children:t}),a.jsx("div",{className:"mt-2 w-full bg-gray-700 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 transition-all duration-1000",style:{width:`${t/(s*15)*100}%`}})}),a.jsxs("div",{className:"text-gray-400 text-sm mt-1",children:["Max: ",s*15]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Accuracy"}),a.jsxs("div",{className:"text-4xl font-bold text-green-400",children:[e.toFixed(1),"%"]}),a.jsx("div",{className:"mt-2 w-full bg-gray-700 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-1000",style:{width:`${Math.min(e,100)}%`}})})]})]})}),a.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-6 backdrop-blur-sm",children:[a.jsxs("h3",{className:"text-xl text-white mb-4 flex items-center gap-2",children:[a.jsx(xn,{className:"w-5 h-5 text-green-400"}),"Answer Distribution"]}),a.jsx(Dc,{correctAnswers:n,incorrectAnswers:r,totalQuestions:s})]}),a.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-6 backdrop-blur-sm",children:[a.jsxs("h3",{className:"text-xl text-white mb-4 flex items-center gap-2",children:[a.jsx(yi,{className:"w-5 h-5 text-yellow-400"}),"Response Times"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Fastest Response"}),a.jsxs("span",{className:"text-green-400 font-bold",children:[i.toFixed(2),"s"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Slowest Response"}),a.jsxs("span",{className:"text-yellow-400 font-bold",children:[o.toFixed(2),"s"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Average Response"}),a.jsxs("span",{className:"text-blue-400 font-bold",children:[l.toFixed(2),"s"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Total Response Time"}),a.jsxs("span",{className:"text-purple-400 font-bold",children:[c.toFixed(2),"s"]})]})]})]})]}));$c.displayName="StatsDisplay";const Fc=Oe.memo(({onPlayAgain:t,onHome:e,onShare:s})=>a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:t,className:`flex items-center justify-center gap-2 p-4 rounded-xl bg-green-600 
               hover:bg-green-700 text-white font-semibold transition-all transform 
               hover:scale-[1.02] active:scale-[0.98] group`,children:[a.jsx(Rc,{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-500"}),"Play Again"]}),a.jsxs("button",{onClick:e,className:`flex items-center justify-center gap-2 p-4 rounded-xl bg-gray-700 
               hover:bg-gray-600 text-white font-semibold transition-all transform 
               hover:scale-[1.02] active:scale-[0.98] group`,children:[a.jsx(yt,{className:"w-5 h-5 group-hover:-translate-y-1 transition-transform"}),"Home"]}),a.jsxs("button",{onClick:s,className:`flex flex-col items-center justify-center p-4 rounded-xl bg-blue-600 
               hover:bg-blue-700 text-white transition-all transform 
               hover:scale-[1.02] active:scale-[0.98] group`,children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(vn,{className:"w-5 h-5 group-hover:rotate-45 transition-transform"}),a.jsx("span",{children:"Challenge"})]}),a.jsx("span",{className:"text-xs text-blue-200 mt-1",children:"Share your score"})]})]}));Fc.displayName="ActionButtons";const Vc=Oe.memo(({onPlayAgain:t,onHome:e})=>{const{players:s,category:n,questions:r,questionResponseTimes:i}=xi(),o=s[0],l=Ey[n],[c,u]=g.useState(!1),[d,h]=g.useState(null),f=r.length,m=(o==null?void 0:o.score)||0,x=f*15,y=m/x*100,p=()=>`I just ${y>=90?"mastered":y>=70?"aced":y>=50?"conquered":"tackled"} the ${n} quiz on SportIQ with ${m}/${x} points (${y.toFixed(1)}% accuracy)! Think you can beat my score?  #SportIQ https://sportiq.games`,[w,j]=g.useState(p()),S=w,P="https://sportiq.games";g.useState(!1);const C=(o==null?void 0:o.correctAnswers)||0,k=f-C,R=i.filter(Z=>Z>0&&Z<=15),A=R.length>0?Math.min(...R):0,W=R.length>0?Math.max(...R):0,K=R.length>0?R.reduce((Z,U)=>Z+U,0)/R.length:0,le=R.reduce((Z,U)=>Z+U,0),he=Ny(y),we=Z=>{h(Z),setTimeout(()=>h(null),3e3)};g.useEffect(()=>{const U=Date.now()+3e3,H={startVelocity:30,spread:360,ticks:60,zIndex:0},Y=(b,v)=>Math.random()*(v-b)+b,J=setInterval(()=>{const b=U-Date.now();if(b<=0)return clearInterval(J);const v=50*(b/3e3);Ot({...H,particleCount:v,origin:{x:Y(.1,.3),y:Math.random()-.2}}),Ot({...H,particleCount:v,origin:{x:Y(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(J)},[]);const ne=g.useCallback(()=>{u(!0),j(p())},[p]);return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-gray-900 to-gray-800",children:[a.jsxs("div",{className:"w-full max-w-xl bg-gray-800/50 backdrop-blur-lg rounded-2xl p-8 shadow-xl border border-gray-700/50",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx(tt,{className:"w-24 h-24 text-yellow-400 animate-bounce filter drop-shadow-lg"}),a.jsx("span",{className:"absolute top-12 right-0 text-4xl animate-pulse",children:l}),a.jsx("div",{className:"absolute inset-0 bg-yellow-400/20 blur-xl rounded-full"})]}),a.jsx("h2",{className:"text-4xl font-bold text-white mt-6 mb-2",children:"Game Complete!"}),a.jsx("p",{className:"text-2xl text-green-400 font-bold mb-2",children:he}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[a.jsx(Mc,{className:"w-4 h-4"}),a.jsxs("span",{children:["Total response time: ",le.toFixed(2),"s"]})]})]}),a.jsx($c,{score:m,accuracy:y,totalQuestions:f,correctAnswers:C,incorrectAnswers:k,fastestResponse:A,slowestResponse:W,avgTimePerQuestion:K,totalResponseTime:le}),a.jsx("div",{className:"mt-8",children:a.jsx(Fc,{onPlayAgain:t,onHome:e,onShare:ne})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-gray-400 text-sm",children:"Challenge your friends to beat your score! "})})]}),c&&a.jsx(My,{shareText:S,shareUrl:P,onClose:()=>u(!1),onShowToast:we,player:o,score:m,maxScore:x,accuracy:y,category:n,categoryEmoji:l,setCustomShareText:j}),a.jsx(Me,{children:d&&a.jsx(Iy,{message:d,onClose:()=>h(null)})}),a.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes scaleIn {
          from { transform: scale(0.95); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        
        .animate-scaleIn {
          animation: scaleIn 0.3s ease-out;
        }
        
        /* Almarena-like font styling */
        .sport-share-text {
          font-family: "Almarena Neue", "Montserrat", "Segoe UI", sans-serif;
          font-weight: 700;
          letter-spacing: -0.02em;
          font-size: 1.1rem;
          line-height: 1.4;
          text-transform: none;
        }
      `})]})});Vc.displayName="SoloResultsScreen";const Oy={football:"",basketball:"",tennis:"",olympics:"",mixed:""},Ly=t=>t>=90?"Outstanding! ":t>=80?"Excellent! ":t>=70?"Great Job! ":t>=60?"Well Done! ":t>=50?"Good Effort! ":"Keep Practicing! ",Dy=({size:t=20,className:e=""})=>a.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",className:e,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M17.1907 4H19.9333L13.73 11.0533L20.8 20H15.0267L10.7027 14.4667L5.74933 20H3.00267L9.66667 12.4533L2.93333 4H8.84L12.7533 9.0467L17.1907 4ZM15.72 18.4667H17.0667L8.15733 5.46667H6.70933L15.72 18.4667Z"})}),$y=({message:t,onClose:e})=>a.jsxs(_.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[a.jsx("span",{children:t}),a.jsx("button",{onClick:e,className:"ml-2 text-white/80 hover:text-white",children:a.jsx(Ss,{size:16})})]}),Bc=Oe.memo(({correctAnswers:t,incorrectAnswers:e,totalQuestions:s})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[a.jsx(Tc,{size:16})," Correct"]}),a.jsx("span",{className:"text-green-400 font-bold",children:t})]}),a.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500 transition-all duration-1000",style:{width:`${t/s*100}%`}})})]}),a.jsxs("div",{className:"w-12 text-center text-gray-400",children:[(t/s*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[a.jsx(Lc,{size:16})," Incorrect"]}),a.jsx("span",{className:"text-red-400 font-bold",children:e})]}),a.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-500 transition-all duration-1000",style:{width:`${e/s*100}%`}})})]}),a.jsxs("div",{className:"w-12 text-center text-gray-400",children:[(e/s*100).toFixed(0),"%"]})]})]}));Bc.displayName="AnswerDistributionChart";const Fy=({shareText:t,shareUrl:e,onClose:s,onShowToast:n,winner:r,loser:i,isTied:o,category:l,categoryEmoji:c,currentPlayer:u,setCustomShareText:d})=>{const[h,f]=g.useState(!1),m=async()=>{try{await navigator.clipboard.writeText(t),n("Text copied to clipboard!")}catch(w){console.error("Failed to copy text:",w)}},x=async()=>{try{await navigator.clipboard.writeText(e),n("Link copied to clipboard!")}catch(w){console.error("Failed to copy link:",w)}},y=()=>{f(!0),setTimeout(()=>{Ot({particleCount:100,spread:70,origin:{y:.6}}),n("Results shared successfully!"),f(!1),setTimeout(()=>{s()},1e3)},500)},p=w=>{let j;const S=t.includes("https://sportiq.games")?t:`${t} https://sportiq.games`;switch(w){case"x":j=`https://twitter.com/intent/tweet?text=${encodeURIComponent(S)}`;break;case"facebook":j=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent("https://sportiq.games")}&quote=${encodeURIComponent(t)}`;break;case"whatsapp":j=`https://wa.me/?text=${encodeURIComponent(S)}`;break;default:return}window.open(j,"_blank"),y()};return a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeIn",children:a.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-md animate-scaleIn",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-white",children:["Share Your ",(r==null?void 0:r.username)===(u==null?void 0:u.username)&&!o?"Victory":"Results"]}),a.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-700 text-gray-400 hover:text-white transition-colors",disabled:h,children:a.jsx(Ss,{size:20})})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-4 text-center",children:"Challenge your friends to beat your score!"}),a.jsxs("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 p-4 rounded-lg border border-gray-700 mb-6 relative group",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:"S"}),a.jsx("span",{className:"text-blue-400 font-bold",children:"SportIQ"})]}),a.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("div",{className:"text-white font-bold",children:u==null?void 0:u.username}),a.jsx("div",{className:o?"text-blue-400":(r==null?void 0:r.username)===(u==null?void 0:u.username)?"text-green-400":"text-yellow-400",children:o?"Tied!":(r==null?void 0:r.username)===(u==null?void 0:u.username)?"Winner!":"Challenger"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[a.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[a.jsx("div",{className:"text-xl font-bold text-yellow-400",children:r==null?void 0:r.score}),a.jsx("div",{className:"text-xs text-gray-400",children:r==null?void 0:r.username})]}),a.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[a.jsx("div",{className:"text-xl font-bold text-yellow-400",children:i==null?void 0:i.score}),a.jsx("div",{className:"text-xs text-gray-400",children:i==null?void 0:i.username})]})]}),a.jsxs("div",{className:"text-center mt-2 text-sm text-gray-300",children:[l.charAt(0).toUpperCase()+l.slice(1)," Quiz ",c]})]}),a.jsx("div",{className:`absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 
                        flex items-center justify-center transition-opacity rounded-lg`,children:a.jsx("span",{className:"bg-white/20 backdrop-blur-sm px-3 py-1 rounded text-white text-sm",children:"Preview"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"flex justify-between text-gray-300 text-sm mb-2",children:[a.jsx("span",{children:"Customize your message:"}),a.jsxs("button",{onClick:m,className:"text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[a.jsx(js,{size:14})," Copy"]})]}),a.jsx("textarea",{value:t,onChange:w=>d(w.target.value),className:"w-full p-3 bg-gray-700 rounded-lg text-white text-sm resize-none border border-gray-600 focus:border-blue-500 focus:outline-none",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[a.jsxs("button",{className:`flex items-center justify-center gap-2 p-3 bg-blue-600 
                     hover:bg-blue-700 rounded-lg text-white transition-colors`,onClick:()=>p("x"),disabled:h,children:[h?a.jsx(Mt,{size:18,className:"animate-spin"}):a.jsx(vn,{size:18}),a.jsx("span",{children:"Share to Social"})]}),a.jsxs("button",{className:`flex items-center justify-center gap-2 p-3 bg-green-600 
                     hover:bg-green-700 rounded-lg text-white transition-colors`,onClick:()=>{m(),y()},disabled:h,children:[h?a.jsx(Mt,{size:18,className:"animate-spin"}):a.jsx(hs,{size:18}),a.jsx("span",{children:"Share via Chat"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("button",{onClick:()=>p("x"),className:"p-3 bg-black hover:bg-gray-900 rounded-lg text-white transition-colors flex items-center justify-center",title:"Share on X",disabled:h,children:a.jsx(Dy,{size:20})}),a.jsx("button",{onClick:()=>p("facebook"),className:"p-3 bg-[#4267B2]/90 hover:bg-[#4267B2] rounded-lg text-white transition-colors flex items-center justify-center",title:"Share on Facebook",disabled:h,children:a.jsx(Ac,{size:20})}),a.jsx("button",{onClick:()=>p("whatsapp"),className:"p-3 bg-[#25D366]/90 hover:bg-[#25D366] rounded-lg text-white transition-colors flex items-center justify-center",title:"Share on WhatsApp",disabled:h,children:a.jsx(hs,{size:20})}),a.jsx("button",{onClick:()=>{x(),y()},className:"p-3 bg-gray-600/90 hover:bg-gray-600 rounded-lg text-white transition-colors flex items-center justify-center",title:"Copy link",disabled:h,children:a.jsx(Ec,{size:20})})]})]})})},Uc=Oe.memo(({player:t,isWinner:e,totalQuestions:s,maxPossibleScore:n,playerResponseTimes:r,rematchReady:i})=>{const o=t.score||0;let l=t.correctAnswers;l===void 0&&(l=Math.floor(o/15));const c=s-l,u=o/n*100,d=r.filter(p=>p>0&&p<=15),h=d.length>0?Math.min(...d):0,f=d.length>0?Math.max(...d):0,m=d.length>0?d.reduce((p,w)=>p+w,0)/d.length:0,x=d.reduce((p,w)=>p+w,0),y=Ly(u);return a.jsxs("div",{className:`bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 ${e?"ring-2 ring-yellow-400":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[e&&a.jsx(kc,{className:"w-6 h-6 text-yellow-400"}),a.jsx("h3",{className:"text-xl font-bold text-white",children:t.username}),e&&a.jsx("div",{className:"bg-yellow-400/10 text-yellow-400 px-2 py-1 rounded-full text-xs font-bold",children:"Winner!"}),i&&a.jsx("div",{className:"bg-green-500/10 text-green-400 px-2 py-1 rounded-full text-xs font-bold",children:"Ready for rematch "})]}),a.jsx("div",{className:"text-xl text-gray-300",children:y})]}),a.jsx("div",{className:"bg-gray-700/30 rounded-xl p-4 backdrop-blur-sm mb-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Final Score"}),a.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent",children:o}),a.jsx("div",{className:"mt-2 w-full bg-gray-700 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 transition-all duration-1000",style:{width:`${o/n*100}%`}})}),a.jsxs("div",{className:"text-gray-400 text-sm mt-1",children:["Max: ",n]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Accuracy"}),a.jsxs("div",{className:"text-3xl font-bold text-green-400",children:[u.toFixed(1),"%"]}),a.jsx("div",{className:"mt-2 w-full bg-gray-700 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-1000",style:{width:`${Math.min(u,100)}%`}})})]})]})}),a.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-4 backdrop-blur-sm mb-4",children:[a.jsxs("h3",{className:"text-lg text-white mb-3 flex items-center gap-2",children:[a.jsx(xn,{className:"w-5 h-5 text-green-400"}),"Answer Distribution"]}),a.jsx(Bc,{correctAnswers:l,incorrectAnswers:c,totalQuestions:s})]}),a.jsxs("div",{className:"bg-gray-700/30 rounded-xl p-4 backdrop-blur-sm",children:[a.jsxs("h3",{className:"text-lg text-white mb-3 flex items-center gap-2",children:[a.jsx(yi,{className:"w-5 h-5 text-yellow-400"}),"Response Times"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Fastest Response"}),a.jsxs("span",{className:"text-green-400 font-bold",children:[h.toFixed(2),"s"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Slowest Response"}),a.jsxs("span",{className:"text-yellow-400 font-bold",children:[f.toFixed(2),"s"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Average Response"}),a.jsxs("span",{className:"text-blue-400 font-bold",children:[m.toFixed(2),"s"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Total Response Time"}),a.jsxs("span",{className:"text-purple-400 font-bold",children:[x.toFixed(2),"s"]})]})]})]})]})});Uc.displayName="PlayerStats";const qc=Oe.memo(({onPlayAgain:t,onHome:e,onShare:s,rematchRequested:n,onRematch:r,onCancelRematch:i})=>a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n?a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 rounded-t-xl bg-gray-700 text-white",children:[a.jsx(Mt,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Waiting for opponent..."})]}),a.jsx("button",{onClick:i,className:"p-2 rounded-b-xl bg-red-600 hover:bg-red-700 text-white text-sm font-medium transition-colors",children:"Cancel Request"})]}):a.jsxs("button",{onClick:r,className:`flex items-center justify-center gap-2 p-4 rounded-xl bg-green-600 
                 hover:bg-green-700 text-white font-semibold transition-all transform 
                 hover:scale-[1.02] active:scale-[0.98] group`,children:[a.jsx(Rc,{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-500"}),"Play Again"]}),a.jsxs("button",{onClick:e,className:`flex items-center justify-center gap-2 p-4 rounded-xl bg-gray-700 
               hover:bg-gray-600 text-white font-semibold transition-all transform 
               hover:scale-[1.02] active:scale-[0.98] group`,children:[a.jsx(yt,{className:"w-5 h-5 group-hover:-translate-y-1 transition-transform"}),"Home"]}),a.jsxs("button",{onClick:s,className:`flex flex-col items-center justify-center p-4 rounded-xl bg-blue-600 
               hover:bg-blue-700 text-white transition-all transform 
               hover:scale-[1.02] active:scale-[0.98] group`,children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(vn,{className:"w-5 h-5 group-hover:rotate-45 transition-transform"}),a.jsx("span",{children:"Challenge Friends"})]}),a.jsx("span",{className:"text-xs text-blue-200 mt-1",children:"Share your results"})]})]}));qc.displayName="ActionButtons";const Vy=({onPlayAgain:t,onHome:e})=>{const{players:s,category:n,questions:r,completionTime:i=0,getCurrentPlayer:o,getPlayerResponseTimes:l,socket:c,gameId:u}=Bt(),[d,h]=g.useState(!1),[f,m]=g.useState(null),[x,y]=g.useState(!1),[p,w]=g.useState(null),j=o(),S=Oy[n],P=r.length*15,C=Oe.useMemo(()=>[...s].sort((J,b)=>b.score-J.score),[s]),k=C[0],R=C[1],A=(k==null?void 0:k.score)===(R==null?void 0:R.score),W=g.useCallback(J=>l(J),[l]),K=()=>A?`Epic battle! I just tied ${k==null?void 0:k.score}-${R==null?void 0:R.score} with ${(k==null?void 0:k.username)===(j==null?void 0:j.username)?R==null?void 0:R.username:k==null?void 0:k.username} in a ${n} quiz on SportIQ! Can you break our tie?  #SportIQ https://sportiq.games`:(k==null?void 0:k.username)===(j==null?void 0:j.username)?`Just beat ${R==null?void 0:R.username} ${k==null?void 0:k.score}-${R==null?void 0:R.score} in a ${n} quiz on SportIQ! Think you can defeat me?  #SportIQ https://sportiq.games`:`Just had an intense ${n} quiz battle on SportIQ! I scored ${R==null?void 0:R.score} against ${k==null?void 0:k.username}'s ${k==null?void 0:k.score}. Help me get my revenge!  #SportIQ https://sportiq.games`,[le,he]=g.useState(K()),we=le,ne="https://sportiq.games";g.useState(!1);const Z=()=>{if(!c||!j||!u)return;y(!0),console.log("Requesting rematch",{gameId:u,playerId:j.id}),c.emit("requestRematch",{gameId:u,playerId:j.id});const J=setTimeout(()=>{y(!1),m("Opponent didn't respond to rematch request")},3e4);w(J)},U=()=>{y(!1),p&&(clearTimeout(p),w(null))};g.useEffect(()=>{if(!c)return;const J=v=>{console.log("Rematch requested by player:",v.playerId)},b=()=>{console.log("Both players ready for rematch, redirecting to lobby"),p&&(clearTimeout(p),w(null)),window.dispatchEvent(new CustomEvent("sportiq:returnToLobby"))};return c.on("rematchRequested",J),c.on("goToLobby",b),()=>{c.off("rematchRequested",J),c.off("goToLobby",b)}},[c,p]);const H=J=>{m(J),setTimeout(()=>m(null),3e3)},Y=g.useCallback(()=>{h(!0),he(K())},[K]);return g.useEffect(()=>{if(!A&&k){const b=Date.now()+3e3,v={startVelocity:30,spread:360,ticks:60,zIndex:0},T=(M,$)=>Math.random()*($-M)+M,N=setInterval(()=>{const M=b-Date.now();if(M<=0)return clearInterval(N);const $=50*(M/3e3);Ot({...v,particleCount:$,origin:{x:T(.1,.3),y:Math.random()-.2}}),Ot({...v,particleCount:$,origin:{x:T(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(N)}},[A,k]),g.useEffect(()=>()=>{p&&clearTimeout(p)},[p]),C.length?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-gray-900 to-gray-800",children:[a.jsxs("div",{className:"w-full max-w-3xl bg-gray-800/50 backdrop-blur-lg rounded-2xl p-8 shadow-xl border border-gray-700/50",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx(tt,{className:"w-24 h-24 text-yellow-400 animate-bounce filter drop-shadow-lg"}),a.jsx("span",{className:"absolute top-12 right-0 text-4xl animate-pulse",children:S}),a.jsx("div",{className:"absolute inset-0 bg-yellow-400/20 blur-xl rounded-full"})]}),a.jsx("h2",{className:"text-4xl font-bold text-white mt-6 mb-2",children:"Match Complete!"}),A?a.jsx("p",{className:"text-2xl text-blue-400 font-bold mb-2",children:"It's a tie! "}):a.jsxs("p",{className:"text-2xl text-green-400 font-bold mb-2",children:[k==null?void 0:k.username," wins! "]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[a.jsx(Mc,{className:"w-4 h-4"}),a.jsxs("span",{children:["Match duration: ",i.toFixed(1),"s"]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:C.map((J,b)=>a.jsx(Uc,{player:J,isWinner:b===0&&!A,totalQuestions:r.length,maxPossibleScore:P,playerResponseTimes:W(J.id),rematchReady:J.rematchReady},J.id))}),a.jsx(qc,{onPlayAgain:t,onHome:e,onShare:Y,rematchRequested:x,onRematch:Z,onCancelRematch:U}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-gray-400 text-sm",children:"Share your results with friends! "})})]}),d&&a.jsx(Fy,{shareText:we,shareUrl:ne,onClose:()=>h(!1),onShowToast:H,winner:k,loser:R,isTied:A,category:n,categoryEmoji:S,currentPlayer:j,setCustomShareText:he}),a.jsx(Me,{children:f&&a.jsx($y,{message:f,onClose:()=>m(null)})}),a.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes scaleIn {
          from { transform: scale(0.95); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        
        .animate-scaleIn {
          animation: scaleIn 0.3s ease-out;
        }
        
        /* Almarena-like font styling */
        .sport-share-text {
          font-family: "Almarena Neue", "Montserrat", "Segoe UI", sans-serif;
          font-weight: 700;
          letter-spacing: -0.02em;
          font-size: 1.1rem;
          line-height: 1.4;
          text-transform: none;
        }
      `})]}):a.jsx("div",{className:"text-white text-center p-8",children:"Loading results..."})},By=({onJoinSuccess:t,onBackToMode:e,selectedCategory:s="mixed"})=>{const[n,r]=g.useState(()=>localStorage.getItem("showJoinUI")==="true"?(localStorage.removeItem("showJoinUI"),!0):!1),[i,o]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(!1),[h,f]=g.useState(!1),{gameId:m,joinGame:x,socket:y,players:p,getCurrentPlayer:w,hasJoinedGame:j,resetGame:S,createGame:P}=Bt(),C=localStorage.getItem("username")||"",k=w();k==null||k.isHost;const[R,A]=g.useState({isOpen:!1,type:null});g.useEffect(()=>{(async()=>{if(!n&&!j&&!h&&!m&&s)try{f(!0),console.log("Automatically creating game with category:",s),await P(s),f(!1)}catch(H){console.error("Failed to create game:",H),f(!1)}})()},[j,m,s,P,h,n]);const W=()=>{t()};g.useEffect(()=>{if(!y)return;const U=Y=>{c(Y.message)},H=Y=>{Y.players.some(b=>b.id===y.id)&&(console.log("Game updated and player is in the game, triggering success callback"),setTimeout(()=>{t()},100))};return y.on("error",U),y.on("gameUpdated",H),()=>{y.off("error",U),y.off("gameUpdated",H)}},[y,t]);const K=async()=>{if(m)try{await navigator.clipboard.writeText(m),d(!0),setTimeout(()=>d(!1),2e3)}catch(U){console.error("Failed to copy code:",U),c("Failed to copy code to clipboard")}},le=()=>{if(c(""),!i.trim()){c("Please enter a game code");return}try{console.log("Attempting to join game:",i),x(i,C).then(()=>{console.log("Successfully joined game:",i)}).catch(U=>{console.error("Error joining game:",U),c(U.message||"Failed to join game")})}catch(U){console.error("Exception joining game:",U),c("An error occurred while joining the game")}},he=()=>{A({isOpen:!0,type:"mode"})},we=()=>{localStorage.setItem("goToCategory","true"),S(),e&&e()},ne=()=>{S(),e&&e(),A({isOpen:!1,type:null})},Z=U=>{if(!U)return"";switch(U){case"football":return" ";case"basketball":return" ";case"tennis":return" ";case"olympics":return" ";case"mixed":default:return" "}};return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-[#1a1a1a]",children:[a.jsx(vi,{isOpen:R.isOpen,onConfirm:ne,onCancel:()=>A({isOpen:!1,type:null}),title:"Go Back?",message:"Are you sure you want to go back to mode selection? Any game setup in progress will be lost.",confirmText:ve.MODES,cancelText:"Stay Here"}),a.jsx("div",{className:"fixed bottom-6 left-6 z-50",children:e&&a.jsx(qe,{icon:yt,label:ve.MODES,onClick:he})}),a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-4",children:n?"Join Game ":"Create Game "}),s&&!n&&a.jsx("div",{className:"text-center mb-6",children:a.jsxs("span",{className:"px-4 py-2 bg-gray-800 rounded-full text-blue-400 text-sm inline-block",children:[`Category: ${s.charAt(0).toUpperCase()+s.slice(1)}`,Z(s)]})}),n?a.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Enter game code"}),a.jsx("input",{type:"text",value:i,onChange:U=>{o(U.target.value),c("")},placeholder:"Enter code",className:`w-full p-3 rounded-lg bg-gray-700 text-white font-mono text-lg 
                         border-2 ${l?"border-red-500":"border-transparent"} 
                         focus:border-green-500 focus:outline-none`,maxLength:6}),l&&a.jsxs("div",{className:"mt-2 text-red-500 text-sm flex items-center gap-2",children:[a.jsx(Q0,{size:16}),l]})]}),a.jsx("div",{className:"flex justify-end items-center",children:a.jsxs("button",{onClick:le,className:`px-6 py-3 rounded-lg bg-green-600 hover:bg-green-700 text-white 
                         transition-colors flex items-center gap-2`,children:[a.jsx(Oc,{size:20}),"Join Game"]})})]}):a.jsx("div",{className:"bg-gray-800 rounded-lg p-6 shadow-xl",children:h?a.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500 mb-4"}),a.jsx("p",{className:"text-gray-300",children:"Creating game..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Share this code with your friend"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,readOnly:!0,className:"flex-1 p-3 rounded-lg bg-gray-700 text-white font-mono text-lg select-all"}),a.jsxs("button",{onClick:K,disabled:!m,className:`p-3 rounded-lg ${u?"bg-green-600":"bg-blue-600 hover:bg-blue-700"} text-white transition-colors relative group ${m?"":"opacity-50 cursor-not-allowed"}`,title:"Copy code",children:[a.jsx(js,{size:24}),a.jsx("span",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:u?"Copied!":"Copy code"})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:we,className:`px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white 
                             transition-colors flex items-center gap-2`,children:[a.jsx(ws,{size:18}),"Change Category"]}),a.jsxs("button",{onClick:W,disabled:!m,className:`px-6 py-3 rounded-lg bg-green-600 hover:bg-green-700 text-white 
                              transition-colors flex items-center gap-2 group ${m?"":"opacity-50 cursor-not-allowed"}`,children:["Continue to Lobby",a.jsx(X0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]})})]})]})},Qn="G-K3CZGYNSLS",bn=()=>(g.useEffect(()=>{if(typeof window.gtag!="function"){let s=function(...n){window.dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[],window.gtag=s,s("js",new Date),s("config",Qn,{send_page_view:!0,cookie_domain:"auto",anonymize_ip:!0})}},[]),{trackEvent:(s,n)=>{typeof window.gtag=="function"&&window.gtag("event",s,{...n,send_to:Qn})},trackPageView:(s,n)=>{typeof window.gtag=="function"&&window.gtag("event","page_view",{page_path:s,page_title:n,send_to:Qn})}}),Uy=[{id:"faq-1",question:"How do I play SportIQ?",answer:"SportIQ offers two main game modes: Solo Play and 1v1 Multiplayer. In Solo Play, you can practice at your own pace by answering sports trivia questions. In 1v1 mode, you can challenge a friend by creating a game and sharing the invite code, or join an existing game with an invite code."},{id:"faq-2",question:"What sports categories are available in SportIQ?",answer:"SportIQ currently offers questions in five categories: Football , Basketball , Tennis , Olympics , and Mixed Sports . Each category features challenging trivia questions to test your knowledge."},{id:"faq-3",question:"How does scoring work in SportIQ?",answer:"In SportIQ, you earn 10 points for each correct answer. Additionally, you can earn up to 5 bonus points based on how quickly you answer. The faster you respond, the higher your bonus will be, with tiers including Lightning Fast (5 points), Quick (4 points), Normal (3 points), Measured (2 points), and Delayed (1 point)."},{id:"faq-4",question:"Is SportIQ free to play?",answer:"Yes, SportIQ is completely free to play. You can enjoy all game modes and features without any cost or in-app purchases."},{id:"faq-5",question:"Can I play SportIQ on my mobile device?",answer:"Yes, SportIQ is fully responsive and works on all modern devices including smartphones, tablets, and desktops. Simply visit sportiq.games in your mobile browser to start playing."},{id:"faq-6",question:"How do I challenge a friend to a 1v1 match?",answer:"To challenge a friend, select the 'Create 1v1 Game' mode, choose a category, and you'll receive a unique invite code. Share this code with your friend who can then use it to join your game through the 'Join 1v1 Game' option."},{id:"faq-7",question:"Are new questions added regularly?",answer:"Yes, we regularly update SportIQ with new trivia questions across all categories to keep the game fresh and challenging for returning players."},{id:"faq-8",question:"How can I share my results?",answer:"After completing a quiz, you'll see your results with detailed statistics. You can share your score on social media or via messaging apps directly from the results screen to challenge your friends to beat your score!"},{id:"faq-9",question:"What happens if I lose connection during a game?",answer:"In Solo mode, your progress is saved locally, and you can continue where you left off. In 1v1 mode, if you lose connection temporarily, the system will try to reconnect you automatically. If the disconnection persists for too long, you may need to rejoin the game."},{id:"faq-10",question:"How are the questions selected?",answer:"Questions are randomly selected from our database based on your chosen category. In the Mixed Sports category, questions are pulled from all sports categories to provide a varied challenge. Our system ensures you get a different set of questions each time you play."}],qy={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},$s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}},zy=()=>{const t=Ar(),[e,s]=Oe.useState(null),{trackPageView:n}=bn();g.useEffect(()=>{document.title="FAQ - SportIQ - Sports Trivia Quiz Game",n("/faq","FAQ Page")},[n]);const r=o=>{s(e===o?null:o)},i=()=>{t("/")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0c1220] to-[#1a1a2e] py-16 px-4",children:[a.jsx("div",{className:"fixed bottom-6 left-6 z-10",children:a.jsx(qe,{icon:yt,label:ve.HOME,onClick:i})}),a.jsxs(_.div,{className:"max-w-3xl mx-auto",initial:"hidden",animate:"visible",variants:qy,children:[a.jsxs(_.div,{className:"text-center mb-12",variants:$s,children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(Cr,{size:32,className:"text-blue-400"}),a.jsx("h1",{className:"text-4xl font-bold text-white",children:"Frequently Asked Questions"})]}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Find answers to common questions about SportIQ, the ultimate sports trivia quiz game."}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-24 bg-gradient-to-r from-blue-500 to-green-500 rounded-full"})]}),a.jsx("div",{className:"space-y-4",children:Uy.map(o=>a.jsxs(_.div,{variants:$s,className:"bg-gray-800/80 backdrop-blur-sm rounded-xl overflow-hidden border border-gray-700/50",children:[a.jsxs("button",{onClick:()=>r(o.id),className:"w-full px-6 py-4 text-left flex justify-between items-center focus:outline-none",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:o.question}),a.jsx(_.div,{animate:{rotate:e===o.id?180:0},transition:{duration:.3},className:"flex-shrink-0 text-blue-400",children:e===o.id?a.jsx(gi,{size:20}):a.jsx(pi,{size:20})})]}),a.jsx(_.div,{initial:{height:0,opacity:0},animate:{height:e===o.id?"auto":0,opacity:e===o.id?1:0},transition:{duration:.3},className:"overflow-hidden",children:a.jsxs("div",{className:"px-6 pb-4 text-gray-300",children:[a.jsx("div",{className:"pt-2 border-t border-gray-700/50"}),a.jsx("p",{className:"mt-2",children:o.answer})]})})]},o.id))}),a.jsx(_.div,{variants:$s,className:"text-center mt-12 text-gray-400",children:a.jsxs("p",{children:["Don't see your question here? ",a.jsx("a",{href:"mailto:support@sportiq.games",className:"text-blue-400 hover:text-blue-300 underline",children:"Contact us"})," for more information."]})}),a.jsx(_.div,{variants:$s,className:"text-center mt-8 text-xs text-gray-500",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," SportIQ - v2.0.14 - The Ultimate Sports Trivia Challenge"]})})]})]})},ua={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Gt={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}},Gy={hidden:{scale:.9,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:300,damping:24}},hover:{y:-5,boxShadow:"0 10px 25px -5px rgba(59, 130, 246, 0.25)",transition:{type:"spring",stiffness:400,damping:10}}},Hy=()=>{const t=Ar(),{trackPageView:e}=bn();g.useEffect(()=>{document.title="About SportIQ - The Ultimate Sports Trivia Game",e("/about","About Page")},[e]);const s=()=>{t("/")},n=[{id:"feature-1",title:"Multiple Categories",description:"Test your knowledge across Football, Basketball, Tennis, Olympics, and Mixed Sports categories.",icon:Z0,color:"bg-green-600/20 text-green-400 border-green-600/30"},{id:"feature-2",title:"Solo Play",description:"Practice at your own pace to improve your sports knowledge and response time.",icon:tt,color:"bg-yellow-600/20 text-yellow-400 border-yellow-600/30"},{id:"feature-3",title:"1v1 Battles",description:"Challenge friends to real-time quiz battles with shareable game codes.",icon:Zs,color:"bg-blue-600/20 text-blue-400 border-blue-600/30"},{id:"feature-4",title:"Speed Bonuses",description:"Earn extra points for quick answers with our tiered bonus system.",icon:yi,color:"bg-purple-600/20 text-purple-400 border-purple-600/30"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0c1220] to-[#1a1a2e] py-16 px-4",children:[a.jsx("div",{className:"fixed bottom-6 left-6 z-10",children:a.jsx(qe,{icon:yt,label:ve.HOME,onClick:s})}),a.jsxs(_.div,{className:"max-w-4xl mx-auto",initial:"hidden",animate:"visible",variants:ua,children:[a.jsxs(_.div,{className:"text-center mb-12",variants:Gt,children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(kt,{size:32,className:"text-blue-400"}),a.jsx("h1",{className:"text-4xl font-bold text-white",children:"About SportIQ"})]}),a.jsx("p",{className:"text-gray-400 text-lg",children:"The ultimate sports trivia experience for casual fans and sports experts alike."}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-24 bg-gradient-to-r from-blue-500 to-green-500 rounded-full"})]}),a.jsxs(_.div,{variants:Gt,className:"bg-gray-800/80 backdrop-blur-sm rounded-xl p-6 md:p-8 border border-gray-700/50 mb-10",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"What is SportIQ?"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"SportIQ is a web-based sports trivia game designed to test and expand your knowledge of various sports. Whether you're a casual fan or a die-hard sports enthusiast, SportIQ offers an engaging way to challenge yourself and compete with friends."}),a.jsx("p",{className:"text-gray-300 mb-6",children:"This project was created out of a passion for both sports and web development. The goal was to build something fun that brings together sports fans and offers a chance to learn new facts about favorite sports while enjoying friendly competition."}),a.jsx("p",{className:"text-gray-300",children:"SportIQ features categories including Football , Basketball , Tennis , Olympics , and Mixed Sports , with challenging questions that will test even the most knowledgeable sports fans."})]}),a.jsx(_.h2,{variants:Gt,className:"text-2xl font-bold text-white mb-6 text-center",children:"Key Features"}),a.jsx(_.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",variants:ua,children:n.map(r=>a.jsxs(_.div,{variants:Gy,whileHover:"hover",className:`p-6 rounded-xl ${r.color} border backdrop-blur-sm flex flex-col items-center text-center`,children:[a.jsx(_.div,{className:"p-3 rounded-full bg-gray-900/50 mb-4",whileHover:{rotate:360},transition:{duration:.8},children:a.jsx(r.icon,{size:28})}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:r.title}),a.jsx("p",{className:"text-gray-300",children:r.description})]},r.id))}),a.jsxs(_.div,{variants:Gt,className:"bg-gray-800/80 backdrop-blur-sm rounded-xl p-6 md:p-8 border border-gray-700/50 mb-10 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Get in Touch"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Have suggestions for new features or categories? Found a bug or an incorrect question? I'd love to hear your feedback to help improve SportIQ!"}),a.jsx("a",{href:"mailto:feedback@sportiq.games",className:"inline-block mt-4 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:"Send Feedback"})]}),a.jsxs(_.div,{variants:Gt,className:"text-center mt-12 text-xs text-gray-500",children:[a.jsxs("p",{children:[" ",new Date().getFullYear()," SportIQ - v2.0.14"]}),a.jsx("p",{className:"mt-1",children:"A hobby project created with passion for sports and web development."})]})]})]})},Wy=({currentView:t,additionalParams:e={}})=>{const s=ms(),{trackPageView:n,trackEvent:r}=bn();return g.useEffect(()=>{n(s.pathname)},[s,n]),g.useEffect(()=>{if(t){const i=t.charAt(0).toUpperCase()+t.slice(1);n(`/view/${t}`,`${i} View`),r("view_screen",{screen_name:t,...e}),console.log(`Tracked virtual pageview: ${t}`,e)}},[t,e,n,r]),null};function Ky(){var b,v;const[t,e]=g.useState("home"),[s,n]=g.useState("solo"),[r,i]=g.useState(!1),[o,l]=g.useState(null),{trackEvent:c}=bn(),{initializeGame:u,addPlayer:d,setCategory:h,isGameStarted:f,isGameEnded:m,resetGame:x,players:y}=xi(),{initializeGame:p,createGame:w,isGameStarted:j,isGameEnded:S,resetGame:P,setCategory:C,players:k,getCurrentPlayer:R,socket:A,hasJoinedGame:W,requestRematch:K}=Bt(),le=T=>{c("home_start",{username:T}),localStorage.setItem("username",T),x(),P(),e("welcome")},he=async(T,N)=>{try{c("mode_select",{mode:N,username:T}),n(N==="solo"?"solo":"1v1"),N==="solo"?(x(),await u("solo"),d(T),e("category")):N==="create"?(P(),await p(),e("category")):N==="join"&&(P(),await p(),localStorage.setItem("showJoinUI","true"),e("invite"),c("join_game_attempt",{mode:"1v1"}))}catch(M){console.error("Error starting game:",M),c("game_start_error",{mode:N,error:M instanceof Error?M.message:"Unknown error"})}},we=async()=>{const T=localStorage.getItem("username")||"Guest";c("play_again",{mode:s,category:o}),Qa(),s==="solo"?(x(),u(s),d(T),e("category")):console.log("1v1 rematch is handled directly by the rematch system")},ne=()=>{c("invite_success",{mode:"1v1",category:o}),e("lobby")},Z=async T=>{if(r){console.log("Category selection already in progress, ignoring");return}try{if(i(!0),console.log(`App handling category selection: ${T} for mode: ${s}`),c("category_select",{mode:s,category:T}),s==="solo")try{e("loading"),await h(T)}catch(N){console.error("Error setting solo category:",N),c("category_select_error",{mode:"solo",category:T,error:N instanceof Error?N.message:"Unknown error"}),e("category")}else l(T),W?(console.log("Already joined game, updating category"),C(T),e("lobby")):(console.log("Selected category for new game:",T),e("invite"))}finally{setTimeout(()=>{i(!1)},1e3)}},U=()=>{c("navigation",{action:"return_to_mode_select",from_state:t});const T=localStorage.getItem("goToCategory")==="true";localStorage.removeItem("goToCategory"),x(),P(),l(null),T?(console.log("Redirecting to category selection from invite screen"),e("category")):e("welcome")},H=()=>{if(c("navigation",{action:"back_to_category",from_state:t,mode:s}),s==="solo")e("category");else{const T=R();T&&T.isHost?e("category"):e("lobby")}};g.useEffect(()=>{const T=()=>{console.log("Custom game started event received, forcing transition to game"),t==="lobby"&&(e("game"),c("game_started",{mode:"1v1",category:o,players_count:k.length}))};return window.addEventListener("sportiq:gameStarted",T),()=>{window.removeEventListener("sportiq:gameStarted",T)}},[t,c,k.length,o]),g.useEffect(()=>{const T=()=>{console.log("Custom returnToLobby event received, navigating to lobby"),e("lobby"),c("rematch_accepted",{mode:"1v1",category:o})};return window.addEventListener("sportiq:returnToLobby",T),()=>{window.removeEventListener("sportiq:returnToLobby",T)}},[c,o]),g.useEffect(()=>{t==="loading"&&(s==="solo"&&f||s==="1v1"&&j)&&(console.log("Game started while in loading screen, transitioning to game screen"),e("game"),c("game_started",{mode:s,category:o,from_loading:!0}))},[f,j,s,t,c,o]),g.useEffect(()=>{t==="lobby"&&s==="1v1"&&j&&!S&&(console.log("1v1 game started while in lobby state, transitioning to game screen"),e("game"),c("game_started",{mode:"1v1",category:o,from_lobby:!0,players_count:k.length}))},[j,S,s,t,c,o,k.length]),g.useEffect(()=>{if(s==="solo"&&m){console.log("Solo game ended, transitioning to results screen"),e("results");const T=y[0];c("game_completed",{mode:"solo",category:o,score:(T==null?void 0:T.score)||0,correct_answers:(T==null?void 0:T.correctAnswers)||0,total_questions:10})}else if(s==="1v1"&&S){console.log("1v1 game ended, transitioning to results screen"),e("results");const T=R(),N=k.find(M=>M.id!==(T==null?void 0:T.id));c("game_completed",{mode:"1v1",category:o,player_score:(T==null?void 0:T.score)||0,opponent_score:(N==null?void 0:N.score)||0,correct_answers:(T==null?void 0:T.correctAnswers)||0,is_winner:(T==null?void 0:T.score)>((N==null?void 0:N.score)||0),total_questions:10})}},[m,S,s,c,o,y,k,R]),g.useEffect(()=>{if(A&&s==="1v1"){const T=N=>{console.log("Game over event received in App.tsx:",N),e("results"),setTimeout(()=>{t!=="results"&&S&&(console.log("Forcing transition to results screen"),e("results"))},1e3)};return A.on("gameOver",T),()=>{A.off("gameOver",T)}}},[A,s,S,t]),g.useEffect(()=>{if(s==="1v1"&&S&&t!=="results"){console.log("Game ended but UI not in results state, forcing transition");const T=setTimeout(()=>{e("results")},500);return()=>clearTimeout(T)}},[s,S,t]),g.useEffect(()=>{var T;console.log("Current game state:",{mode:s,state:t,isSoloGameStarted:f,isSoloGameEnded:m,is1v1GameStarted:j,is1v1GameEnded:S,soloPlayersCount:y.length,multiPlayersCount:k.length,hasJoinedGame:W,categorySelectionInProgress:r,selectedCategory:o,isHost:(T=R())==null?void 0:T.isHost,goToCategory:localStorage.getItem("goToCategory")})},[t,s,f,m,j,S,y.length,k.length,W,r,o,R]);const Y=()=>{const T=R();T&&(c("rematch_requested",{mode:"1v1",category:o,player_id:T.id}),K(T.id))},J={mode:s,category:o||"none",players_solo:y.length,players_multi:k.length,is_host:((b=R())==null?void 0:b.isHost)||!1,game_state:{solo_started:f,solo_ended:m,multi_started:j,multi_ended:S}};return a.jsx(jf,{children:a.jsxs(Yu,{children:[a.jsx(Wy,{currentView:t,additionalParams:J}),a.jsxs(zu,{children:[a.jsx(Fs,{path:"/faq",element:a.jsx(zy,{})}),a.jsx(Fs,{path:"/about",element:a.jsx(Hy,{})}),a.jsx(Fs,{path:"*",element:a.jsxs("div",{className:"min-h-screen bg-[#1a1a1a]",children:[t==="home"&&a.jsx(gy,{onStart:le}),t==="welcome"&&a.jsx(vy,{onStart:he}),t==="invite"&&a.jsx(By,{onJoinSuccess:ne,onBackToMode:U,selectedCategory:o}),t==="category"&&a.jsx(Ty,{onSelect:Z,mode:s,onBack:U}),t==="loading"&&a.jsx("div",{className:"min-h-screen bg-background p-4 flex items-center justify-center",children:a.jsxs("div",{className:"text-white text-center p-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Loading Quiz..."}),a.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-2 bg-green-500 rounded-full animate-pulse w-1/2"})})]})}),t==="lobby"&&s==="1v1"&&a.jsx(Cy,{onBackToCategory:H,onBackToMode:U}),t==="game"&&a.jsx(Ay,{mode:s,onBackToCategory:H,onBackToMode:U},`game-${s}-${((v=y[0])==null?void 0:v.id)||"solo"}`),t==="results"&&(s==="solo"?a.jsx(Vc,{onPlayAgain:we,onHome:U}):a.jsx(Vy,{onPlayAgain:Y,onHome:U}))]})})]})]})})}const zc=document.getElementById("root");if(!zc)throw new Error("Failed to find the root element");const Jy=ma(zc);Jy.render(a.jsx(Oe.StrictMode,{children:a.jsx(Ky,{})}))});export default Qy();
